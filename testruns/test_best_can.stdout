processing data for fields=('src', 'kbsrc')
processed data for fields=('src', 'kbsrc') with [('src', 208721), ('kbsrc', 6276)] Attribute Errors per field


rearranging vocabulary to put all strings starting with '@' after self.canonical_onwards in itos             (at the end of vocab) ...
took some canonical @tokens from vocab, correcting self.stoi now
reappending the canonical tokens at end now ...
done vocabulary setup, returning 

processing data for fields=('trg', 'kbtrg')
processed data for fields=('trg', 'kbtrg') with [('trg', 208721), ('kbtrg', 6276)] Attribute Errors per field


rearranging vocabulary to put all strings starting with '@' after self.canonical_onwards in itos             (at the end of vocab) ...
took some canonical @tokens from vocab, correcting self.stoi now
reappending the canonical tokens at end now ...
done vocabulary setup, returning 

Added true value lines as tokens to trv_vocab of length=1835
Made entity classification for seq up to here:
                    ['your', 'meeting'];
candidates are:
                    [(['meeting'], '@event')];
partial matches are:
                    [];
choice is:
                    (['meeting'], '@event');
r is:
['your', '@event']
Made entity classification for seq up to here:
                    ['your', 'meeting', 'in', 'conference', 'room', '100', 'is'];
candidates are:
                    [(['conference'], '@event'), (['conference', 'room', '100'], '@room')];
partial matches are:
                    [(['conference', 'room', '102'], '@room', 2), (['conference', 'room', '50'], '@room', 2)];
choice is:
                    (['conference', 'room', '100'], '@room');
r is:
['your', '@event', 'in', '@room']
Made entity classification for seq up to here:
                    ['your', 'meeting', 'in', 'conference', 'room', '100', 'is', 'with', 'martha'];
candidates are:
                    [(['martha'], '@party')];
partial matches are:
                    [];
choice is:
                    (['martha'], '@party');
r is:
['your', '@event', 'in', '@room', 'is', 'with', '@party']

========================================
	Finished up Sequence
['your', 'meeting', 'in', 'conference', 'room', '100', 'is', 'with', 'martha']
and transformed it to
['your', '@event', 'in', '@room', 'is', 'with', '@party']
========================================

(['your', '@event', 'in', '@room', 'is', 'with', '@party'], [0, 1, 2, 3, 3, 3, 4, 5, 6], [('@event', ['your', 'meeting', 'in']), ('@room', ['conference', 'room', '100', 'is', 'with']), ('@party', ['with', 'martha'])])

---------- ENTER VALIDATION ----------

['what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event', 'room', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 0
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later'];
candidates are:
                    [(['conference'], '@event'), (['conference', 'room', '100'], '@room')];
partial matches are:
                    [(['conference', 'room', '102'], '@room', 2), (['conference', 'room', '50'], '@room', 2)];
choice is:
                    (['conference', 'room', '100'], '@room');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room']
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting'];
candidates are:
                    [(['meeting'], '@event')];
partial matches are:
                    [];
choice is:
                    (['meeting'], '@event');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event']

========================================
	Finished up Sequence
['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting']
and transformed it to
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event']
========================================


minibatch.kb length: 2
minibatch.kb:
[(['meeting', '<pad>', 'room'], ['@room'], ['conference room 100']),
 (['meeting', '<pad>', 'event'], ['@event'], ['meeting'])]

minibatch.src/trg: (['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting'], ['what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event', 'room', '?'])

batch_with_kb: current, kb_len, current+kb_len:  0 0 0

corresponding_kb: 0

example number: 0

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[0]): []
['i', 'have', 'made', 'an', 'appointment', 'for', '@date', 'at', '@time', 'for', 'the', '@event', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 0
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later'];
candidates are:
                    [(['conference'], '@event'), (['conference', 'room', '100'], '@room')];
partial matches are:
                    [(['conference', 'room', '102'], '@room', 2), (['conference', 'room', '50'], '@room', 2)];
choice is:
                    (['conference', 'room', '100'], '@room');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room']
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting'];
candidates are:
                    [(['meeting'], '@event')];
partial matches are:
                    [];
choice is:
                    (['meeting'], '@event');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event']
Warning: Omitting possible match ['the', '1st']; only matched with first token!
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the'];
candidates are:
                    [];
partial matches are:
                    [(['the', '1st'], '@date', 1), (['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '5th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '12th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '1st'], '@date');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the']
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', 'conference', 'room'];
candidates are:
                    [(['conference'], '@event')];
partial matches are:
                    [(['conference', 'room', '100'], '@room', 2), (['conference', 'room', '102'], '@room', 2), (['conference', 'room', '50'], '@room', 2)];
choice is:
                    (['conference'], '@event');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event']
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', 'conference', 'room', '?', '@dot', 'monday'];
candidates are:
                    [(['monday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['monday'], '@date');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event', 'room', '?', '@dot', '@date']
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', 'conference', 'room', '?', '@dot', 'monday', 'at', '3pm'];
candidates are:
                    [(['3pm'], '@time')];
partial matches are:
                    [];
choice is:
                    (['3pm'], '@time');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event', 'room', '?', '@dot', '@date', 'at', '@time']

========================================
	Finished up Sequence
['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', 'conference', 'room', '?', '@dot', 'monday', 'at', '3pm', '.']
and transformed it to
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event', 'room', '?', '@dot', '@date', 'at', '@time', '.']
========================================


minibatch.kb length: 4
minibatch.kb:
[(['meeting', '<pad>', 'room'], ['@room'], ['conference room 100']),
 (['meeting', '<pad>', 'event'], ['@event'], ['meeting']),
 (['meeting', '<pad>', 'date'], ['@date'], ['monday']),
 (['meeting', '<pad>', 'time'], ['@time'], ['3pm'])]

minibatch.src/trg: (['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', 'conference', 'room', '?', '@dot', 'monday', 'at', '3pm', '.'], ['i', 'have', 'made', 'an', 'appointment', 'for', '@date', 'at', '@time', 'for', 'the', '@event', '.'])

batch_with_kb: current, kb_len, current+kb_len:  0 0 0

corresponding_kb: 0

example number: 1

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[1]): []
matches for unk:                             []
proc_batch: batch.src: ['make', 'an', 'appointment', 'to', '<unk>', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', '<unk>', 'the', 'conference', 'room', '?', '@dot', 'monday', 'at', '3pm', '.']
proc_batch: batch.trg: ['i', 'have', '<unk>', 'an', 'appointment', 'for', '@date', 'at', '@time', 'for', 'the', '@event', '.']
proc_batch: kbkeys: [['meeting', '<pad>', 'room', '<pad>'], ['meeting', '<pad>', 'event', '<pad>'], ['meeting', '<pad>', 'date', '<pad>'], ['meeting', '<pad>', 'time', '<pad>']]
proc_batch: kbvalues: [['@room'], ['@event'], ['@date'], ['@time']]
debug: batch.kbtrv:[['conference room 100'], ['meeting'], ['monday'], ['3pm']]
Time spent on converting arrays to sentences for current batch: 0.0043714046478271484
debug: kb_true_vals :torch.Size([2, 4])
debug: kb_true_vals content:tensor([[1822, 1047, 1134, 1178],
        [1822, 1047, 1134, 1178]], device='cuda:0')
Time spent on kb_true_vals checks: 0.0004172325134277344
[1, 1, 4] 4 [torch.Size([2, 1, 200]), torch.Size([2, 4, 200])] [['room'], ['event'], ['date'], ['time']]
Time spent on knowledgebase attention dimensions == 2: 0.25173282623291016
(13,) [29 77 62 25 37  6 47 15 13  3]
(tensor(-2.9359, device='cuda:0'), tensor([ 29,  77,   5,  20, 966,   9, 955,   4,   3], device='cuda:0')) <class 'tuple'>
(11,) [ 61   7  43  18  47  15  20 966   9 955  11 965   4   3]
(tensor(-2.5050, device='cuda:0'), tensor([ 47,  37,  15, 966,   9, 955,  11, 965,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'time', 'should', 'i', 'set', 'the', 'reminder', 'for', '?'], ['okay', ',', 'setting', 'a', 'reminder', 'for', 'your', '@event', 'on', '@date', 'at', '@time', '.']]
['on', '@date', "it's", 'gonna', '@weather_attribute', 'in', '@location'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 1

minibatch.kb length: 203
minibatch.kb:
[(['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['stormy']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['hail']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['atherton', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['atherton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['atherton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['atherton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['atherton', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['atherton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['atherton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['atherton', '<pad>', 'friday_weather'], ['@weather'], ['dew']),
 (['atherton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['atherton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['atherton', '<pad>', 'wednesday_weather'], ['@weather'], ['blizzard']),
 (['atherton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['atherton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['atherton', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['atherton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['atherton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['atherton', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['atherton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['atherton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['atherton', '<pad>', 'location'], ['@location'], ['atherton']),
 (['atherton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['atherton', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['atherton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['humid']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['danville', '<pad>', 'monday_weather'], ['@weather'], ['dew']),
 (['danville', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['danville', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['danville', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['danville', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['danville', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['danville', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['danville', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['danville', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['danville', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['danville', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['danville', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['danville', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['danville', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['danville', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['danville', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['danville', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['danville', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['danville', '<pad>', 'location'], ['@location'], ['danville']),
 (['danville', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['danville', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['danville', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['new', 'york', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['new', 'york', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['new', 'york', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['new', 'york', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['new', 'york', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['new', 'york', '<pad>', 'tuesday_weather'], ['@weather'], ['misty']),
 (['new', 'york', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['new', 'york', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['new', 'york', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['new', 'york', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['new', 'york', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['new', 'york', '<pad>', 'wednesday_weather'], ['@weather'], ['dew']),
 (['new', 'york', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['new', 'york', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['new', 'york', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['new', 'york', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['new', 'york', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['new', 'york', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['new', 'york', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['new', 'york', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['new', 'york', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['new', 'york', '<pad>', 'location'], ['@location'], ['new york']),
 (['new', 'york', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['new', 'york', '<pad>', 'saturday_weather'], ['@weather'], ['drizzle']),
 (['new', 'york', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['new', 'york', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['blizzard']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['misty']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['misty']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['misty']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F'])]

minibatch.src/trg: (['is', 'there', 'supposed', 'to', 'be', 'a', 'blizzard', 'in', 'brentwood', 'on', 'friday', '?'], ['on', '@date', "it's", 'gonna', '@weather_attribute', 'in', '@location'])

batch_with_kb: current, kb_len, current+kb_len:  0 203 203

corresponding_kb: 1

example number: 2

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[2]): [(0, 0), (1, 0), (2, 1), (3, 1), (4, 2)]
["you're", 'welcome', '!'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 1

minibatch.kb length: 203
minibatch.kb:
[(['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['stormy']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['hail']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['atherton', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['atherton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['atherton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['atherton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['atherton', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['atherton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['atherton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['atherton', '<pad>', 'friday_weather'], ['@weather'], ['dew']),
 (['atherton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['atherton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['atherton', '<pad>', 'wednesday_weather'], ['@weather'], ['blizzard']),
 (['atherton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['atherton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['atherton', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['atherton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['atherton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['atherton', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['atherton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['atherton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['atherton', '<pad>', 'location'], ['@location'], ['atherton']),
 (['atherton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['atherton', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['atherton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['humid']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['danville', '<pad>', 'monday_weather'], ['@weather'], ['dew']),
 (['danville', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['danville', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['danville', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['danville', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['danville', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['danville', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['danville', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['danville', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['danville', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['danville', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['danville', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['danville', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['danville', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['danville', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['danville', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['danville', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['danville', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['danville', '<pad>', 'location'], ['@location'], ['danville']),
 (['danville', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['danville', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['danville', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['new', 'york', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['new', 'york', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['new', 'york', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['new', 'york', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['new', 'york', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['new', 'york', '<pad>', 'tuesday_weather'], ['@weather'], ['misty']),
 (['new', 'york', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['new', 'york', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['new', 'york', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['new', 'york', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['new', 'york', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['new', 'york', '<pad>', 'wednesday_weather'], ['@weather'], ['dew']),
 (['new', 'york', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['new', 'york', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['new', 'york', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['new', 'york', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['new', 'york', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['new', 'york', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['new', 'york', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['new', 'york', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['new', 'york', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['new', 'york', '<pad>', 'location'], ['@location'], ['new york']),
 (['new', 'york', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['new', 'york', '<pad>', 'saturday_weather'], ['@weather'], ['drizzle']),
 (['new', 'york', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['new', 'york', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['blizzard']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['misty']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['misty']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['misty']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F'])]

minibatch.src/trg: (['is', 'there', 'supposed', 'to', 'be', 'a', 'blizzard', 'in', 'brentwood', 'on', 'friday', '?', '@dot', 'on', 'friday', "it's", 'gonna', 'rain', 'in', 'brentwood', '@dot', 'thanks', '.'], ["you're", 'welcome', '!'])

batch_with_kb: current, kb_len, current+kb_len:  0 203 203

corresponding_kb: 1

example number: 3

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[3]): [(1, 0), (2, 1), (3, 1), (4, 2), (5, 2)]
proc_batch: batch.src: ['is', 'there', 'supposed', 'to', 'be', 'a', 'blizzard', 'in', 'brentwood', 'on', 'friday', '?', '@dot', 'on', 'friday', "it's", 'gonna', 'rain', 'in', 'brentwood', '@dot', 'thanks', '.']
proc_batch: batch.trg: ["you're", 'welcome', '!']
proc_batch: kbkeys: [['san', 'francisco', '<pad>', 'monday_date', '<pad>'], ['san', 'francisco', '<pad>', 'monday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'friday_date', '<pad>'], ['san', 'francisco', '<pad>', 'friday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_date', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_date', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'location', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_date', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_high', '<pad>'], ['atherton', '<pad>', 'monday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'location', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['menlo', 'park', '<pad>', 'monday_date', '<pad>'], ['menlo', 'park', '<pad>', 'monday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'friday_date', '<pad>'], ['menlo', 'park', '<pad>', 'friday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_date', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_date', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'location', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_date', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_high', '<pad>'], ['danville', '<pad>', 'monday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'location', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['new', 'york', '<pad>', 'monday_date', '<pad>'], ['new', 'york', '<pad>', 'monday_weather', '<pad>'], ['new', 'york', '<pad>', 'monday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'monday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'tuesday_date', '<pad>'], ['new', 'york', '<pad>', 'tuesday_weather', '<pad>'], ['new', 'york', '<pad>', 'tuesday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'tuesday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'friday_date', '<pad>'], ['new', 'york', '<pad>', 'friday_weather', '<pad>'], ['new', 'york', '<pad>', 'friday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'friday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'wednesday_date', '<pad>'], ['new', 'york', '<pad>', 'wednesday_weather', '<pad>'], ['new', 'york', '<pad>', 'wednesday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'wednesday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'thursday_date', '<pad>'], ['new', 'york', '<pad>', 'thursday_weather', '<pad>'], ['new', 'york', '<pad>', 'thursday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'thursday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'sunday_date', '<pad>'], ['new', 'york', '<pad>', 'sunday_weather', '<pad>'], ['new', 'york', '<pad>', 'sunday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'sunday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'location', '<pad>'], ['new', 'york', '<pad>', 'saturday_date', '<pad>'], ['new', 'york', '<pad>', 'saturday_weather', '<pad>'], ['new', 'york', '<pad>', 'saturday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'saturday_temperature_high', '<pad>'], ['brentwood', '<pad>', 'monday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'location', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'location', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['snow'], ['60F'], ['80F'], ['tuesday'], ['overcast'], ['60F'], ['80F'], ['friday'], ['stormy'], ['20F'], ['40F'], ['wednesday'], ['hail'], ['50F'], ['60F'], ['thursday'], ['drizzle'], ['80F'], ['100F'], ['sunday'], ['drizzle'], ['30F'], ['50F'], ['san francisco'], ['saturday'], ['cloudy'], ['80F'], ['100F'], ['monday'], ['windy'], ['40F'], ['60F'], ['tuesday'], ['raining'], ['30F'], ['50F'], ['friday'], ['dew'], ['90F'], ['100F'], ['wednesday'], ['blizzard'], ['30F'], ['40F'], ['thursday'], ['foggy'], ['80F'], ['90F'], ['sunday'], ['cloudy'], ['20F'], ['30F'], ['atherton'], ['saturday'], ['cloudy'], ['80F'], ['90F'], ['monday'], ['humid'], ['50F'], ['70F'], ['tuesday'], ['clear skies'], ['20F'], ['30F'], ['friday'], ['rain'], ['50F'], ['60F'], ['wednesday'], ['clear skies'], ['70F'], ['80F'], ['thursday'], ['clear skies'], ['70F'], ['90F'], ['sunday'], ['stormy'], ['70F'], ['90F'], ['menlo park'], ['saturday'], ['cloudy'], ['60F'], ['70F'], ['monday'], ['dew'], ['30F'], ['40F'], ['tuesday'], ['drizzle'], ['20F'], ['40F'], ['friday'], ['dry'], ['50F'], ['60F'], ['wednesday'], ['drizzle'], ['30F'], ['50F'], ['thursday'], ['hail'], ['20F'], ['40F'], ['sunday'], ['raining'], ['40F'], ['50F'], ['danville'], ['saturday'], ['windy'], ['20F'], ['40F'], ['monday'], ['raining'], ['30F'], ['40F'], ['tuesday'], ['misty'], ['90F'], ['100F'], ['friday'], ['cloudy'], ['20F'], ['30F'], ['wednesday'], ['dew'], ['90F'], ['100F'], ['thursday'], ['hail'], ['60F'], ['80F'], ['sunday'], ['foggy'], ['40F'], ['60F'], ['new york'], ['saturday'], ['drizzle'], ['50F'], ['60F'], ['monday'], ['cloudy'], ['70F'], ['90F'], ['tuesday'], ['blizzard'], ['30F'], ['40F'], ['friday'], ['rain'], ['80F'], ['90F'], ['wednesday'], ['misty'], ['50F'], ['60F'], ['thursday'], ['stormy'], ['80F'], ['90F'], ['sunday'], ['misty'], ['20F'], ['40F'], ['brentwood'], ['saturday'], ['overcast'], ['60F'], ['80F'], ['monday'], ['foggy'], ['70F'], ['90F'], ['tuesday'], ['rain'], ['80F'], ['100F'], ['friday'], ['dry'], ['40F'], ['60F'], ['wednesday'], ['hot'], ['60F'], ['80F'], ['thursday'], ['misty'], ['30F'], ['40F'], ['sunday'], ['foggy'], ['50F'], ['70F'], ['manhattan'], ['saturday'], ['rain'], ['20F'], ['40F']]
Time spent on converting arrays to sentences for current batch: 0.004893302917480469
debug: kb_true_vals :torch.Size([2, 203])
debug: kb_true_vals content:tensor([[1134, 1128, 1703, 1707, 1132, 1155, 1703, 1707, 1140, 1190, 1700, 1701,
         1138, 1165, 1698, 1703, 1136, 1151, 1707, 1706, 1139, 1151, 1704, 1698,
         1713, 1142, 1130, 1707, 1706, 1134, 1163, 1701, 1703, 1132,  147, 1704,
         1698, 1140, 1215, 1705, 1706, 1138, 1164, 1704, 1701, 1136, 1154, 1707,
         1705, 1139, 1130, 1700, 1704, 1036, 1142, 1130, 1707, 1705, 1134, 1160,
         1698, 1699, 1132, 1702, 1700, 1704, 1140, 1119, 1698, 1703, 1138, 1702,
         1699, 1707, 1136, 1702, 1699, 1705, 1139, 1190, 1699, 1705, 1708, 1142,
         1130, 1703, 1699, 1134, 1215, 1704, 1701, 1132, 1151, 1700, 1701, 1140,
         1169, 1698, 1703, 1138, 1151, 1704, 1698, 1136, 1165, 1700, 1701, 1139,
          147, 1701, 1698, 1031, 1142, 1163, 1700, 1701, 1134,  147, 1704, 1701,
         1132, 1200, 1705, 1706, 1140, 1130, 1700, 1704, 1138, 1215, 1705, 1706,
         1136, 1165, 1703, 1707, 1139, 1154, 1701, 1703, 1709, 1142, 1151, 1698,
         1703, 1134, 1130, 1699, 1705, 1132, 1164, 1704, 1701, 1140, 1119, 1707,
         1705, 1138, 1200, 1698, 1703, 1136, 1190, 1707, 1705, 1139, 1200, 1700,
         1701, 1032, 1142, 1155, 1703, 1707, 1134, 1154, 1699, 1705, 1132, 1119,
         1707, 1706, 1140, 1169, 1701, 1703, 1138, 1147, 1703, 1707, 1136, 1200,
         1704, 1701, 1139, 1154, 1698, 1699,  996, 1142, 1119, 1700, 1701],
        [1134, 1128, 1703, 1707, 1132, 1155, 1703, 1707, 1140, 1190, 1700, 1701,
         1138, 1165, 1698, 1703, 1136, 1151, 1707, 1706, 1139, 1151, 1704, 1698,
         1713, 1142, 1130, 1707, 1706, 1134, 1163, 1701, 1703, 1132,  147, 1704,
         1698, 1140, 1215, 1705, 1706, 1138, 1164, 1704, 1701, 1136, 1154, 1707,
         1705, 1139, 1130, 1700, 1704, 1036, 1142, 1130, 1707, 1705, 1134, 1160,
         1698, 1699, 1132, 1702, 1700, 1704, 1140, 1119, 1698, 1703, 1138, 1702,
         1699, 1707, 1136, 1702, 1699, 1705, 1139, 1190, 1699, 1705, 1708, 1142,
         1130, 1703, 1699, 1134, 1215, 1704, 1701, 1132, 1151, 1700, 1701, 1140,
         1169, 1698, 1703, 1138, 1151, 1704, 1698, 1136, 1165, 1700, 1701, 1139,
          147, 1701, 1698, 1031, 1142, 1163, 1700, 1701, 1134,  147, 1704, 1701,
         1132, 1200, 1705, 1706, 1140, 1130, 1700, 1704, 1138, 1215, 1705, 1706,
         1136, 1165, 1703, 1707, 1139, 1154, 1701, 1703, 1709, 1142, 1151, 1698,
         1703, 1134, 1130, 1699, 1705, 1132, 1164, 1704, 1701, 1140, 1119, 1707,
         1705, 1138, 1200, 1698, 1703, 1136, 1190, 1707, 1705, 1139, 1200, 1700,
         1701, 1032, 1142, 1155, 1703, 1707, 1134, 1154, 1699, 1705, 1132, 1119,
         1707, 1706, 1140, 1169, 1701, 1703, 1138, 1147, 1703, 1707, 1136, 1200,
         1704, 1701, 1139, 1154, 1698, 1699,  996, 1142, 1119, 1700, 1701]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.0103759765625
[1, 1, 29] 203 [torch.Size([2, 7, 200]), torch.Size([2, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.56880784034729
(20,) [ 8 22 10  4  3]
(tensor(-3.4142, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(11,) [ 28  27  41  26 971  14 961   3]
(tensor(-2.6797, device='cuda:0'), tensor([ 19,  27,  26, 971,  14, 961,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['it', 'will', 'not', 'be', '@weather_attribute', 'in', '@location'], ['you', 'are', 'welcome', '.']]
['@poi_name', 'is', 'located', 'at', '@poi_address', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 2

minibatch.kb length: 40
minibatch.kb:
[(['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market']),
 (['cafe', 'venetia', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['cafe', 'venetia', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['cafe', 'venetia', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['cafe', 'venetia', '<pad>', 'address'], ['@address'], ['269 Alger Dr']),
 (['cafe', 'venetia', '<pad>', 'poi'], ['@poi'], ['Cafe Venetia']),
 (['5672', 'barringer', 'street', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['5672', 'barringer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5672', 'barringer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5672', 'barringer', 'street', '<pad>', 'address'], ['@address'], ['5672 barringer street']),
 (['5672', 'barringer', 'street', '<pad>', 'poi'], ['@poi'], ['5672 barringer street']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['stanford', 'childrens', 'health', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['stanford', 'childrens', 'health', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'childrens', 'health', '<pad>', 'address'], ['@address'], ['899 Ames Ct']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi'], ['@poi'], ['Stanford Childrens Health']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'address'], ['@address'], ['481 Amaranta Ave']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi'], ['@poi'], ['Palo Alto Garage R']),
 (['teavana', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['willows', 'market', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['willows', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['willows', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['willows', 'market', '<pad>', 'address'], ['@address'], ['409 Bollard St']),
 (['willows', 'market', '<pad>', 'poi'], ['@poi'], ['Willows Market'])]

minibatch.src/trg: (['address', 'to', 'the', 'gas', 'station'], ['@poi_name', 'is', 'located', 'at', '@poi_address', '.'])

batch_with_kb: current, kb_len, current+kb_len:  203 40 243

corresponding_kb: 2

example number: 4

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[4]): [(2, 1), (3, 1), (4, 2), (5, 2), (6, 2)]
['since', 'there', 'is', 'a', '@traffic_info', ',', 'i', 'found', 'another', 'route', 'for', 'you', 'and', 'i', 'sent', 'it', 'on', 'your', 'screen'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 2

minibatch.kb length: 40
minibatch.kb:
[(['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market']),
 (['cafe', 'venetia', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['cafe', 'venetia', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['cafe', 'venetia', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['cafe', 'venetia', '<pad>', 'address'], ['@address'], ['269 Alger Dr']),
 (['cafe', 'venetia', '<pad>', 'poi'], ['@poi'], ['Cafe Venetia']),
 (['5672', 'barringer', 'street', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['5672', 'barringer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5672', 'barringer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5672', 'barringer', 'street', '<pad>', 'address'], ['@address'], ['5672 barringer street']),
 (['5672', 'barringer', 'street', '<pad>', 'poi'], ['@poi'], ['5672 barringer street']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['stanford', 'childrens', 'health', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['stanford', 'childrens', 'health', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'childrens', 'health', '<pad>', 'address'], ['@address'], ['899 Ames Ct']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi'], ['@poi'], ['Stanford Childrens Health']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'address'], ['@address'], ['481 Amaranta Ave']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi'], ['@poi'], ['Palo Alto Garage R']),
 (['teavana', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['willows', 'market', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['willows', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['willows', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['willows', 'market', '<pad>', 'address'], ['@address'], ['409 Bollard St']),
 (['willows', 'market', '<pad>', 'poi'], ['@poi'], ['Willows Market'])]

minibatch.src/trg: (['address', 'to', 'the', 'gas', 'station', '@dot', 'valero', 'is', 'located', 'at', '200', 'alester', 'ave', '.', '@dot', 'ok', ',', 'please', 'give', 'me', 'directions', 'via', 'a', 'route', 'that', 'avoids', 'all', 'heavy', 'traffic', '.'], ['since', 'there', 'is', 'a', '@traffic_info', ',', 'i', 'found', 'another', 'route', 'for', 'you', 'and', 'i', 'sent', 'it', 'on', 'your', 'screen'])

batch_with_kb: current, kb_len, current+kb_len:  203 40 243

corresponding_kb: 2

example number: 5

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[5]): [(3, 1), (4, 2), (5, 2), (6, 2), (7, 3)]
["you're", 'welcome', ';', 'drive', 'carefully', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 2

minibatch.kb length: 40
minibatch.kb:
[(['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market']),
 (['cafe', 'venetia', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['cafe', 'venetia', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['cafe', 'venetia', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['cafe', 'venetia', '<pad>', 'address'], ['@address'], ['269 Alger Dr']),
 (['cafe', 'venetia', '<pad>', 'poi'], ['@poi'], ['Cafe Venetia']),
 (['5672', 'barringer', 'street', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['5672', 'barringer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5672', 'barringer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5672', 'barringer', 'street', '<pad>', 'address'], ['@address'], ['5672 barringer street']),
 (['5672', 'barringer', 'street', '<pad>', 'poi'], ['@poi'], ['5672 barringer street']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['stanford', 'childrens', 'health', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['stanford', 'childrens', 'health', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'childrens', 'health', '<pad>', 'address'], ['@address'], ['899 Ames Ct']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi'], ['@poi'], ['Stanford Childrens Health']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'address'], ['@address'], ['481 Amaranta Ave']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi'], ['@poi'], ['Palo Alto Garage R']),
 (['teavana', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['willows', 'market', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['willows', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['willows', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['willows', 'market', '<pad>', 'address'], ['@address'], ['409 Bollard St']),
 (['willows', 'market', '<pad>', 'poi'], ['@poi'], ['Willows Market'])]

minibatch.src/trg: (['address', 'to', 'the', 'gas', 'station', '@dot', 'valero', 'is', 'located', 'at', '200', 'alester', 'ave', '.', '@dot', 'ok', ',', 'please', 'give', 'me', 'directions', 'via', 'a', 'route', 'that', 'avoids', 'all', 'heavy', 'traffic', '.', '@dot', 'since', 'there', 'is', 'a', 'road', 'block', 'nearby', ',', 'i', 'found', 'another', 'route', 'for', 'you', 'and', 'i', 'sent', 'it', 'on', 'your', 'screen', '@dot', 'awesome', 'thank', 'you'], ["you're", 'welcome', ';', 'drive', 'carefully', '.'])

batch_with_kb: current, kb_len, current+kb_len:  203 40 243

corresponding_kb: 2

example number: 6

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[6]): [(4, 2), (5, 2), (6, 2), (7, 3), (8, 3)]
proc_batch: batch.src: ['address', 'to', 'the', 'gas', 'station', '@dot', 'valero', 'is', 'located', 'at', '200', 'alester', 'ave', '.', '@dot', 'ok', ',', 'please', 'give', 'me', 'directions', 'via', 'a', 'route', 'that', 'avoids', 'all', 'heavy', 'traffic', '.', '@dot', 'since', 'there', 'is', 'a', 'road', 'block', 'nearby', ',', 'i', 'found', 'another', 'route', 'for', 'you', 'and', 'i', 'sent', 'it', 'on', 'your', 'screen', '@dot', 'awesome', 'thank', 'you']
proc_batch: batch.trg: ["you're", 'welcome', ';', 'drive', 'carefully', '.']
proc_batch: kbkeys: [['sigona', 'farmers', 'market', '<pad>', 'distance', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'poi_type', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'address', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'poi', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'distance', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'poi_type', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'address', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'poi', '<pad>', '<pad>'], ['valero', '<pad>', 'distance', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'address', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'poi', '<pad>', '<pad>', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'distance', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'poi_type', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'address', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'poi', '<pad>', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'distance', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'address', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'poi', '<pad>'], ['teavana', '<pad>', 'distance', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'address', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'poi', '<pad>', '<pad>', '<pad>', '<pad>'], ['willows', 'market', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['willows', 'market', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['willows', 'market', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['willows', 'market', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['willows', 'market', '<pad>', 'poi', '<pad>', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi']]
debug: batch.kbtrv:[['3 miles'], ['car collision nearby'], ['grocery store'], ['638 Amherst St'], ['Sigona Farmers Market'], ['1 miles'], ['car collision nearby'], ['coffee or tea place'], ['269 Alger Dr'], ['Cafe Venetia'], ['5 miles'], ['no traffic'], ['certain address'], ['5672 barringer street'], ['5672 barringer street'], ['2 miles'], ['road block nearby'], ['gas station'], ['200 Alester Ave'], ['Valero'], ['5 miles'], ['moderate traffic'], ['hospital'], ['899 Ames Ct'], ['Stanford Childrens Health'], ['1 miles'], ['moderate traffic'], ['parking garage'], ['481 Amaranta Ave'], ['Palo Alto Garage R'], ['1 miles'], ['road block nearby'], ['coffee or tea place'], ['145 Amherst St'], ['Teavana'], ['5 miles'], ['no traffic'], ['grocery store'], ['409 Bollard St'], ['Willows Market']]
Time spent on converting arrays to sentences for current batch: 0.004429817199707031
debug: kb_true_vals :torch.Size([3, 40])
debug: kb_true_vals content:tensor([[1664, 1636, 1637, 1756, 1755, 1644, 1636, 1665, 1790, 1791, 1672, 1632,
         1719, 1784, 1784, 1626, 1627, 1652, 1653, 1654, 1672, 1640, 1143, 1802,
         1803, 1644, 1640, 1628, 1670, 1671, 1644, 1627, 1665, 1666, 1667, 1672,
         1632, 1637, 1638, 1639],
        [1664, 1636, 1637, 1756, 1755, 1644, 1636, 1665, 1790, 1791, 1672, 1632,
         1719, 1784, 1784, 1626, 1627, 1652, 1653, 1654, 1672, 1640, 1143, 1802,
         1803, 1644, 1640, 1628, 1670, 1671, 1644, 1627, 1665, 1666, 1667, 1672,
         1632, 1637, 1638, 1639],
        [1664, 1636, 1637, 1756, 1755, 1644, 1636, 1665, 1790, 1791, 1672, 1632,
         1719, 1784, 1784, 1626, 1627, 1652, 1653, 1654, 1672, 1640, 1143, 1802,
         1803, 1644, 1640, 1628, 1670, 1671, 1644, 1627, 1665, 1666, 1667, 1672,
         1632, 1637, 1638, 1639]], device='cuda:0')
Time spent on kb_true_vals checks: 0.002371549606323242
[1, 1, 5] 40 [torch.Size([3, 8, 200]), torch.Size([3, 5, 200])] [['distance'], ['traffic_info'], ['poi_type'], ['address'], ['poi']]
Time spent on knowledgebase attention dimensions == 2: 1.5918583869934082
(12,) [17 10 23  3]
(tensor(-2.8058, device='cuda:0'), tensor([69, 23,  3], device='cuda:0')) <class 'tuple'>
(10, 6) [970   5 973  24   4   3]
(tensor(-2.0640, device='cuda:0'), tensor([970,   5, 973,  24,   4,   3], device='cuda:0')) <class 'tuple'>
(13,) [970   5  49  11 974   4   3]
(tensor(-2.0645, device='cuda:0'), tensor([970,   5,  11, 974,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['@poi_name', 'is', '@poi_distance', 'away', '.'], ['@poi_name', 'is', 'located', 'at', '@poi_address', '.'], ["you're", 'welcome', '!']]
['there', 'is', 'no', '@poi_name', 'listed', 'locally', ',', 'would', 'you', 'like', 'directions', 'to', 'a', 'different', '@poi_type', 'shop', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 3

minibatch.kb length: 35
minibatch.kb:
[(['trader', 'joes', '<pad>', 'poi'], ['@poi'], ['Trader Joes']),
 (['trader', 'joes', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['trader', 'joes', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['trader', 'joes', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['trader', 'joes', '<pad>', 'address'], ['@address'], ['408 University Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['5677', 'springer', 'street', '<pad>', 'poi'], ['@poi'], ['5677 springer street']),
 (['5677', 'springer', 'street', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['5677', 'springer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5677', 'springer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'springer', 'street', '<pad>', 'address'], ['@address'], ['5677 springer street']),
 (['coupa', '<pad>', 'poi'], ['@poi'], ['Coupa']),
 (['coupa', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['coupa', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['coupa', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['coupa', '<pad>', 'address'], ['@address'], ['394 Van Ness Ave']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Midtown Shopping Center']),
 (['midtown', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['midtown', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['midtown', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['338 Alester Ave']),
 (['hotel', 'keen', '<pad>', 'poi'], ['@poi'], ['Hotel Keen']),
 (['hotel', 'keen', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['hotel', 'keen', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['hotel', 'keen', '<pad>', 'poi_type'], ['@poi_type'], ['rest stop']),
 (['hotel', 'keen', '<pad>', 'address'], ['@address'], ['578 Arbol Dr']),
 (['stanford', 'express', 'care', '<pad>', 'poi'], ['@poi'], ['Stanford Express Care']),
 (['stanford', 'express', 'care', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['stanford', 'express', 'care', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['stanford', 'express', 'care', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'express', 'care', '<pad>', 'address'], ['@address'], ['214 El Camino Real'])]

minibatch.src/trg: (['get', 'me', 'directions', 'to', 'the', 'nearest', 'starbucks'], ['there', 'is', 'no', '@poi_name', 'listed', 'locally', ',', 'would', 'you', 'like', 'directions', 'to', 'a', 'different', '@poi_type', 'shop', '?'])

batch_with_kb: current, kb_len, current+kb_len:  243 35 278

corresponding_kb: 3

example number: 7

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[7]): [(5, 2), (6, 2), (7, 3), (8, 3), (9, 3)]
['there', 'is', 'a', '@poi_name', '@poi_distance', 'away', '.', 'would', 'you', 'like', 'directions', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 3

minibatch.kb length: 35
minibatch.kb:
[(['trader', 'joes', '<pad>', 'poi'], ['@poi'], ['Trader Joes']),
 (['trader', 'joes', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['trader', 'joes', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['trader', 'joes', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['trader', 'joes', '<pad>', 'address'], ['@address'], ['408 University Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['5677', 'springer', 'street', '<pad>', 'poi'], ['@poi'], ['5677 springer street']),
 (['5677', 'springer', 'street', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['5677', 'springer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5677', 'springer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'springer', 'street', '<pad>', 'address'], ['@address'], ['5677 springer street']),
 (['coupa', '<pad>', 'poi'], ['@poi'], ['Coupa']),
 (['coupa', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['coupa', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['coupa', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['coupa', '<pad>', 'address'], ['@address'], ['394 Van Ness Ave']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Midtown Shopping Center']),
 (['midtown', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['midtown', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['midtown', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['338 Alester Ave']),
 (['hotel', 'keen', '<pad>', 'poi'], ['@poi'], ['Hotel Keen']),
 (['hotel', 'keen', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['hotel', 'keen', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['hotel', 'keen', '<pad>', 'poi_type'], ['@poi_type'], ['rest stop']),
 (['hotel', 'keen', '<pad>', 'address'], ['@address'], ['578 Arbol Dr']),
 (['stanford', 'express', 'care', '<pad>', 'poi'], ['@poi'], ['Stanford Express Care']),
 (['stanford', 'express', 'care', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['stanford', 'express', 'care', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['stanford', 'express', 'care', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'express', 'care', '<pad>', 'address'], ['@address'], ['214 El Camino Real'])]

minibatch.src/trg: (['get', 'me', 'directions', 'to', 'the', 'nearest', 'starbucks', '@dot', 'there', 'is', 'no', 'starbucks', 'listed', 'locally', ',', 'would', 'you', 'like', 'directions', 'to', 'a', 'different', 'coffee', 'shop', '?', '@dot', 'yes', 'please', '.'], ['there', 'is', 'a', '@poi_name', '@poi_distance', 'away', '.', 'would', 'you', 'like', 'directions', '?'])

batch_with_kb: current, kb_len, current+kb_len:  243 35 278

corresponding_kb: 3

example number: 8

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[8]): [(6, 2), (7, 3), (8, 3), (9, 3), (10, 3)]
['the', 'address', 'for', '@poi_name', 'is', '@poi_address'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 3

minibatch.kb length: 35
minibatch.kb:
[(['trader', 'joes', '<pad>', 'poi'], ['@poi'], ['Trader Joes']),
 (['trader', 'joes', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['trader', 'joes', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['trader', 'joes', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['trader', 'joes', '<pad>', 'address'], ['@address'], ['408 University Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['5677', 'springer', 'street', '<pad>', 'poi'], ['@poi'], ['5677 springer street']),
 (['5677', 'springer', 'street', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['5677', 'springer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5677', 'springer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'springer', 'street', '<pad>', 'address'], ['@address'], ['5677 springer street']),
 (['coupa', '<pad>', 'poi'], ['@poi'], ['Coupa']),
 (['coupa', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['coupa', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['coupa', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['coupa', '<pad>', 'address'], ['@address'], ['394 Van Ness Ave']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Midtown Shopping Center']),
 (['midtown', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['midtown', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['midtown', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['338 Alester Ave']),
 (['hotel', 'keen', '<pad>', 'poi'], ['@poi'], ['Hotel Keen']),
 (['hotel', 'keen', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['hotel', 'keen', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['hotel', 'keen', '<pad>', 'poi_type'], ['@poi_type'], ['rest stop']),
 (['hotel', 'keen', '<pad>', 'address'], ['@address'], ['578 Arbol Dr']),
 (['stanford', 'express', 'care', '<pad>', 'poi'], ['@poi'], ['Stanford Express Care']),
 (['stanford', 'express', 'care', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['stanford', 'express', 'care', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['stanford', 'express', 'care', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'express', 'care', '<pad>', 'address'], ['@address'], ['214 El Camino Real'])]

minibatch.src/trg: (['get', 'me', 'directions', 'to', 'the', 'nearest', 'starbucks', '@dot', 'there', 'is', 'no', 'starbucks', 'listed', 'locally', ',', 'would', 'you', 'like', 'directions', 'to', 'a', 'different', 'coffee', 'shop', '?', '@dot', 'yes', 'please', '.', '@dot', 'there', 'is', 'a', 'coupa', '6', 'miles', 'away', '.', 'would', 'you', 'like', 'directions', '?', '@dot', 'yes', 'please', '.'], ['the', 'address', 'for', '@poi_name', 'is', '@poi_address'])

batch_with_kb: current, kb_len, current+kb_len:  243 35 278

corresponding_kb: 3

example number: 9

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[9]): [(7, 3), (8, 3), (9, 3), (10, 3), (11, 4)]
["you're", 'welcome', ',', 'setting', 'gps', 'to', 'quickest', 'route', '.', 'we', 'will', 'be', 'there', 'soon', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 3

minibatch.kb length: 35
minibatch.kb:
[(['trader', 'joes', '<pad>', 'poi'], ['@poi'], ['Trader Joes']),
 (['trader', 'joes', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['trader', 'joes', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['trader', 'joes', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['trader', 'joes', '<pad>', 'address'], ['@address'], ['408 University Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['5677', 'springer', 'street', '<pad>', 'poi'], ['@poi'], ['5677 springer street']),
 (['5677', 'springer', 'street', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['5677', 'springer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5677', 'springer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'springer', 'street', '<pad>', 'address'], ['@address'], ['5677 springer street']),
 (['coupa', '<pad>', 'poi'], ['@poi'], ['Coupa']),
 (['coupa', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['coupa', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['coupa', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['coupa', '<pad>', 'address'], ['@address'], ['394 Van Ness Ave']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Midtown Shopping Center']),
 (['midtown', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['midtown', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['midtown', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['338 Alester Ave']),
 (['hotel', 'keen', '<pad>', 'poi'], ['@poi'], ['Hotel Keen']),
 (['hotel', 'keen', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['hotel', 'keen', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['hotel', 'keen', '<pad>', 'poi_type'], ['@poi_type'], ['rest stop']),
 (['hotel', 'keen', '<pad>', 'address'], ['@address'], ['578 Arbol Dr']),
 (['stanford', 'express', 'care', '<pad>', 'poi'], ['@poi'], ['Stanford Express Care']),
 (['stanford', 'express', 'care', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['stanford', 'express', 'care', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['stanford', 'express', 'care', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'express', 'care', '<pad>', 'address'], ['@address'], ['214 El Camino Real'])]

minibatch.src/trg: (['get', 'me', 'directions', 'to', 'the', 'nearest', 'starbucks', '@dot', 'there', 'is', 'no', 'starbucks', 'listed', 'locally', ',', 'would', 'you', 'like', 'directions', 'to', 'a', 'different', 'coffee', 'shop', '?', '@dot', 'yes', 'please', '.', '@dot', 'there', 'is', 'a', 'coupa', '6', 'miles', 'away', '.', 'would', 'you', 'like', 'directions', '?', '@dot', 'yes', 'please', '.', '@dot', 'the', 'address', 'for', 'coupa', 'is', '394', 'van', 'ness', 'ave', '@dot', 'thank', 'you', 'car', ',', 'please', 'set', 'the', 'gps', 'to', 'get', 'there', 'on', 'the', 'fastest', 'route', '.'], ["you're", 'welcome', ',', 'setting', 'gps', 'to', 'quickest', 'route', '.', 'we', 'will', 'be', 'there', 'soon', '.'])

batch_with_kb: current, kb_len, current+kb_len:  243 35 278

corresponding_kb: 3

example number: 10

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[10]): [(8, 3), (9, 3), (10, 3), (11, 4), (12, 4)]
proc_batch: batch.src: ['get', 'me', 'directions', 'to', 'the', 'nearest', 'starbucks', '@dot', 'there', 'is', 'no', 'starbucks', 'listed', 'locally', ',', 'would', 'you', 'like', 'directions', 'to', 'a', 'different', 'coffee', 'shop', '?', '@dot', 'yes', 'please', '.', '@dot', 'there', 'is', 'a', 'coupa', '6', 'miles', 'away', '.', 'would', 'you', 'like', 'directions', '?', '@dot', 'yes', 'please', '.', '@dot', 'the', 'address', 'for', 'coupa', 'is', '394', 'van', 'ness', 'ave', '@dot', 'thank', 'you', 'car', ',', 'please', 'set', 'the', 'gps', 'to', 'get', 'there', 'on', 'the', 'fastest', 'route', '.']
proc_batch: batch.trg: ["you're", 'welcome', ',', 'setting', 'gps', 'to', 'quickest', 'route', '.', 'we', 'will', 'be', 'there', 'soon', '.']
proc_batch: kbkeys: [['trader', 'joes', '<pad>', 'poi', '<pad>', '<pad>'], ['trader', 'joes', '<pad>', 'distance', '<pad>', '<pad>'], ['trader', 'joes', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['trader', 'joes', '<pad>', 'poi_type', '<pad>', '<pad>'], ['trader', 'joes', '<pad>', 'address', '<pad>', '<pad>'], ['valero', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'poi', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'distance', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'traffic_info', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'poi_type', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'address', '<pad>'], ['coupa', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['midtown', 'shopping', 'center', '<pad>', 'poi', '<pad>'], ['midtown', 'shopping', 'center', '<pad>', 'distance', '<pad>'], ['midtown', 'shopping', 'center', '<pad>', 'traffic_info', '<pad>'], ['midtown', 'shopping', 'center', '<pad>', 'poi_type', '<pad>'], ['midtown', 'shopping', 'center', '<pad>', 'address', '<pad>'], ['hotel', 'keen', '<pad>', 'poi', '<pad>', '<pad>'], ['hotel', 'keen', '<pad>', 'distance', '<pad>', '<pad>'], ['hotel', 'keen', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['hotel', 'keen', '<pad>', 'poi_type', '<pad>', '<pad>'], ['hotel', 'keen', '<pad>', 'address', '<pad>', '<pad>'], ['stanford', 'express', 'care', '<pad>', 'poi', '<pad>'], ['stanford', 'express', 'care', '<pad>', 'distance', '<pad>'], ['stanford', 'express', 'care', '<pad>', 'traffic_info', '<pad>'], ['stanford', 'express', 'care', '<pad>', 'poi_type', '<pad>'], ['stanford', 'express', 'care', '<pad>', 'address', '<pad>']]
proc_batch: kbvalues: [['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address']]
debug: batch.kbtrv:[['Trader Joes'], ['5 miles'], ['no traffic'], ['grocery store'], ['408 University Ave'], ['Valero'], ['2 miles'], ['no traffic'], ['gas station'], ['200 Alester Ave'], ['5677 springer street'], ['1 miles'], ['no traffic'], ['certain address'], ['5677 springer street'], ['Coupa'], ['6 miles'], ['moderate traffic'], ['coffee or tea place'], ['394 Van Ness Ave'], ['Midtown Shopping Center'], ['3 miles'], ['no traffic'], ['shopping center'], ['338 Alester Ave'], ['Hotel Keen'], ['5 miles'], ['heavy traffic'], ['rest stop'], ['578 Arbol Dr'], ['Stanford Express Care'], ['3 miles'], ['no traffic'], ['hospital'], ['214 El Camino Real']]
Time spent on converting arrays to sentences for current batch: 0.004434823989868164
debug: kb_true_vals :torch.Size([4, 35])
debug: kb_true_vals content:tensor([[1751, 1672, 1632, 1637, 1752, 1654, 1626, 1632, 1652, 1653, 1720, 1644,
         1632, 1719, 1720, 1820, 1631, 1640, 1665, 1819, 1762, 1664, 1632, 1658,
         1761, 1724, 1672, 1645, 1641, 1723, 1674, 1664, 1632, 1143, 1673],
        [1751, 1672, 1632, 1637, 1752, 1654, 1626, 1632, 1652, 1653, 1720, 1644,
         1632, 1719, 1720, 1820, 1631, 1640, 1665, 1819, 1762, 1664, 1632, 1658,
         1761, 1724, 1672, 1645, 1641, 1723, 1674, 1664, 1632, 1143, 1673],
        [1751, 1672, 1632, 1637, 1752, 1654, 1626, 1632, 1652, 1653, 1720, 1644,
         1632, 1719, 1720, 1820, 1631, 1640, 1665, 1819, 1762, 1664, 1632, 1658,
         1761, 1724, 1672, 1645, 1641, 1723, 1674, 1664, 1632, 1143, 1673],
        [1751, 1672, 1632, 1637, 1752, 1654, 1626, 1632, 1652, 1653, 1720, 1644,
         1632, 1719, 1720, 1820, 1631, 1640, 1665, 1819, 1762, 1664, 1632, 1658,
         1761, 1724, 1672, 1645, 1641, 1723, 1674, 1664, 1632, 1143, 1673]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.0027115345001220703
[1, 1, 5] 35 [torch.Size([4, 7, 200]), torch.Size([4, 5, 200])] [['poi'], ['distance'], ['traffic_info'], ['poi_type'], ['address']]
Time spent on knowledgebase attention dimensions == 2: 1.4055109024047852
(14,) [970   5  49  11 974   4   3]
(tensor(-2.7179, device='cuda:0'), tensor([970, 960, 960,   4,   3], device='cuda:0')) <class 'tuple'>
(12,) [970   5  49  11 974   4   3]
(tensor(-2.4356, device='cuda:0'), tensor([970,   5,  11, 974,   4,   3], device='cuda:0')) <class 'tuple'>
(14,) [  6  74 960   5 973  24   4   3]
(tensor(-2.3647, device='cuda:0'), tensor([970,   5, 973,  24,   4,   3], device='cuda:0')) <class 'tuple'>
(13,) [25 59  6 94  9 20 55  7 67 82 23  3]
(tensor(-2.9821, device='cuda:0'), tensor([ 43,  76,  12, 974,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['the', 'nearest', '@poi_type', 'is', '@poi_distance', 'away', '.'], ['@poi_name', 'is', 'located', 'at', '@poi_address', '.'], ['@poi_name', 'is', 'located', 'at', '@poi_address', '.'], ['i', 'sent', 'the', 'info', 'on', 'your', 'screen', ',', 'drive', 'carefully', '!']]
['@event', 'event', 'time', ',', '@time', ',', '@date', 'evening', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 4

minibatch.kb length: 36
minibatch.kb:
[(['tennis', 'activity', '<pad>', 'room'], ['@room'], ['-']),
 (['tennis', 'activity', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['tennis', 'activity', '<pad>', 'time'], ['@time'], ['2 pm']),
 (['tennis', 'activity', '<pad>', 'date'], ['@date'], ['wednesday']),
 (['tennis', 'activity', '<pad>', 'party'], ['@party'], ['-']),
 (['tennis', 'activity', '<pad>', 'event'], ['@event'], ['tennis activity']),
 (['meeting', '<pad>', 'room'], ['@room'], ['conference room 100']),
 (['meeting', '<pad>', 'agenda'], ['@agenda'], ['discuss the company picnic']),
 (['meeting', '<pad>', 'time'], ['@time'], ['7 pm']),
 (['meeting', '<pad>', 'date'], ['@date'], ['wednesday']),
 (['meeting', '<pad>', 'party'], ['@party'], ['HR']),
 (['meeting', '<pad>', 'event'], ['@event'], ['meeting']),
 (['dentist', '<pad>', 'room'], ['@room'], ['-']),
 (['dentist', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['dentist', '<pad>', 'time'], ['@time'], ['1 pm']),
 (['dentist', '<pad>', 'date'], ['@date'], ['tuesday']),
 (['dentist', '<pad>', 'party'], ['@party'], ['-']),
 (['dentist', '<pad>', 'event'], ['@event'], ['dentist']),
 (['dinner', '<pad>', 'room'], ['@room'], ['-']),
 (['dinner', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['dinner', '<pad>', 'time'], ['@time'], ['5 pm']),
 (['dinner', '<pad>', 'date'], ['@date'], ['wednesday']),
 (['dinner', '<pad>', 'party'], ['@party'], ['-']),
 (['dinner', '<pad>', 'event'], ['@event'], ['dinner']),
 (['football', 'activity', '<pad>', 'room'], ['@room'], ['-']),
 (['football', 'activity', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['football', 'activity', '<pad>', 'time'], ['@time'], ['10 am']),
 (['football', 'activity', '<pad>', 'date'], ['@date'], ['tuesday']),
 (['football', 'activity', '<pad>', 'party'], ['@party'], ['-']),
 (['football', 'activity', '<pad>', 'event'], ['@event'], ['football activity']),
 (['medicine', '<pad>', 'room'], ['@room'], ['-']),
 (['medicine', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['medicine', '<pad>', 'time'], ['@time'], ['11 am']),
 (['medicine', '<pad>', 'date'], ['@date'], ['monday']),
 (['medicine', '<pad>', 'party'], ['@party'], ['-']),
 (['medicine', '<pad>', 'event'], ['@event'], ['medicine'])]

minibatch.src/trg: (['remind', 'me', 'of', 'the', 'time', 'for', "today's", 'dinner'], ['@event', 'event', 'time', ',', '@time', ',', '@date', 'evening', '.'])

batch_with_kb: current, kb_len, current+kb_len:  278 36 314

corresponding_kb: 4

example number: 11

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[11]): [(9, 3), (10, 3), (11, 4), (12, 4), (13, 5)]
['you', 'are', 'welcome', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 4

minibatch.kb length: 36
minibatch.kb:
[(['tennis', 'activity', '<pad>', 'room'], ['@room'], ['-']),
 (['tennis', 'activity', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['tennis', 'activity', '<pad>', 'time'], ['@time'], ['2 pm']),
 (['tennis', 'activity', '<pad>', 'date'], ['@date'], ['wednesday']),
 (['tennis', 'activity', '<pad>', 'party'], ['@party'], ['-']),
 (['tennis', 'activity', '<pad>', 'event'], ['@event'], ['tennis activity']),
 (['meeting', '<pad>', 'room'], ['@room'], ['conference room 100']),
 (['meeting', '<pad>', 'agenda'], ['@agenda'], ['discuss the company picnic']),
 (['meeting', '<pad>', 'time'], ['@time'], ['7 pm']),
 (['meeting', '<pad>', 'date'], ['@date'], ['wednesday']),
 (['meeting', '<pad>', 'party'], ['@party'], ['HR']),
 (['meeting', '<pad>', 'event'], ['@event'], ['meeting']),
 (['dentist', '<pad>', 'room'], ['@room'], ['-']),
 (['dentist', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['dentist', '<pad>', 'time'], ['@time'], ['1 pm']),
 (['dentist', '<pad>', 'date'], ['@date'], ['tuesday']),
 (['dentist', '<pad>', 'party'], ['@party'], ['-']),
 (['dentist', '<pad>', 'event'], ['@event'], ['dentist']),
 (['dinner', '<pad>', 'room'], ['@room'], ['-']),
 (['dinner', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['dinner', '<pad>', 'time'], ['@time'], ['5 pm']),
 (['dinner', '<pad>', 'date'], ['@date'], ['wednesday']),
 (['dinner', '<pad>', 'party'], ['@party'], ['-']),
 (['dinner', '<pad>', 'event'], ['@event'], ['dinner']),
 (['football', 'activity', '<pad>', 'room'], ['@room'], ['-']),
 (['football', 'activity', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['football', 'activity', '<pad>', 'time'], ['@time'], ['10 am']),
 (['football', 'activity', '<pad>', 'date'], ['@date'], ['tuesday']),
 (['football', 'activity', '<pad>', 'party'], ['@party'], ['-']),
 (['football', 'activity', '<pad>', 'event'], ['@event'], ['football activity']),
 (['medicine', '<pad>', 'room'], ['@room'], ['-']),
 (['medicine', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['medicine', '<pad>', 'time'], ['@time'], ['11 am']),
 (['medicine', '<pad>', 'date'], ['@date'], ['monday']),
 (['medicine', '<pad>', 'party'], ['@party'], ['-']),
 (['medicine', '<pad>', 'event'], ['@event'], ['medicine'])]

minibatch.src/trg: (['remind', 'me', 'of', 'the', 'time', 'for', "today's", 'dinner', '@dot', 'dinner', 'event', 'time', ',', '5', 'pm', ',', 'wednesday', 'evening', '.', '@dot', 'thank', 'you'], ['you', 'are', 'welcome', '.'])

batch_with_kb: current, kb_len, current+kb_len:  278 36 314

corresponding_kb: 4

example number: 12

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[12]): [(10, 3), (11, 4), (12, 4), (13, 5), (14, 5)]
proc_batch: batch.src: ['remind', 'me', 'of', 'the', 'time', 'for', "today's", 'dinner', '@dot', 'dinner', 'event', 'time', ',', '5', 'pm', ',', 'wednesday', 'evening', '.', '@dot', 'thank', 'you']
proc_batch: batch.trg: ['you', 'are', 'welcome', '.']
proc_batch: kbkeys: [['tennis', 'activity', '<pad>', 'room', '<pad>'], ['tennis', 'activity', '<pad>', 'agenda', '<pad>'], ['tennis', 'activity', '<pad>', 'time', '<pad>'], ['tennis', 'activity', '<pad>', 'date', '<pad>'], ['tennis', 'activity', '<pad>', 'party', '<pad>'], ['tennis', 'activity', '<pad>', 'event', '<pad>'], ['meeting', '<pad>', 'room', '<pad>', '<pad>'], ['meeting', '<pad>', 'agenda', '<pad>', '<pad>'], ['meeting', '<pad>', 'time', '<pad>', '<pad>'], ['meeting', '<pad>', 'date', '<pad>', '<pad>'], ['meeting', '<pad>', 'party', '<pad>', '<pad>'], ['meeting', '<pad>', 'event', '<pad>', '<pad>'], ['dentist', '<pad>', 'room', '<pad>', '<pad>'], ['dentist', '<pad>', 'agenda', '<pad>', '<pad>'], ['dentist', '<pad>', 'time', '<pad>', '<pad>'], ['dentist', '<pad>', 'date', '<pad>', '<pad>'], ['dentist', '<pad>', 'party', '<pad>', '<pad>'], ['dentist', '<pad>', 'event', '<pad>', '<pad>'], ['dinner', '<pad>', 'room', '<pad>', '<pad>'], ['dinner', '<pad>', 'agenda', '<pad>', '<pad>'], ['dinner', '<pad>', 'time', '<pad>', '<pad>'], ['dinner', '<pad>', 'date', '<pad>', '<pad>'], ['dinner', '<pad>', 'party', '<pad>', '<pad>'], ['dinner', '<pad>', 'event', '<pad>', '<pad>'], ['football', 'activity', '<pad>', 'room', '<pad>'], ['football', 'activity', '<pad>', 'agenda', '<pad>'], ['football', 'activity', '<pad>', 'time', '<pad>'], ['football', 'activity', '<pad>', 'date', '<pad>'], ['football', 'activity', '<pad>', 'party', '<pad>'], ['football', 'activity', '<pad>', 'event', '<pad>'], ['medicine', '<pad>', 'room', '<pad>', '<pad>'], ['medicine', '<pad>', 'agenda', '<pad>', '<pad>'], ['medicine', '<pad>', 'time', '<pad>', '<pad>'], ['medicine', '<pad>', 'date', '<pad>', '<pad>'], ['medicine', '<pad>', 'party', '<pad>', '<pad>'], ['medicine', '<pad>', 'event', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event']]
debug: batch.kbtrv:[['-'], ['-'], ['2 pm'], ['wednesday'], ['-'], ['tennis activity'], ['conference room 100'], ['discuss the company picnic'], ['7 pm'], ['wednesday'], ['HR'], ['meeting'], ['-'], ['-'], ['1 pm'], ['tuesday'], ['-'], ['dentist'], ['-'], ['-'], ['5 pm'], ['wednesday'], ['-'], ['dinner'], ['-'], ['-'], ['10 am'], ['tuesday'], ['-'], ['football activity'], ['-'], ['-'], ['11 am'], ['monday'], ['-'], ['medicine']]
Time spent on converting arrays to sentences for current batch: 0.004455089569091797
debug: kb_true_vals :torch.Size([2, 36])
debug: kb_true_vals content:tensor([[  63,   63, 1809, 1138,   63, 1806, 1822, 1778, 1779, 1138, 1813, 1047,
           63,   63, 1775, 1132,   63, 1042,   63,   63, 1807, 1138,   63, 1057,
           63,   63, 1782, 1132,   63, 1692,   63,   63, 1777, 1134,   63,  170],
        [  63,   63, 1809, 1138,   63, 1806, 1822, 1778, 1779, 1138, 1813, 1047,
           63,   63, 1775, 1132,   63, 1042,   63,   63, 1807, 1138,   63, 1057,
           63,   63, 1782, 1132,   63, 1692,   63,   63, 1777, 1134,   63,  170]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.0013663768768310547
[1, 1, 6] 36 [torch.Size([2, 6, 200]), torch.Size([2, 6, 200])] [['room'], ['agenda'], ['time'], ['date'], ['party'], ['event']]
Time spent on knowledgebase attention dimensions == 2: 1.4102146625518799
(19,) [ 8 22 10  4  3]
(tensor(-1.7290, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
(14,) [ 29  77   5  20 966  13   3]
(tensor(-3.1801, device='cuda:0'), tensor([29, 77,  3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'time', 'is', 'your', '@event', '?'], ['you', 'are', 'welcome', '.']]
['reminder', 'has', 'been', 'set', 'for', '@time', 'at', '@date', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 5
Made entity classification for seq up to here:
                    ['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', 'the', '12th'];
candidates are:
                    [(['the', '12th'], '@date')];
partial matches are:
                    [(['the', '1st'], '@date', 1), (['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '5th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '12th'], '@date');
r is:
['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', '@date']
Warning: Omitting possible match ['5', 'miles']; only matched with first token!
Made entity classification for seq up to here:
                    ['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', 'the', '12th', 'at', 'about', '5'];
candidates are:
                    [];
partial matches are:
                    [(['5', 'miles'], '@poi_distance', 1)];
choice is:
                    (['5', 'miles'], '@poi_distance');
r is:
['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', '@date', 'at', 'about', '5']

========================================
	Finished up Sequence
['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', 'the', '12th', 'at', 'about', '5', 'pm']
and transformed it to
['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', '@date', 'at', 'about', '5', 'pm']
========================================


minibatch.kb length: 1
minibatch.kb:
[(['dummysubj', '<pad>', 'date'], ['@date'], ['the 12th'])]

minibatch.src/trg: (['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', 'the', '12th', 'at', 'about', '5', 'pm'], ['reminder', 'has', 'been', 'set', 'for', '@time', 'at', '@date', '.'])

batch_with_kb: current, kb_len, current+kb_len:  314 0 314

corresponding_kb: 5

example number: 13

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[13]): [(11, 4), (12, 4), (13, 5), (14, 5), (15, 6)]
['no', 'problem', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 5
Made entity classification for seq up to here:
                    ['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', 'the', '12th'];
candidates are:
                    [(['the', '12th'], '@date')];
partial matches are:
                    [(['the', '1st'], '@date', 1), (['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '5th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '12th'], '@date');
r is:
['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', '@date']
Warning: Omitting possible match ['5', 'miles']; only matched with first token!
Made entity classification for seq up to here:
                    ['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', 'the', '12th', 'at', 'about', '5'];
candidates are:
                    [];
partial matches are:
                    [(['5', 'miles'], '@poi_distance', 1)];
choice is:
                    (['5', 'miles'], '@poi_distance');
r is:
['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', '@date', 'at', 'about', '5']
Made entity classification for seq up to here:
                    ['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', 'the', '12th', 'at', 'about', '5', 'pm', '@dot', 'reminder', 'has', 'been', 'set', 'for', '5pm'];
candidates are:
                    [(['5pm'], '@time')];
partial matches are:
                    [];
choice is:
                    (['5pm'], '@time');
r is:
['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', '@date', 'at', 'about', '5', 'pm', '@dot', 'reminder', 'has', 'been', 'set', 'for', '@time']
Made entity classification for seq up to here:
                    ['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', 'the', '12th', 'at', 'about', '5', 'pm', '@dot', 'reminder', 'has', 'been', 'set', 'for', '5pm', 'at', 'the', '12th'];
candidates are:
                    [(['the', '12th'], '@date')];
partial matches are:
                    [(['the', '1st'], '@date', 1), (['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '5th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '12th'], '@date');
r is:
['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', '@date', 'at', 'about', '5', 'pm', '@dot', 'reminder', 'has', 'been', 'set', 'for', '@time', 'at', '@date']

========================================
	Finished up Sequence
['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', 'the', '12th', 'at', 'about', '5', 'pm', '@dot', 'reminder', 'has', 'been', 'set', 'for', '5pm', 'at', 'the', '12th', '.', '@dot', 'great', '.', 'thanks']
and transformed it to
['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', '@date', 'at', 'about', '5', 'pm', '@dot', 'reminder', 'has', 'been', 'set', 'for', '@time', 'at', '@date', '.', '@dot', 'great', '.', 'thanks']
========================================


minibatch.kb length: 2
minibatch.kb:
[(['dummysubj', '<pad>', 'date'], ['@date'], ['the 12th']),
 (['dummysubj', '<pad>', 'time'], ['@time'], ['5pm'])]

minibatch.src/trg: (['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', 'the', '12th', 'at', 'about', '5', 'pm', '@dot', 'reminder', 'has', 'been', 'set', 'for', '5pm', 'at', 'the', '12th', '.', '@dot', 'great', '.', 'thanks'], ['no', 'problem', '.'])

batch_with_kb: current, kb_len, current+kb_len:  314 0 314

corresponding_kb: 5

example number: 14

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[14]): [(12, 4), (13, 5), (14, 5), (15, 6), (16, 6)]
matches for unk:                             []
proc_batch: batch.src: ['remind', 'me', 'that', 'i', 'need', 'to', 'get', 'my', 'shot', 'on', 'the', '12th', 'at', 'about', '5', 'pm', '@dot', 'reminder', 'has', 'been', 'set', 'for', '5pm', 'at', 'the', '12th', '.', '@dot', 'great', '.', 'thanks']
proc_batch: batch.trg: ['no', 'problem', '.']
proc_batch: kbkeys: [['<unk>', '<pad>', 'date', '<pad>'], ['<unk>', '<pad>', 'time', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@time']]
debug: batch.kbtrv:[['the 12th'], ['5pm']]
Time spent on converting arrays to sentences for current batch: 0.004390716552734375
debug: kb_true_vals :torch.Size([2, 2])
debug: kb_true_vals content:tensor([[1827, 1168],
        [1827, 1168]], device='cuda:0')
Time spent on kb_true_vals checks: 0.00022101402282714844
[1, 2, 2] 2 [torch.Size([2, 2, 200]), torch.Size([2, 1, 200])] [['date']]
Time spent on knowledgebase attention dimensions == 2: 0.07872653007507324
(19,) [ 8 22 10  4  3]
(tensor(-1.7028, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
(14,) [ 61   7  43  18  47  15 965  21 965   9 955  11 965   4   3]
(tensor(-2.4742, device='cuda:0'), tensor([ 61,   7,  43,  18,  47,  15, 965,  21, 965,   9, 955,   4,   3],
       device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['okay', ',', 'setting', 'a', 'reminder', 'for', '@time', 'with', '@time', 'on', '@date', 'at', '@time', '.'], ['you', 'are', 'welcome', '.']]
['what', 'location', ',', 'specifically', ',', 'are', 'you', 'asking', 'about', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 6

minibatch.kb length: 203
minibatch.kb:
[(['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['hail']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['grand', 'rapids', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['grand', 'rapids', '<pad>', 'monday_weather'], ['@weather'], ['blizzard']),
 (['grand', 'rapids', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['grand', 'rapids', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['grand', 'rapids', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['grand', 'rapids', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['grand', 'rapids', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['grand', 'rapids', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['grand', 'rapids', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['grand', 'rapids', '<pad>', 'friday_weather'], ['@weather'], ['stormy']),
 (['grand', 'rapids', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['grand', 'rapids', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['grand', 'rapids', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['grand', 'rapids', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['grand', 'rapids', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['grand', 'rapids', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['grand', 'rapids', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['grand', 'rapids', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['grand', 'rapids', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['grand', 'rapids', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['grand', 'rapids', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['grand', 'rapids', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['grand', 'rapids', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['grand', 'rapids', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['grand', 'rapids', '<pad>', 'location'], ['@location'], ['grand rapids']),
 (['grand', 'rapids', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['grand', 'rapids', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['grand', 'rapids', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['grand', 'rapids', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['stormy']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['hail']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['oakland', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['oakland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['oakland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['oakland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['oakland', '<pad>', 'tuesday_weather'], ['@weather'], ['frost']),
 (['oakland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['oakland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['oakland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['oakland', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['oakland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['oakland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['oakland', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['oakland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['oakland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['oakland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['oakland', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['oakland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['oakland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['oakland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['oakland', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['oakland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['oakland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['oakland', '<pad>', 'location'], ['@location'], ['oakland']),
 (['oakland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['oakland', '<pad>', 'saturday_weather'], ['@weather'], ['warm']),
 (['oakland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['oakland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['hail']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F'])]

minibatch.src/trg: (['what', 'is', 'the', 'weather', 'today'], ['what', 'location', ',', 'specifically', ',', 'are', 'you', 'asking', 'about', '?'])

batch_with_kb: current, kb_len, current+kb_len:  314 203 517

corresponding_kb: 6

example number: 15

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[15]): [(13, 5), (14, 5), (15, 6), (16, 6), (17, 6)]
['no', 'raining', 'in', '@location', 'today', ',', 'the', 'prediction', 'is', '@weather_attribute'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 6

minibatch.kb length: 203
minibatch.kb:
[(['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['hail']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['grand', 'rapids', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['grand', 'rapids', '<pad>', 'monday_weather'], ['@weather'], ['blizzard']),
 (['grand', 'rapids', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['grand', 'rapids', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['grand', 'rapids', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['grand', 'rapids', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['grand', 'rapids', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['grand', 'rapids', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['grand', 'rapids', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['grand', 'rapids', '<pad>', 'friday_weather'], ['@weather'], ['stormy']),
 (['grand', 'rapids', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['grand', 'rapids', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['grand', 'rapids', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['grand', 'rapids', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['grand', 'rapids', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['grand', 'rapids', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['grand', 'rapids', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['grand', 'rapids', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['grand', 'rapids', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['grand', 'rapids', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['grand', 'rapids', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['grand', 'rapids', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['grand', 'rapids', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['grand', 'rapids', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['grand', 'rapids', '<pad>', 'location'], ['@location'], ['grand rapids']),
 (['grand', 'rapids', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['grand', 'rapids', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['grand', 'rapids', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['grand', 'rapids', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['stormy']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['hail']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['oakland', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['oakland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['oakland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['oakland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['oakland', '<pad>', 'tuesday_weather'], ['@weather'], ['frost']),
 (['oakland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['oakland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['oakland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['oakland', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['oakland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['oakland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['oakland', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['oakland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['oakland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['oakland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['oakland', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['oakland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['oakland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['oakland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['oakland', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['oakland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['oakland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['oakland', '<pad>', 'location'], ['@location'], ['oakland']),
 (['oakland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['oakland', '<pad>', 'saturday_weather'], ['@weather'], ['warm']),
 (['oakland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['oakland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['hail']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F'])]

minibatch.src/trg: (['what', 'is', 'the', 'weather', 'today', '@dot', 'what', 'location', ',', 'specifically', ',', 'are', 'you', 'asking', 'about', '?', '@dot', 'i', 'want', 'to', 'know', 'if', 'it', 'is', 'raining', 'in', 'alhambra', 'today'], ['no', 'raining', 'in', '@location', 'today', ',', 'the', 'prediction', 'is', '@weather_attribute'])

batch_with_kb: current, kb_len, current+kb_len:  314 203 517

corresponding_kb: 6

example number: 16

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[16]): [(14, 5), (15, 6), (16, 6), (17, 6), (18, 7)]
["you're", 'very', 'welcome', '!'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 6

minibatch.kb length: 203
minibatch.kb:
[(['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['hail']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['grand', 'rapids', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['grand', 'rapids', '<pad>', 'monday_weather'], ['@weather'], ['blizzard']),
 (['grand', 'rapids', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['grand', 'rapids', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['grand', 'rapids', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['grand', 'rapids', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['grand', 'rapids', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['grand', 'rapids', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['grand', 'rapids', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['grand', 'rapids', '<pad>', 'friday_weather'], ['@weather'], ['stormy']),
 (['grand', 'rapids', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['grand', 'rapids', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['grand', 'rapids', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['grand', 'rapids', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['grand', 'rapids', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['grand', 'rapids', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['grand', 'rapids', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['grand', 'rapids', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['grand', 'rapids', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['grand', 'rapids', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['grand', 'rapids', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['grand', 'rapids', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['grand', 'rapids', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['grand', 'rapids', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['grand', 'rapids', '<pad>', 'location'], ['@location'], ['grand rapids']),
 (['grand', 'rapids', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['grand', 'rapids', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['grand', 'rapids', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['grand', 'rapids', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['stormy']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['hail']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['oakland', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['oakland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['oakland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['oakland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['oakland', '<pad>', 'tuesday_weather'], ['@weather'], ['frost']),
 (['oakland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['oakland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['oakland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['oakland', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['oakland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['oakland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['oakland', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['oakland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['oakland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['oakland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['oakland', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['oakland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['oakland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['oakland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['oakland', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['oakland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['oakland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['oakland', '<pad>', 'location'], ['@location'], ['oakland']),
 (['oakland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['oakland', '<pad>', 'saturday_weather'], ['@weather'], ['warm']),
 (['oakland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['oakland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['hail']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F'])]

minibatch.src/trg: (['what', 'is', 'the', 'weather', 'today', '@dot', 'what', 'location', ',', 'specifically', ',', 'are', 'you', 'asking', 'about', '?', '@dot', 'i', 'want', 'to', 'know', 'if', 'it', 'is', 'raining', 'in', 'alhambra', 'today', '@dot', 'no', 'raining', 'in', 'alhambra', 'today', ',', 'the', 'prediction', 'is', 'overcast', '@dot', 'thank', 'you', '!'], ["you're", 'very', 'welcome', '!'])

batch_with_kb: current, kb_len, current+kb_len:  314 203 517

corresponding_kb: 6

example number: 17

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[17]): [(15, 6), (16, 6), (17, 6), (18, 7), (19, 7)]
proc_batch: batch.src: ['what', 'is', 'the', 'weather', 'today', '@dot', 'what', 'location', ',', 'specifically', ',', 'are', 'you', 'asking', 'about', '?', '@dot', 'i', 'want', 'to', 'know', 'if', 'it', 'is', 'raining', 'in', 'alhambra', 'today', '@dot', 'no', 'raining', 'in', 'alhambra', 'today', ',', 'the', 'prediction', 'is', 'overcast', '@dot', 'thank', 'you', '!']
proc_batch: batch.trg: ["you're", 'very', 'welcome', '!']
proc_batch: kbkeys: [['san', 'francisco', '<pad>', 'monday_date', '<pad>'], ['san', 'francisco', '<pad>', 'monday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'friday_date', '<pad>'], ['san', 'francisco', '<pad>', 'friday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_date', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_date', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'location', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_date', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'monday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'monday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'monday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'monday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'tuesday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'tuesday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'tuesday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'tuesday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'friday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'friday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'friday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'friday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'wednesday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'wednesday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'wednesday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'wednesday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'thursday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'thursday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'thursday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'thursday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'sunday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'sunday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'sunday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'sunday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'location', '<pad>'], ['grand', 'rapids', '<pad>', 'saturday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'saturday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'saturday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'saturday_temperature_high', '<pad>'], ['alhambra', '<pad>', 'monday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'location', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'location', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'location', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'location', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'monday_date', '<pad>'], ['san', 'mateo', '<pad>', 'monday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_date', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'friday_date', '<pad>'], ['san', 'mateo', '<pad>', 'friday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_date', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_date', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_date', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'location', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_date', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_temperature_high', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['foggy'], ['30F'], ['50F'], ['tuesday'], ['raining'], ['50F'], ['60F'], ['friday'], ['hail'], ['30F'], ['50F'], ['wednesday'], ['overcast'], ['80F'], ['100F'], ['thursday'], ['hail'], ['50F'], ['70F'], ['sunday'], ['overcast'], ['30F'], ['50F'], ['san francisco'], ['saturday'], ['foggy'], ['80F'], ['100F'], ['monday'], ['blizzard'], ['40F'], ['50F'], ['tuesday'], ['snow'], ['30F'], ['40F'], ['friday'], ['stormy'], ['70F'], ['90F'], ['wednesday'], ['overcast'], ['40F'], ['50F'], ['thursday'], ['foggy'], ['50F'], ['60F'], ['sunday'], ['foggy'], ['80F'], ['90F'], ['grand rapids'], ['saturday'], ['clear skies'], ['40F'], ['60F'], ['monday'], ['overcast'], ['70F'], ['80F'], ['tuesday'], ['snow'], ['70F'], ['90F'], ['friday'], ['rain'], ['20F'], ['30F'], ['wednesday'], ['hot'], ['50F'], ['70F'], ['thursday'], ['windy'], ['80F'], ['90F'], ['sunday'], ['foggy'], ['60F'], ['70F'], ['alhambra'], ['saturday'], ['stormy'], ['30F'], ['50F'], ['monday'], ['cloudy'], ['60F'], ['70F'], ['tuesday'], ['hot'], ['50F'], ['70F'], ['friday'], ['windy'], ['80F'], ['90F'], ['wednesday'], ['drizzle'], ['20F'], ['40F'], ['thursday'], ['dry'], ['90F'], ['100F'], ['sunday'], ['hail'], ['90F'], ['100F'], ['boston'], ['saturday'], ['foggy'], ['20F'], ['40F'], ['monday'], ['rain'], ['60F'], ['70F'], ['tuesday'], ['frost'], ['20F'], ['30F'], ['friday'], ['overcast'], ['60F'], ['80F'], ['wednesday'], ['dry'], ['50F'], ['70F'], ['thursday'], ['overcast'], ['40F'], ['60F'], ['sunday'], ['drizzle'], ['90F'], ['100F'], ['oakland'], ['saturday'], ['warm'], ['90F'], ['100F'], ['monday'], ['stormy'], ['80F'], ['100F'], ['tuesday'], ['foggy'], ['70F'], ['90F'], ['friday'], ['clear skies'], ['80F'], ['100F'], ['wednesday'], ['raining'], ['40F'], ['50F'], ['thursday'], ['dry'], ['70F'], ['80F'], ['sunday'], ['warm'], ['90F'], ['100F'], ['downtown chicago'], ['saturday'], ['hail'], ['80F'], ['90F'], ['monday'], ['dry'], ['40F'], ['50F'], ['tuesday'], ['foggy'], ['80F'], ['100F'], ['friday'], ['windy'], ['70F'], ['80F'], ['wednesday'], ['rain'], ['60F'], ['70F'], ['thursday'], ['dry'], ['80F'], ['90F'], ['sunday'], ['dry'], ['70F'], ['80F'], ['san mateo'], ['saturday'], ['cloudy'], ['90F'], ['100F']]
Time spent on converting arrays to sentences for current batch: 0.004662036895751953
debug: kb_true_vals :torch.Size([3, 203])
debug: kb_true_vals content:tensor([[1134, 1154, 1704, 1698, 1132,  147, 1698, 1703, 1140, 1165, 1704, 1698,
         1138, 1155, 1707, 1706, 1136, 1165, 1698, 1699, 1139, 1155, 1704, 1698,
         1713, 1142, 1154, 1707, 1706, 1134, 1164, 1701, 1698, 1132, 1128, 1704,
         1701, 1140, 1190, 1699, 1705, 1138, 1155, 1701, 1698, 1136, 1154, 1698,
         1703, 1139, 1154, 1707, 1705, 1710, 1142, 1702, 1701, 1703, 1134, 1155,
         1699, 1707, 1132, 1128, 1699, 1705, 1140, 1119, 1700, 1704, 1138, 1147,
         1698, 1699, 1136, 1163, 1707, 1705, 1139, 1154, 1703, 1699, 1033, 1142,
         1190, 1704, 1698, 1134, 1130, 1703, 1699, 1132, 1147, 1698, 1699, 1140,
         1163, 1707, 1705, 1138, 1151, 1700, 1701, 1136, 1169, 1705, 1706, 1139,
         1165, 1705, 1706,  980, 1142, 1154, 1700, 1701, 1134, 1119, 1703, 1699,
         1132, 1158, 1700, 1704, 1140, 1155, 1703, 1707, 1138, 1169, 1698, 1699,
         1136, 1155, 1701, 1703, 1139, 1151, 1705, 1706,  993, 1142, 1166, 1705,
         1706, 1134, 1190, 1707, 1706, 1132, 1154, 1699, 1705, 1140, 1702, 1707,
         1706, 1138,  147, 1701, 1698, 1136, 1169, 1699, 1707, 1139, 1166, 1705,
         1706, 1746, 1142, 1165, 1707, 1705, 1134, 1169, 1701, 1698, 1132, 1154,
         1707, 1706, 1140, 1163, 1699, 1707, 1138, 1119, 1703, 1699, 1136, 1169,
         1707, 1705, 1139, 1169, 1699, 1707, 1715, 1142, 1130, 1705, 1706],
        [1134, 1154, 1704, 1698, 1132,  147, 1698, 1703, 1140, 1165, 1704, 1698,
         1138, 1155, 1707, 1706, 1136, 1165, 1698, 1699, 1139, 1155, 1704, 1698,
         1713, 1142, 1154, 1707, 1706, 1134, 1164, 1701, 1698, 1132, 1128, 1704,
         1701, 1140, 1190, 1699, 1705, 1138, 1155, 1701, 1698, 1136, 1154, 1698,
         1703, 1139, 1154, 1707, 1705, 1710, 1142, 1702, 1701, 1703, 1134, 1155,
         1699, 1707, 1132, 1128, 1699, 1705, 1140, 1119, 1700, 1704, 1138, 1147,
         1698, 1699, 1136, 1163, 1707, 1705, 1139, 1154, 1703, 1699, 1033, 1142,
         1190, 1704, 1698, 1134, 1130, 1703, 1699, 1132, 1147, 1698, 1699, 1140,
         1163, 1707, 1705, 1138, 1151, 1700, 1701, 1136, 1169, 1705, 1706, 1139,
         1165, 1705, 1706,  980, 1142, 1154, 1700, 1701, 1134, 1119, 1703, 1699,
         1132, 1158, 1700, 1704, 1140, 1155, 1703, 1707, 1138, 1169, 1698, 1699,
         1136, 1155, 1701, 1703, 1139, 1151, 1705, 1706,  993, 1142, 1166, 1705,
         1706, 1134, 1190, 1707, 1706, 1132, 1154, 1699, 1705, 1140, 1702, 1707,
         1706, 1138,  147, 1701, 1698, 1136, 1169, 1699, 1707, 1139, 1166, 1705,
         1706, 1746, 1142, 1165, 1707, 1705, 1134, 1169, 1701, 1698, 1132, 1154,
         1707, 1706, 1140, 1163, 1699, 1707, 1138, 1119, 1703, 1699, 1136, 1169,
         1707, 1705, 1139, 1169, 1699, 1707, 1715, 1142, 1130, 1705, 1706],
        [1134, 1154, 1704, 1698, 1132,  147, 1698, 1703, 1140, 1165, 1704, 1698,
         1138, 1155, 1707, 1706, 1136, 1165, 1698, 1699, 1139, 1155, 1704, 1698,
         1713, 1142, 1154, 1707, 1706, 1134, 1164, 1701, 1698, 1132, 1128, 1704,
         1701, 1140, 1190, 1699, 1705, 1138, 1155, 1701, 1698, 1136, 1154, 1698,
         1703, 1139, 1154, 1707, 1705, 1710, 1142, 1702, 1701, 1703, 1134, 1155,
         1699, 1707, 1132, 1128, 1699, 1705, 1140, 1119, 1700, 1704, 1138, 1147,
         1698, 1699, 1136, 1163, 1707, 1705, 1139, 1154, 1703, 1699, 1033, 1142,
         1190, 1704, 1698, 1134, 1130, 1703, 1699, 1132, 1147, 1698, 1699, 1140,
         1163, 1707, 1705, 1138, 1151, 1700, 1701, 1136, 1169, 1705, 1706, 1139,
         1165, 1705, 1706,  980, 1142, 1154, 1700, 1701, 1134, 1119, 1703, 1699,
         1132, 1158, 1700, 1704, 1140, 1155, 1703, 1707, 1138, 1169, 1698, 1699,
         1136, 1155, 1701, 1703, 1139, 1151, 1705, 1706,  993, 1142, 1166, 1705,
         1706, 1134, 1190, 1707, 1706, 1132, 1154, 1699, 1705, 1140, 1702, 1707,
         1706, 1138,  147, 1701, 1698, 1136, 1169, 1699, 1707, 1139, 1166, 1705,
         1706, 1746, 1142, 1165, 1707, 1705, 1134, 1169, 1701, 1698, 1132, 1154,
         1707, 1706, 1140, 1163, 1699, 1707, 1138, 1119, 1703, 1699, 1136, 1169,
         1707, 1705, 1139, 1169, 1699, 1707, 1715, 1142, 1130, 1705, 1706]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.010588645935058594
[1, 1, 29] 203 [torch.Size([3, 7, 200]), torch.Size([3, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.631841421127319
(14,) [17 10 23  3]
(tensor(-4.0889, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(11,) [ 28  27  26 971  14 961  48   4   3]
(tensor(-2.4197, device='cuda:0'), tensor([ 28,  27,  26, 971,  14, 961,   4,   3], device='cuda:0')) <class 'tuple'>
(10,) [29 35 39  8 53  6 42 15 13  3]
(tensor(-2.0349, device='cuda:0'), tensor([29, 35, 22,  8, 14, 13,  3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'city', 'do', 'you', 'want', 'the', 'weather', 'for', '?'], ['it', 'will', 'be', '@weather_attribute', 'in', '@location', 'today', '.'], ["you're", 'welcome', '!']]
['the', 'nearest', '@poi_type', 'is', '@poi_name', 'at', '@poi_address', ',', '@poi_distance', 'away', '.', 'setting', 'directions', 'now', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 7

minibatch.kb length: 40
minibatch.kb:
[(['teavana', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market']),
 (['coupa', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['coupa', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['coupa', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['coupa', '<pad>', 'address'], ['@address'], ['394 Van Ness Ave']),
 (['coupa', '<pad>', 'poi'], ['@poi'], ['Coupa']),
 (['mandarin', 'roots', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['mandarin', 'roots', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['mandarin', 'roots', '<pad>', 'poi_type'], ['@poi_type'], ['chinese restaurant']),
 (['mandarin', 'roots', '<pad>', 'address'], ['@address'], ['271 Springer Street']),
 (['mandarin', 'roots', '<pad>', 'poi'], ['@poi'], ['Mandarin Roots']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['7 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['safeway', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['safeway', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['safeway', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['safeway', '<pad>', 'address'], ['@address'], ['452 Arcadia Pl']),
 (['safeway', '<pad>', 'poi'], ['@poi'], ['Safeway']),
 (['dominos', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['dominos', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['dominos', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['dominos', '<pad>', 'address'], ['@address'], ['776 Arastradero Rd']),
 (['dominos', '<pad>', 'poi'], ['@poi'], ['Dominos']),
 (['jills', 'house', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['jills', 'house', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['jills', 'house', '<pad>', 'poi_type'], ['@poi_type'], ['friends house']),
 (['jills', 'house', '<pad>', 'address'], ['@address'], ['347 Alta Mesa Ave']),
 (['jills', 'house', '<pad>', 'poi'], ['@poi'], ['jills house'])]

minibatch.src/trg: (['send', 'me', 'to', 'the', 'nearest', 'gas', 'station'], ['the', 'nearest', '@poi_type', 'is', '@poi_name', 'at', '@poi_address', ',', '@poi_distance', 'away', '.', 'setting', 'directions', 'now', '.'])

batch_with_kb: current, kb_len, current+kb_len:  517 40 557

corresponding_kb: 7

example number: 18

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[18]): [(16, 6), (17, 6), (18, 7), (19, 7), (20, 7)]
['@poi_name', 'is', 'at', '@poi_address', 'and', '@traffic_info', 'is', 'being', 'noted', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 7

minibatch.kb length: 40
minibatch.kb:
[(['teavana', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market']),
 (['coupa', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['coupa', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['coupa', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['coupa', '<pad>', 'address'], ['@address'], ['394 Van Ness Ave']),
 (['coupa', '<pad>', 'poi'], ['@poi'], ['Coupa']),
 (['mandarin', 'roots', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['mandarin', 'roots', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['mandarin', 'roots', '<pad>', 'poi_type'], ['@poi_type'], ['chinese restaurant']),
 (['mandarin', 'roots', '<pad>', 'address'], ['@address'], ['271 Springer Street']),
 (['mandarin', 'roots', '<pad>', 'poi'], ['@poi'], ['Mandarin Roots']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['7 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['safeway', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['safeway', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['safeway', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['safeway', '<pad>', 'address'], ['@address'], ['452 Arcadia Pl']),
 (['safeway', '<pad>', 'poi'], ['@poi'], ['Safeway']),
 (['dominos', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['dominos', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['dominos', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['dominos', '<pad>', 'address'], ['@address'], ['776 Arastradero Rd']),
 (['dominos', '<pad>', 'poi'], ['@poi'], ['Dominos']),
 (['jills', 'house', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['jills', 'house', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['jills', 'house', '<pad>', 'poi_type'], ['@poi_type'], ['friends house']),
 (['jills', 'house', '<pad>', 'address'], ['@address'], ['347 Alta Mesa Ave']),
 (['jills', 'house', '<pad>', 'poi'], ['@poi'], ['jills house'])]

minibatch.src/trg: (['send', 'me', 'to', 'the', 'nearest', 'gas', 'station', '@dot', 'the', 'nearest', 'gas', 'station', 'is', 'valero', 'at', '200', 'alester', 'ave', ',', '7', 'miles', 'away', '.', 'setting', 'directions', 'now', '.', '@dot', 'where', 'is', 'valero', 'and', 'is', 'there', 'any', 'traffic', 'on', 'the', 'way', '?'], ['@poi_name', 'is', 'at', '@poi_address', 'and', '@traffic_info', 'is', 'being', 'noted', '.'])

batch_with_kb: current, kb_len, current+kb_len:  517 40 557

corresponding_kb: 7

example number: 19

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[19]): [(17, 6), (18, 7), (19, 7), (20, 7), (21, 8)]
["you're", 'welcome', '!'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 7

minibatch.kb length: 40
minibatch.kb:
[(['teavana', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market']),
 (['coupa', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['coupa', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['coupa', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['coupa', '<pad>', 'address'], ['@address'], ['394 Van Ness Ave']),
 (['coupa', '<pad>', 'poi'], ['@poi'], ['Coupa']),
 (['mandarin', 'roots', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['mandarin', 'roots', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['mandarin', 'roots', '<pad>', 'poi_type'], ['@poi_type'], ['chinese restaurant']),
 (['mandarin', 'roots', '<pad>', 'address'], ['@address'], ['271 Springer Street']),
 (['mandarin', 'roots', '<pad>', 'poi'], ['@poi'], ['Mandarin Roots']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['7 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['safeway', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['safeway', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['safeway', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['safeway', '<pad>', 'address'], ['@address'], ['452 Arcadia Pl']),
 (['safeway', '<pad>', 'poi'], ['@poi'], ['Safeway']),
 (['dominos', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['dominos', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['dominos', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['dominos', '<pad>', 'address'], ['@address'], ['776 Arastradero Rd']),
 (['dominos', '<pad>', 'poi'], ['@poi'], ['Dominos']),
 (['jills', 'house', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['jills', 'house', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['jills', 'house', '<pad>', 'poi_type'], ['@poi_type'], ['friends house']),
 (['jills', 'house', '<pad>', 'address'], ['@address'], ['347 Alta Mesa Ave']),
 (['jills', 'house', '<pad>', 'poi'], ['@poi'], ['jills house'])]

minibatch.src/trg: (['send', 'me', 'to', 'the', 'nearest', 'gas', 'station', '@dot', 'the', 'nearest', 'gas', 'station', 'is', 'valero', 'at', '200', 'alester', 'ave', ',', '7', 'miles', 'away', '.', 'setting', 'directions', 'now', '.', '@dot', 'where', 'is', 'valero', 'and', 'is', 'there', 'any', 'traffic', 'on', 'the', 'way', '?', '@dot', 'valero', 'is', 'at', '200', 'alester', 'ave', 'and', 'moderate', 'traffic', 'is', 'being', 'noted', '.', '@dot', 'thank', 'you'], ["you're", 'welcome', '!'])

batch_with_kb: current, kb_len, current+kb_len:  517 40 557

corresponding_kb: 7

example number: 20

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[20]): [(18, 7), (19, 7), (20, 7), (21, 8), (22, 8)]
proc_batch: batch.src: ['send', 'me', 'to', 'the', 'nearest', 'gas', 'station', '@dot', 'the', 'nearest', 'gas', 'station', 'is', 'valero', 'at', '200', 'alester', 'ave', ',', '7', 'miles', 'away', '.', 'setting', 'directions', 'now', '.', '@dot', 'where', 'is', 'valero', 'and', 'is', 'there', 'any', 'traffic', 'on', 'the', 'way', '?', '@dot', 'valero', 'is', 'at', '200', 'alester', 'ave', 'and', 'moderate', 'traffic', 'is', 'being', 'noted', '.', '@dot', 'thank', 'you']
proc_batch: batch.trg: ["you're", 'welcome', '!']
proc_batch: kbkeys: [['teavana', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'distance', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'traffic_info', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'poi_type', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'address', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'poi', '<pad>'], ['coupa', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['mandarin', 'roots', '<pad>', 'distance', '<pad>', '<pad>'], ['mandarin', 'roots', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['mandarin', 'roots', '<pad>', 'poi_type', '<pad>', '<pad>'], ['mandarin', 'roots', '<pad>', 'address', '<pad>', '<pad>'], ['mandarin', 'roots', '<pad>', 'poi', '<pad>', '<pad>'], ['valero', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['safeway', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['safeway', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['safeway', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['safeway', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['safeway', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['jills', 'house', '<pad>', 'distance', '<pad>', '<pad>'], ['jills', 'house', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['jills', 'house', '<pad>', 'poi_type', '<pad>', '<pad>'], ['jills', 'house', '<pad>', 'address', '<pad>', '<pad>'], ['jills', 'house', '<pad>', 'poi', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi']]
debug: batch.kbtrv:[['2 miles'], ['road block nearby'], ['coffee or tea place'], ['145 Amherst St'], ['Teavana'], ['6 miles'], ['moderate traffic'], ['grocery store'], ['638 Amherst St'], ['Sigona Farmers Market'], ['5 miles'], ['heavy traffic'], ['coffee or tea place'], ['394 Van Ness Ave'], ['Coupa'], ['2 miles'], ['heavy traffic'], ['chinese restaurant'], ['271 Springer Street'], ['Mandarin Roots'], ['7 miles'], ['moderate traffic'], ['gas station'], ['200 Alester Ave'], ['Valero'], ['3 miles'], ['moderate traffic'], ['grocery store'], ['452 Arcadia Pl'], ['Safeway'], ['5 miles'], ['no traffic'], ['pizza restaurant'], ['776 Arastradero Rd'], ['Dominos'], ['5 miles'], ['no traffic'], ['friends house'], ['347 Alta Mesa Ave'], ['jills house']]
Time spent on converting arrays to sentences for current batch: 0.004432201385498047
debug: kb_true_vals :torch.Size([3, 40])
debug: kb_true_vals content:tensor([[1626, 1627, 1665, 1666, 1667, 1631, 1640, 1637, 1756, 1755, 1672, 1645,
         1665, 1819, 1820, 1626, 1645, 1655, 1656, 1657, 1831, 1640, 1652, 1653,
         1654, 1664, 1640, 1637, 1721, 1722, 1672, 1632, 1649, 1668, 1669, 1672,
         1632, 1646, 1763, 1764],
        [1626, 1627, 1665, 1666, 1667, 1631, 1640, 1637, 1756, 1755, 1672, 1645,
         1665, 1819, 1820, 1626, 1645, 1655, 1656, 1657, 1831, 1640, 1652, 1653,
         1654, 1664, 1640, 1637, 1721, 1722, 1672, 1632, 1649, 1668, 1669, 1672,
         1632, 1646, 1763, 1764],
        [1626, 1627, 1665, 1666, 1667, 1631, 1640, 1637, 1756, 1755, 1672, 1645,
         1665, 1819, 1820, 1626, 1645, 1655, 1656, 1657, 1831, 1640, 1652, 1653,
         1654, 1664, 1640, 1637, 1721, 1722, 1672, 1632, 1649, 1668, 1669, 1672,
         1632, 1646, 1763, 1764]], device='cuda:0')
Time spent on kb_true_vals checks: 0.0025115013122558594
[1, 1, 5] 40 [torch.Size([3, 8, 200]), torch.Size([3, 5, 200])] [['distance'], ['traffic_info'], ['poi_type'], ['address'], ['poi']]
Time spent on knowledgebase attention dimensions == 2: 1.5126948356628418
(12,) [17 10 23  3]
(tensor(-2.8265, device='cuda:0'), tensor([69, 23,  3], device='cuda:0')) <class 'tuple'>
(10, 6) [970   5 973  24   4   3]
(tensor(-1.8897, device='cuda:0'), tensor([970,   5, 973,  24,   4,   3], device='cuda:0')) <class 'tuple'>
(14,) [970   5  49  11 974   4   3]
(tensor(-1.4785, device='cuda:0'), tensor([970,   5,  11, 974,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['@poi_name', 'is', '@poi_distance', 'away', '.'], ['@poi_name', 'is', 'located', 'at', '@poi_address', '.'], ["you're", 'welcome', '!']]
['on', '@date', 'the', '@weather_attribute', 'in', '@location', 'is', '@temperature'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 8

minibatch.kb length: 203
minibatch.kb:
[(['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['misty']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['frost']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['camarillo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['camarillo', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['camarillo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['camarillo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['camarillo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['camarillo', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['camarillo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['camarillo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['camarillo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['camarillo', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['camarillo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['camarillo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['camarillo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['camarillo', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['camarillo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['camarillo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['camarillo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['camarillo', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['camarillo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['camarillo', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['camarillo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'location'], ['@location'], ['camarillo']),
 (['camarillo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['camarillo', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['camarillo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['camarillo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['30F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['drizzle']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['dew']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['misty']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['corona', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['corona', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['corona', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['corona', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['corona', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['corona', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['corona', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['corona', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['corona', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['corona', '<pad>', 'friday_weather'], ['@weather'], ['misty']),
 (['corona', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['corona', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['corona', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['corona', '<pad>', 'wednesday_weather'], ['@weather'], ['dew']),
 (['corona', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['corona', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['corona', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['corona', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['corona', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['corona', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['corona', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['corona', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['corona', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['corona', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['corona', '<pad>', 'location'], ['@location'], ['corona']),
 (['corona', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['corona', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['corona', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['corona', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['humid']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['misty']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['drizzle']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['dew']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['humid']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F'])]

minibatch.src/trg: (['what', 'will', 'be', 'the', 'highest', 'temperature', 'in', 'downtown', 'chicago', 'on', 'tuesday', '?'], ['on', '@date', 'the', '@weather_attribute', 'in', '@location', 'is', '@temperature'])

batch_with_kb: current, kb_len, current+kb_len:  557 203 760

corresponding_kb: 8

example number: 21

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[21]): [(19, 7), (20, 7), (21, 8), (22, 8), (23, 9)]
['no', 'problem', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 8

minibatch.kb length: 203
minibatch.kb:
[(['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['misty']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['frost']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['camarillo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['camarillo', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['camarillo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['camarillo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['camarillo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['camarillo', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['camarillo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['camarillo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['camarillo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['camarillo', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['camarillo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['camarillo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['camarillo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['camarillo', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['camarillo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['camarillo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['camarillo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['camarillo', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['camarillo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['camarillo', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['camarillo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'location'], ['@location'], ['camarillo']),
 (['camarillo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['camarillo', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['camarillo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['camarillo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['30F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['drizzle']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['dew']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['misty']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['corona', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['corona', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['corona', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['corona', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['corona', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['corona', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['corona', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['corona', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['corona', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['corona', '<pad>', 'friday_weather'], ['@weather'], ['misty']),
 (['corona', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['corona', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['corona', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['corona', '<pad>', 'wednesday_weather'], ['@weather'], ['dew']),
 (['corona', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['corona', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['corona', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['corona', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['corona', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['corona', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['corona', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['corona', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['corona', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['corona', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['corona', '<pad>', 'location'], ['@location'], ['corona']),
 (['corona', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['corona', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['corona', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['corona', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['humid']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['misty']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['drizzle']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['dew']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['humid']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F'])]

minibatch.src/trg: (['what', 'will', 'be', 'the', 'highest', 'temperature', 'in', 'downtown', 'chicago', 'on', 'tuesday', '?', '@dot', 'on', 'tuesday', 'the', 'highest', 'temperature', 'in', 'downtown', 'chicago', 'is', '70f', '@dot', 'thanks', '.'], ['no', 'problem', '.'])

batch_with_kb: current, kb_len, current+kb_len:  557 203 760

corresponding_kb: 8

example number: 22

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[22]): [(20, 7), (21, 8), (22, 8), (23, 9), (24, 9)]
proc_batch: batch.src: ['what', 'will', 'be', 'the', 'highest', 'temperature', 'in', 'downtown', 'chicago', 'on', 'tuesday', '?', '@dot', 'on', 'tuesday', 'the', 'highest', 'temperature', 'in', 'downtown', 'chicago', 'is', '70f', '@dot', 'thanks', '.']
proc_batch: batch.trg: ['no', 'problem', '.']
proc_batch: kbkeys: [['fresno', '<pad>', 'monday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'location', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'location', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'location', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['corona', '<pad>', 'monday_date', '<pad>', '<pad>'], ['corona', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['corona', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['corona', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['corona', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['corona', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['corona', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['corona', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['corona', '<pad>', 'friday_date', '<pad>', '<pad>'], ['corona', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['corona', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['corona', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['corona', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['corona', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['corona', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['corona', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['corona', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['corona', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['corona', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['corona', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['corona', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['corona', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['corona', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['corona', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['corona', '<pad>', 'location', '<pad>', '<pad>'], ['corona', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['corona', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['corona', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['corona', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['mountain', 'view', '<pad>', 'monday_date', '<pad>'], ['mountain', 'view', '<pad>', 'monday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'monday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'monday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_date', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'friday_date', '<pad>'], ['mountain', 'view', '<pad>', 'friday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'friday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'friday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_date', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_date', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_date', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'location', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_date', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_temperature_high', '<pad>'], ['compton', '<pad>', 'monday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'location', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'location', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_temperature_high', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['clear skies'], ['70F'], ['80F'], ['tuesday'], ['foggy'], ['20F'], ['30F'], ['friday'], ['misty'], ['20F'], ['30F'], ['wednesday'], ['frost'], ['50F'], ['60F'], ['thursday'], ['cloudy'], ['30F'], ['50F'], ['sunday'], ['cloudy'], ['80F'], ['100F'], ['fresno'], ['saturday'], ['clear skies'], ['40F'], ['50F'], ['monday'], ['foggy'], ['70F'], ['90F'], ['tuesday'], ['clear skies'], ['90F'], ['100F'], ['friday'], ['raining'], ['60F'], ['70F'], ['wednesday'], ['clear skies'], ['20F'], ['40F'], ['thursday'], ['stormy'], ['40F'], ['60F'], ['sunday'], ['stormy'], ['40F'], ['60F'], ['camarillo'], ['saturday'], ['raining'], ['50F'], ['60F'], ['monday'], ['snow'], ['20F'], ['30F'], ['tuesday'], ['snow'], ['40F'], ['50F'], ['friday'], ['drizzle'], ['80F'], ['100F'], ['wednesday'], ['dew'], ['80F'], ['90F'], ['thursday'], ['misty'], ['50F'], ['70F'], ['sunday'], ['snow'], ['50F'], ['70F'], ['boston'], ['saturday'], ['overcast'], ['80F'], ['90F'], ['monday'], ['raining'], ['50F'], ['60F'], ['tuesday'], ['hail'], ['80F'], ['100F'], ['friday'], ['misty'], ['30F'], ['40F'], ['wednesday'], ['dew'], ['30F'], ['40F'], ['thursday'], ['hail'], ['80F'], ['100F'], ['sunday'], ['cloudy'], ['90F'], ['100F'], ['corona'], ['saturday'], ['clear skies'], ['30F'], ['40F'], ['monday'], ['rain'], ['80F'], ['100F'], ['tuesday'], ['drizzle'], ['40F'], ['60F'], ['friday'], ['humid'], ['90F'], ['100F'], ['wednesday'], ['hot'], ['90F'], ['100F'], ['thursday'], ['snow'], ['60F'], ['70F'], ['sunday'], ['stormy'], ['80F'], ['90F'], ['mountain view'], ['saturday'], ['misty'], ['40F'], ['60F'], ['monday'], ['overcast'], ['30F'], ['50F'], ['tuesday'], ['windy'], ['80F'], ['100F'], ['friday'], ['clear skies'], ['80F'], ['100F'], ['wednesday'], ['windy'], ['70F'], ['90F'], ['thursday'], ['overcast'], ['50F'], ['70F'], ['sunday'], ['stormy'], ['80F'], ['100F'], ['compton'], ['saturday'], ['drizzle'], ['50F'], ['70F'], ['monday'], ['clear skies'], ['70F'], ['80F'], ['tuesday'], ['dew'], ['60F'], ['70F'], ['friday'], ['raining'], ['50F'], ['60F'], ['wednesday'], ['humid'], ['90F'], ['100F'], ['thursday'], ['drizzle'], ['30F'], ['50F'], ['sunday'], ['overcast'], ['90F'], ['100F'], ['downtown chicago'], ['saturday'], ['overcast'], ['40F'], ['60F']]
Time spent on converting arrays to sentences for current batch: 0.004693031311035156
debug: kb_true_vals :torch.Size([2, 203])
debug: kb_true_vals content:tensor([[1134, 1702, 1699, 1707, 1132, 1154, 1700, 1704, 1140, 1200, 1700, 1704,
         1138, 1158, 1698, 1703, 1136, 1130, 1704, 1698, 1139, 1130, 1707, 1706,
          986, 1142, 1702, 1701, 1698, 1134, 1154, 1699, 1705, 1132, 1702, 1705,
         1706, 1140,  147, 1703, 1699, 1138, 1702, 1700, 1701, 1136, 1190, 1701,
         1703, 1139, 1190, 1701, 1703, 1038, 1142,  147, 1698, 1703, 1134, 1128,
         1700, 1704, 1132, 1128, 1701, 1698, 1140, 1151, 1707, 1706, 1138, 1215,
         1707, 1705, 1136, 1200, 1698, 1699, 1139, 1128, 1698, 1699,  980, 1142,
         1155, 1707, 1705, 1134,  147, 1698, 1703, 1132, 1165, 1707, 1706, 1140,
         1200, 1704, 1701, 1138, 1215, 1704, 1701, 1136, 1165, 1707, 1706, 1139,
         1130, 1705, 1706, 1034, 1142, 1702, 1704, 1701, 1134, 1119, 1707, 1706,
         1132, 1151, 1701, 1703, 1140, 1160, 1705, 1706, 1138, 1147, 1705, 1706,
         1136, 1128, 1703, 1699, 1139, 1190, 1707, 1705, 1714, 1142, 1200, 1701,
         1703, 1134, 1155, 1704, 1698, 1132, 1163, 1707, 1706, 1140, 1702, 1707,
         1706, 1138, 1163, 1699, 1705, 1136, 1155, 1698, 1699, 1139, 1190, 1707,
         1706,  988, 1142, 1151, 1698, 1699, 1134, 1702, 1699, 1707, 1132, 1215,
         1703, 1699, 1140,  147, 1698, 1703, 1138, 1160, 1705, 1706, 1136, 1151,
         1704, 1698, 1139, 1155, 1705, 1706, 1746, 1142, 1155, 1701, 1703],
        [1134, 1702, 1699, 1707, 1132, 1154, 1700, 1704, 1140, 1200, 1700, 1704,
         1138, 1158, 1698, 1703, 1136, 1130, 1704, 1698, 1139, 1130, 1707, 1706,
          986, 1142, 1702, 1701, 1698, 1134, 1154, 1699, 1705, 1132, 1702, 1705,
         1706, 1140,  147, 1703, 1699, 1138, 1702, 1700, 1701, 1136, 1190, 1701,
         1703, 1139, 1190, 1701, 1703, 1038, 1142,  147, 1698, 1703, 1134, 1128,
         1700, 1704, 1132, 1128, 1701, 1698, 1140, 1151, 1707, 1706, 1138, 1215,
         1707, 1705, 1136, 1200, 1698, 1699, 1139, 1128, 1698, 1699,  980, 1142,
         1155, 1707, 1705, 1134,  147, 1698, 1703, 1132, 1165, 1707, 1706, 1140,
         1200, 1704, 1701, 1138, 1215, 1704, 1701, 1136, 1165, 1707, 1706, 1139,
         1130, 1705, 1706, 1034, 1142, 1702, 1704, 1701, 1134, 1119, 1707, 1706,
         1132, 1151, 1701, 1703, 1140, 1160, 1705, 1706, 1138, 1147, 1705, 1706,
         1136, 1128, 1703, 1699, 1139, 1190, 1707, 1705, 1714, 1142, 1200, 1701,
         1703, 1134, 1155, 1704, 1698, 1132, 1163, 1707, 1706, 1140, 1702, 1707,
         1706, 1138, 1163, 1699, 1705, 1136, 1155, 1698, 1699, 1139, 1190, 1707,
         1706,  988, 1142, 1151, 1698, 1699, 1134, 1702, 1699, 1707, 1132, 1215,
         1703, 1699, 1140,  147, 1698, 1703, 1138, 1160, 1705, 1706, 1136, 1151,
         1704, 1698, 1139, 1155, 1705, 1706, 1746, 1142, 1155, 1701, 1703]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.0070819854736328125
[1, 1, 29] 203 [torch.Size([2, 7, 200]), torch.Size([2, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.49748682975769
(14,) [17 10 23  3]
(tensor(-4.1303, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(13,) [ 28  27  26 971   9 955  14 961   4   3]
(tensor(-2.1212, device='cuda:0'), tensor([ 28,  27,  26, 971,   9, 955,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['it', 'will', 'be', '@weather_attribute', 'on', '@date', 'in', '@location', '.'], ["you're", 'welcome', '!']]
['there', 'is', '@weather_attribute', 'but', 'no', 'mist', 'in', '@location', 'now', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 9

minibatch.kb length: 203
minibatch.kb:
[(['oakland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['oakland', '<pad>', 'monday_weather'], ['@weather'], ['drizzle']),
 (['oakland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['oakland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['oakland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['oakland', '<pad>', 'tuesday_weather'], ['@weather'], ['windy']),
 (['oakland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['oakland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['oakland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['oakland', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['oakland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['oakland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['oakland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['oakland', '<pad>', 'wednesday_weather'], ['@weather'], ['frost']),
 (['oakland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['oakland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['oakland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['oakland', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['oakland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['oakland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['oakland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['oakland', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['oakland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['oakland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['oakland', '<pad>', 'location'], ['@location'], ['oakland']),
 (['oakland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['oakland', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['oakland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['oakland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['inglewood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['inglewood', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['inglewood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['inglewood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['inglewood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['inglewood', '<pad>', 'tuesday_weather'], ['@weather'], ['misty']),
 (['inglewood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['inglewood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['inglewood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['inglewood', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['inglewood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['inglewood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['inglewood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['inglewood', '<pad>', 'wednesday_weather'], ['@weather'], ['misty']),
 (['inglewood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['inglewood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['inglewood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['inglewood', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['inglewood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['inglewood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['inglewood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['inglewood', '<pad>', 'sunday_weather'], ['@weather'], ['misty']),
 (['inglewood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['inglewood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['inglewood', '<pad>', 'location'], ['@location'], ['inglewood']),
 (['inglewood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['inglewood', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['inglewood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['inglewood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['redwood', 'city', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['redwood', 'city', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['redwood', 'city', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['redwood', 'city', '<pad>', 'tuesday_weather'], ['@weather'], ['frost']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['redwood', 'city', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['redwood', 'city', '<pad>', 'friday_weather'], ['@weather'], ['blizzard']),
 (['redwood', 'city', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['redwood', 'city', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['redwood', 'city', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['redwood', 'city', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['redwood', 'city', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['redwood', 'city', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['redwood', 'city', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['redwood', 'city', '<pad>', 'location'], ['@location'], ['redwood city']),
 (['redwood', 'city', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['redwood', 'city', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['humid']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['frost']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['hail']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['snow']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['humid']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['hail']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F'])]

minibatch.src/trg: (['is', 'it', 'misty', 'in', 'oakland', 'now', '?'], ['there', 'is', '@weather_attribute', 'but', 'no', 'mist', 'in', '@location', 'now', '.'])

batch_with_kb: current, kb_len, current+kb_len:  760 203 963

corresponding_kb: 9

example number: 23

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[23]): [(21, 8), (22, 8), (23, 9), (24, 9), (25, 10)]
['you', 'are', 'welcome', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 9

minibatch.kb length: 203
minibatch.kb:
[(['oakland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['oakland', '<pad>', 'monday_weather'], ['@weather'], ['drizzle']),
 (['oakland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['oakland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['oakland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['oakland', '<pad>', 'tuesday_weather'], ['@weather'], ['windy']),
 (['oakland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['oakland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['oakland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['oakland', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['oakland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['oakland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['oakland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['oakland', '<pad>', 'wednesday_weather'], ['@weather'], ['frost']),
 (['oakland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['oakland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['oakland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['oakland', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['oakland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['oakland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['oakland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['oakland', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['oakland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['oakland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['oakland', '<pad>', 'location'], ['@location'], ['oakland']),
 (['oakland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['oakland', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['oakland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['oakland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['inglewood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['inglewood', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['inglewood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['inglewood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['inglewood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['inglewood', '<pad>', 'tuesday_weather'], ['@weather'], ['misty']),
 (['inglewood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['inglewood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['inglewood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['inglewood', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['inglewood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['inglewood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['inglewood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['inglewood', '<pad>', 'wednesday_weather'], ['@weather'], ['misty']),
 (['inglewood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['inglewood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['inglewood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['inglewood', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['inglewood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['inglewood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['inglewood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['inglewood', '<pad>', 'sunday_weather'], ['@weather'], ['misty']),
 (['inglewood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['inglewood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['inglewood', '<pad>', 'location'], ['@location'], ['inglewood']),
 (['inglewood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['inglewood', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['inglewood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['inglewood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['redwood', 'city', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['redwood', 'city', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['redwood', 'city', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['redwood', 'city', '<pad>', 'tuesday_weather'], ['@weather'], ['frost']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['redwood', 'city', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['redwood', 'city', '<pad>', 'friday_weather'], ['@weather'], ['blizzard']),
 (['redwood', 'city', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['redwood', 'city', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['redwood', 'city', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['redwood', 'city', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['redwood', 'city', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['redwood', 'city', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['redwood', 'city', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['redwood', 'city', '<pad>', 'location'], ['@location'], ['redwood city']),
 (['redwood', 'city', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['redwood', 'city', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['humid']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['frost']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['hail']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['snow']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['humid']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['hail']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F'])]

minibatch.src/trg: (['is', 'it', 'misty', 'in', 'oakland', 'now', '?', '@dot', 'there', 'is', 'drizzle', 'but', 'no', 'mist', 'in', 'oakland', 'now', '.', '@dot', 'thank', 'you', '.'], ['you', 'are', 'welcome', '.'])

batch_with_kb: current, kb_len, current+kb_len:  760 203 963

corresponding_kb: 9

example number: 24

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[24]): [(22, 8), (23, 9), (24, 9), (25, 10), (26, 10)]
proc_batch: batch.src: ['is', 'it', 'misty', 'in', 'oakland', 'now', '?', '@dot', 'there', 'is', 'drizzle', 'but', 'no', 'mist', 'in', 'oakland', 'now', '.', '@dot', 'thank', 'you', '.']
proc_batch: batch.trg: ['you', 'are', 'welcome', '.']
proc_batch: kbkeys: [['oakland', '<pad>', 'monday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'location', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['inglewood', '<pad>', 'monday_date', '<pad>', '<pad>'], ['inglewood', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['inglewood', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['inglewood', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['inglewood', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['inglewood', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['inglewood', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['inglewood', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['inglewood', '<pad>', 'friday_date', '<pad>', '<pad>'], ['inglewood', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['inglewood', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['inglewood', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['inglewood', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['inglewood', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['inglewood', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['inglewood', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['inglewood', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['inglewood', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['inglewood', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['inglewood', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['inglewood', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['inglewood', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['inglewood', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['inglewood', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['inglewood', '<pad>', 'location', '<pad>', '<pad>'], ['inglewood', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['inglewood', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['inglewood', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['inglewood', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['redwood', 'city', '<pad>', 'monday_date', '<pad>'], ['redwood', 'city', '<pad>', 'monday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'monday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'monday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_date', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'friday_date', '<pad>'], ['redwood', 'city', '<pad>', 'friday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'friday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'friday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_date', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_date', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_date', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'location', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_date', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'monday_date', '<pad>'], ['san', 'mateo', '<pad>', 'monday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_date', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'friday_date', '<pad>'], ['san', 'mateo', '<pad>', 'friday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_date', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_date', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_date', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'location', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_date', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_temperature_high', '<pad>'], ['compton', '<pad>', 'monday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'location', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'location', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_temperature_high', '<pad>'], ['seattle', '<pad>', 'monday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'location', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['drizzle'], ['30F'], ['50F'], ['tuesday'], ['windy'], ['50F'], ['60F'], ['friday'], ['overcast'], ['60F'], ['70F'], ['wednesday'], ['frost'], ['30F'], ['50F'], ['thursday'], ['raining'], ['80F'], ['100F'], ['sunday'], ['windy'], ['40F'], ['60F'], ['oakland'], ['saturday'], ['hot'], ['70F'], ['90F'], ['monday'], ['snow'], ['50F'], ['60F'], ['tuesday'], ['misty'], ['60F'], ['70F'], ['friday'], ['snow'], ['20F'], ['30F'], ['wednesday'], ['misty'], ['60F'], ['80F'], ['thursday'], ['stormy'], ['90F'], ['100F'], ['sunday'], ['misty'], ['80F'], ['90F'], ['inglewood'], ['saturday'], ['foggy'], ['80F'], ['100F'], ['monday'], ['foggy'], ['90F'], ['100F'], ['tuesday'], ['frost'], ['20F'], ['30F'], ['friday'], ['blizzard'], ['40F'], ['50F'], ['wednesday'], ['dry'], ['30F'], ['40F'], ['thursday'], ['overcast'], ['80F'], ['100F'], ['sunday'], ['snow'], ['50F'], ['60F'], ['redwood city'], ['saturday'], ['foggy'], ['90F'], ['100F'], ['monday'], ['dry'], ['80F'], ['90F'], ['tuesday'], ['humid'], ['90F'], ['100F'], ['friday'], ['overcast'], ['50F'], ['60F'], ['wednesday'], ['clear skies'], ['30F'], ['50F'], ['thursday'], ['rain'], ['80F'], ['90F'], ['sunday'], ['drizzle'], ['80F'], ['90F'], ['san mateo'], ['saturday'], ['raining'], ['30F'], ['50F'], ['monday'], ['stormy'], ['20F'], ['40F'], ['tuesday'], ['hail'], ['90F'], ['100F'], ['friday'], ['cloudy'], ['70F'], ['80F'], ['wednesday'], ['hot'], ['60F'], ['70F'], ['thursday'], ['snow'], ['30F'], ['40F'], ['sunday'], ['foggy'], ['30F'], ['40F'], ['compton'], ['saturday'], ['frost'], ['30F'], ['50F'], ['monday'], ['hail'], ['30F'], ['40F'], ['tuesday'], ['drizzle'], ['20F'], ['30F'], ['friday'], ['snow'], ['90F'], ['100F'], ['wednesday'], ['clear skies'], ['30F'], ['40F'], ['thursday'], ['dry'], ['60F'], ['70F'], ['sunday'], ['windy'], ['80F'], ['90F'], ['downtown chicago'], ['saturday'], ['snow'], ['20F'], ['30F'], ['monday'], ['stormy'], ['50F'], ['60F'], ['tuesday'], ['foggy'], ['80F'], ['90F'], ['friday'], ['overcast'], ['80F'], ['90F'], ['wednesday'], ['raining'], ['80F'], ['100F'], ['thursday'], ['cloudy'], ['70F'], ['90F'], ['sunday'], ['humid'], ['60F'], ['80F'], ['seattle'], ['saturday'], ['hail'], ['50F'], ['70F']]
Time spent on converting arrays to sentences for current batch: 0.00467228889465332
debug: kb_true_vals :torch.Size([2, 203])
debug: kb_true_vals content:tensor([[1134, 1151, 1704, 1698, 1132, 1163, 1698, 1703, 1140, 1155, 1703, 1699,
         1138, 1158, 1704, 1698, 1136,  147, 1707, 1706, 1139, 1163, 1701, 1703,
          993, 1142, 1147, 1699, 1705, 1134, 1128, 1698, 1703, 1132, 1200, 1703,
         1699, 1140, 1128, 1700, 1704, 1138, 1200, 1703, 1707, 1136, 1190, 1705,
         1706, 1139, 1200, 1707, 1705,  994, 1142, 1154, 1707, 1706, 1134, 1154,
         1705, 1706, 1132, 1158, 1700, 1704, 1140, 1164, 1701, 1698, 1138, 1169,
         1704, 1701, 1136, 1155, 1707, 1706, 1139, 1128, 1698, 1703, 1716, 1142,
         1154, 1705, 1706, 1134, 1169, 1707, 1705, 1132, 1160, 1705, 1706, 1140,
         1155, 1698, 1703, 1138, 1702, 1704, 1698, 1136, 1119, 1707, 1705, 1139,
         1151, 1707, 1705, 1715, 1142,  147, 1704, 1698, 1134, 1190, 1700, 1701,
         1132, 1165, 1705, 1706, 1140, 1130, 1699, 1707, 1138, 1147, 1703, 1699,
         1136, 1128, 1704, 1701, 1139, 1154, 1704, 1701,  988, 1142, 1158, 1704,
         1698, 1134, 1165, 1704, 1701, 1132, 1151, 1700, 1704, 1140, 1128, 1705,
         1706, 1138, 1702, 1704, 1701, 1136, 1169, 1703, 1699, 1139, 1163, 1707,
         1705, 1746, 1142, 1128, 1700, 1704, 1134, 1190, 1698, 1703, 1132, 1154,
         1707, 1705, 1140, 1155, 1707, 1705, 1138,  147, 1707, 1706, 1136, 1130,
         1699, 1705, 1139, 1160, 1703, 1707,  992, 1142, 1165, 1698, 1699],
        [1134, 1151, 1704, 1698, 1132, 1163, 1698, 1703, 1140, 1155, 1703, 1699,
         1138, 1158, 1704, 1698, 1136,  147, 1707, 1706, 1139, 1163, 1701, 1703,
          993, 1142, 1147, 1699, 1705, 1134, 1128, 1698, 1703, 1132, 1200, 1703,
         1699, 1140, 1128, 1700, 1704, 1138, 1200, 1703, 1707, 1136, 1190, 1705,
         1706, 1139, 1200, 1707, 1705,  994, 1142, 1154, 1707, 1706, 1134, 1154,
         1705, 1706, 1132, 1158, 1700, 1704, 1140, 1164, 1701, 1698, 1138, 1169,
         1704, 1701, 1136, 1155, 1707, 1706, 1139, 1128, 1698, 1703, 1716, 1142,
         1154, 1705, 1706, 1134, 1169, 1707, 1705, 1132, 1160, 1705, 1706, 1140,
         1155, 1698, 1703, 1138, 1702, 1704, 1698, 1136, 1119, 1707, 1705, 1139,
         1151, 1707, 1705, 1715, 1142,  147, 1704, 1698, 1134, 1190, 1700, 1701,
         1132, 1165, 1705, 1706, 1140, 1130, 1699, 1707, 1138, 1147, 1703, 1699,
         1136, 1128, 1704, 1701, 1139, 1154, 1704, 1701,  988, 1142, 1158, 1704,
         1698, 1134, 1165, 1704, 1701, 1132, 1151, 1700, 1704, 1140, 1128, 1705,
         1706, 1138, 1702, 1704, 1701, 1136, 1169, 1703, 1699, 1139, 1163, 1707,
         1705, 1746, 1142, 1128, 1700, 1704, 1134, 1190, 1698, 1703, 1132, 1154,
         1707, 1705, 1140, 1155, 1707, 1705, 1138,  147, 1707, 1706, 1136, 1130,
         1699, 1705, 1139, 1160, 1703, 1707,  992, 1142, 1165, 1698, 1699]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.007073163986206055
[1, 1, 29] 203 [torch.Size([2, 7, 200]), torch.Size([2, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.559231758117676
(15,) [17 10  4  3]
(tensor(-3.2336, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(11,) [ 19  27  26 971  14 961  48   4   3]
(tensor(-2.8129, device='cuda:0'), tensor([ 28,  27,  41,  26, 971,  14, 961,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['there', 'will', 'be', '@weather_attribute', 'in', '@location', 'today', '.'], ["you're", 'welcome', '.']]
['there', 'is', '@poi_name', '@poi_distance', 'away', 'from', 'here', 'but', 'with', '@traffic_info', 'on', 'our', 'way'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 10

minibatch.kb length: 35
minibatch.kb:
[(['palo', 'alto', 'medical', 'foundation', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'address'], ['@address'], ['611 Ames Ave']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi'], ['@poi'], ['Palo Alto Medical Foundation']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['434 Arastradero Rd']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Ravenswood Shopping Center']),
 (['pizza', 'hut', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['pizza', 'hut', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['pizza', 'hut', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['pizza', 'hut', '<pad>', 'address'], ['@address'], ['704 El Camino Real']),
 (['pizza', 'hut', '<pad>', 'poi'], ['@poi'], ['Pizza Hut']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'address'], ['@address'], ['481 Amaranta Ave']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi'], ['@poi'], ['Palo Alto Garage R']),
 (['pizza', 'chicago', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['pizza', 'chicago', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['pizza', 'chicago', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['pizza', 'chicago', '<pad>', 'address'], ['@address'], ['915 Arbol Dr']),
 (['pizza', 'chicago', '<pad>', 'poi'], ['@poi'], ['Pizza Chicago']),
 (['pizza', 'my', 'heart', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['pizza', 'my', 'heart', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['pizza', 'my', 'heart', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['pizza', 'my', 'heart', '<pad>', 'address'], ['@address'], ['528 Anton Ct']),
 (['pizza', 'my', 'heart', '<pad>', 'poi'], ['@poi'], ['Pizza My Heart']),
 (['four', 'seasons', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['four', 'seasons', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['four', 'seasons', '<pad>', 'poi_type'], ['@poi_type'], ['rest stop']),
 (['four', 'seasons', '<pad>', 'address'], ['@address'], ['465 Arcadia Pl']),
 (['four', 'seasons', '<pad>', 'poi'], ['@poi'], ['Four Seasons'])]

minibatch.src/trg: (['give', 'me', 'directions', 'to', 'nearest', 'mall'], ['there', 'is', '@poi_name', '@poi_distance', 'away', 'from', 'here', 'but', 'with', '@traffic_info', 'on', 'our', 'way'])

batch_with_kb: current, kb_len, current+kb_len:  963 35 998

corresponding_kb: 10

example number: 25

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[25]): [(23, 9), (24, 9), (25, 10), (26, 10), (27, 10)]
['the', 'address', 'to', '@poi_name', 'is', '@poi_address', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 10

minibatch.kb length: 35
minibatch.kb:
[(['palo', 'alto', 'medical', 'foundation', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'address'], ['@address'], ['611 Ames Ave']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi'], ['@poi'], ['Palo Alto Medical Foundation']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['434 Arastradero Rd']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Ravenswood Shopping Center']),
 (['pizza', 'hut', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['pizza', 'hut', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['pizza', 'hut', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['pizza', 'hut', '<pad>', 'address'], ['@address'], ['704 El Camino Real']),
 (['pizza', 'hut', '<pad>', 'poi'], ['@poi'], ['Pizza Hut']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'address'], ['@address'], ['481 Amaranta Ave']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi'], ['@poi'], ['Palo Alto Garage R']),
 (['pizza', 'chicago', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['pizza', 'chicago', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['pizza', 'chicago', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['pizza', 'chicago', '<pad>', 'address'], ['@address'], ['915 Arbol Dr']),
 (['pizza', 'chicago', '<pad>', 'poi'], ['@poi'], ['Pizza Chicago']),
 (['pizza', 'my', 'heart', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['pizza', 'my', 'heart', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['pizza', 'my', 'heart', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['pizza', 'my', 'heart', '<pad>', 'address'], ['@address'], ['528 Anton Ct']),
 (['pizza', 'my', 'heart', '<pad>', 'poi'], ['@poi'], ['Pizza My Heart']),
 (['four', 'seasons', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['four', 'seasons', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['four', 'seasons', '<pad>', 'poi_type'], ['@poi_type'], ['rest stop']),
 (['four', 'seasons', '<pad>', 'address'], ['@address'], ['465 Arcadia Pl']),
 (['four', 'seasons', '<pad>', 'poi'], ['@poi'], ['Four Seasons'])]

minibatch.src/trg: (['give', 'me', 'directions', 'to', 'nearest', 'mall', '@dot', 'there', 'is', 'ravenswood', 'shopping', 'center', '5', 'miles', 'away', 'from', 'here', 'but', 'with', 'heavy', 'traffic', 'on', 'our', 'way', '@dot', 'give', 'me', 'the', 'address', '.'], ['the', 'address', 'to', '@poi_name', 'is', '@poi_address', '.'])

batch_with_kb: current, kb_len, current+kb_len:  963 35 998

corresponding_kb: 10

example number: 26

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[26]): [(24, 9), (25, 10), (26, 10), (27, 10), (28, 11)]
['you', 'are', 'welcome', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 10

minibatch.kb length: 35
minibatch.kb:
[(['palo', 'alto', 'medical', 'foundation', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'address'], ['@address'], ['611 Ames Ave']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi'], ['@poi'], ['Palo Alto Medical Foundation']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['434 Arastradero Rd']),
 (['ravenswood', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Ravenswood Shopping Center']),
 (['pizza', 'hut', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['pizza', 'hut', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['pizza', 'hut', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['pizza', 'hut', '<pad>', 'address'], ['@address'], ['704 El Camino Real']),
 (['pizza', 'hut', '<pad>', 'poi'], ['@poi'], ['Pizza Hut']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'address'], ['@address'], ['481 Amaranta Ave']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi'], ['@poi'], ['Palo Alto Garage R']),
 (['pizza', 'chicago', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['pizza', 'chicago', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['pizza', 'chicago', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['pizza', 'chicago', '<pad>', 'address'], ['@address'], ['915 Arbol Dr']),
 (['pizza', 'chicago', '<pad>', 'poi'], ['@poi'], ['Pizza Chicago']),
 (['pizza', 'my', 'heart', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['pizza', 'my', 'heart', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['pizza', 'my', 'heart', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['pizza', 'my', 'heart', '<pad>', 'address'], ['@address'], ['528 Anton Ct']),
 (['pizza', 'my', 'heart', '<pad>', 'poi'], ['@poi'], ['Pizza My Heart']),
 (['four', 'seasons', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['four', 'seasons', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['four', 'seasons', '<pad>', 'poi_type'], ['@poi_type'], ['rest stop']),
 (['four', 'seasons', '<pad>', 'address'], ['@address'], ['465 Arcadia Pl']),
 (['four', 'seasons', '<pad>', 'poi'], ['@poi'], ['Four Seasons'])]

minibatch.src/trg: (['give', 'me', 'directions', 'to', 'nearest', 'mall', '@dot', 'there', 'is', 'ravenswood', 'shopping', 'center', '5', 'miles', 'away', 'from', 'here', 'but', 'with', 'heavy', 'traffic', 'on', 'our', 'way', '@dot', 'give', 'me', 'the', 'address', '.', '@dot', 'the', 'address', 'to', 'ravenswood', 'shopping', 'center', 'is', '434', 'arastradero', 'rd', '.', '@dot', 'thank', 'you', 'car', ',', 'please', 'pick', 'the', 'quickest', 'way', 'to', 'get', 'there', '!'], ['you', 'are', 'welcome', '.'])

batch_with_kb: current, kb_len, current+kb_len:  963 35 998

corresponding_kb: 10

example number: 27

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[27]): [(25, 10), (26, 10), (27, 10), (28, 11), (29, 11)]
proc_batch: batch.src: ['give', 'me', 'directions', 'to', 'nearest', 'mall', '@dot', 'there', 'is', 'ravenswood', 'shopping', 'center', '5', 'miles', 'away', 'from', 'here', 'but', 'with', 'heavy', 'traffic', 'on', 'our', 'way', '@dot', 'give', 'me', 'the', 'address', '.', '@dot', 'the', 'address', 'to', 'ravenswood', 'shopping', 'center', 'is', '434', 'arastradero', 'rd', '.', '@dot', 'thank', 'you', 'car', ',', 'please', 'pick', 'the', 'quickest', 'way', 'to', 'get', 'there', '!']
proc_batch: batch.trg: ['you', 'are', 'welcome', '.']
proc_batch: kbkeys: [['palo', 'alto', 'medical', 'foundation', '<pad>', 'distance', '<pad>'], ['palo', 'alto', 'medical', 'foundation', '<pad>', 'traffic_info', '<pad>'], ['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi_type', '<pad>'], ['palo', 'alto', 'medical', 'foundation', '<pad>', 'address', '<pad>'], ['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi', '<pad>'], ['ravenswood', 'shopping', 'center', '<pad>', 'distance', '<pad>', '<pad>'], ['ravenswood', 'shopping', 'center', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['ravenswood', 'shopping', 'center', '<pad>', 'poi_type', '<pad>', '<pad>'], ['ravenswood', 'shopping', 'center', '<pad>', 'address', '<pad>', '<pad>'], ['ravenswood', 'shopping', 'center', '<pad>', 'poi', '<pad>', '<pad>'], ['pizza', 'hut', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['pizza', 'hut', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['pizza', 'hut', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['pizza', 'hut', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['pizza', 'hut', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'distance', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'address', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'poi', '<pad>'], ['pizza', 'chicago', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['pizza', 'chicago', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['pizza', 'chicago', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['pizza', 'chicago', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['pizza', 'chicago', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['pizza', 'my', 'heart', '<pad>', 'distance', '<pad>', '<pad>'], ['pizza', 'my', 'heart', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['pizza', 'my', 'heart', '<pad>', 'poi_type', '<pad>', '<pad>'], ['pizza', 'my', 'heart', '<pad>', 'address', '<pad>', '<pad>'], ['pizza', 'my', 'heart', '<pad>', 'poi', '<pad>', '<pad>'], ['four', 'seasons', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['four', 'seasons', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['four', 'seasons', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['four', 'seasons', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['four', 'seasons', '<pad>', 'poi', '<pad>', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi']]
debug: batch.kbtrv:[['6 miles'], ['heavy traffic'], ['hospital'], ['611 Ames Ave'], ['Palo Alto Medical Foundation'], ['5 miles'], ['heavy traffic'], ['shopping center'], ['434 Arastradero Rd'], ['Ravenswood Shopping Center'], ['5 miles'], ['heavy traffic'], ['pizza restaurant'], ['704 El Camino Real'], ['Pizza Hut'], ['3 miles'], ['no traffic'], ['parking garage'], ['481 Amaranta Ave'], ['Palo Alto Garage R'], ['1 miles'], ['heavy traffic'], ['pizza restaurant'], ['915 Arbol Dr'], ['Pizza Chicago'], ['3 miles'], ['no traffic'], ['pizza restaurant'], ['528 Anton Ct'], ['Pizza My Heart'], ['1 miles'], ['no traffic'], ['rest stop'], ['465 Arcadia Pl'], ['Four Seasons']]
Time spent on converting arrays to sentences for current batch: 0.004386186599731445
debug: kb_true_vals :torch.Size([3, 35])
debug: kb_true_vals content:tensor([[1631, 1645, 1143, 1675, 1676, 1672, 1645, 1658, 1679, 1680, 1672, 1645,
         1649, 1748, 1747, 1664, 1632, 1628, 1670, 1671, 1644, 1645, 1649, 1650,
         1651, 1664, 1632, 1649, 1799, 1800, 1644, 1632, 1641, 1750, 1749],
        [1631, 1645, 1143, 1675, 1676, 1672, 1645, 1658, 1679, 1680, 1672, 1645,
         1649, 1748, 1747, 1664, 1632, 1628, 1670, 1671, 1644, 1645, 1649, 1650,
         1651, 1664, 1632, 1649, 1799, 1800, 1644, 1632, 1641, 1750, 1749],
        [1631, 1645, 1143, 1675, 1676, 1672, 1645, 1658, 1679, 1680, 1672, 1645,
         1649, 1748, 1747, 1664, 1632, 1628, 1670, 1671, 1644, 1645, 1649, 1650,
         1651, 1664, 1632, 1649, 1799, 1800, 1644, 1632, 1641, 1750, 1749]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.002147674560546875
[1, 1, 5] 35 [torch.Size([3, 7, 200]), torch.Size([3, 5, 200])] [['distance'], ['traffic_info'], ['poi_type'], ['address'], ['poi']]
Time spent on knowledgebase attention dimensions == 2: 1.45805025100708
(11,) [970   5 973  24   4   3]
(tensor(-2.3900, device='cuda:0'), tensor([970,   5, 973,  24,   4,   3], device='cuda:0')) <class 'tuple'>
(13,) [970   5  49  11 974   4   3]
(tensor(-1.5210, device='cuda:0'), tensor([970,   5,  11, 974,   4,   3], device='cuda:0')) <class 'tuple'>
(15,) [25 59  6 94  9 20 55  7 67 82 23  3]
(tensor(-2.9773, device='cuda:0'), tensor([ 43,  76,  12, 974,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['@poi_name', 'is', '@poi_distance', 'away', '.'], ['@poi_name', 'is', 'located', 'at', '@poi_address', '.'], ['i', 'sent', 'the', 'info', 'on', 'your', 'screen', ',', 'drive', 'carefully', '!']]
['on', '@date', 'the', 'forecast', 'is', 'predicted', 'to', 'be', '@weather_attribute', 'in', '@location', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 11

minibatch.kb length: 203
minibatch.kb:
[(['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['blizzard']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['hot']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['frost']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['oakland', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['oakland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['oakland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['oakland', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['oakland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['oakland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['oakland', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['oakland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['oakland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['oakland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['oakland', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['oakland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['oakland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['oakland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['oakland', '<pad>', 'thursday_weather'], ['@weather'], ['dew']),
 (['oakland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['oakland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['oakland', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['oakland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['oakland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'location'], ['@location'], ['oakland']),
 (['oakland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['oakland', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['oakland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['oakland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['hail']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['misty']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['dry']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['blizzard']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['frost']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['blizzard']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['cleveland', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['cleveland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['cleveland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['cleveland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['cleveland', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['cleveland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['cleveland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['cleveland', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['cleveland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['cleveland', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['cleveland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['cleveland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['cleveland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['cleveland', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['cleveland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['cleveland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['cleveland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['cleveland', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['cleveland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['cleveland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['cleveland', '<pad>', 'location'], ['@location'], ['cleveland']),
 (['cleveland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['cleveland', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['cleveland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['misty']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['snow']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['carson', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['carson', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['carson', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['carson', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['carson', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['carson', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['carson', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['carson', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['carson', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['carson', '<pad>', 'friday_weather'], ['@weather'], ['dew']),
 (['carson', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['carson', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['carson', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['carson', '<pad>', 'wednesday_weather'], ['@weather'], ['misty']),
 (['carson', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['carson', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['carson', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['carson', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['carson', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['carson', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['carson', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['carson', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['carson', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['carson', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['carson', '<pad>', 'location'], ['@location'], ['carson']),
 (['carson', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['carson', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['carson', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['carson', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F'])]

minibatch.src/trg: (['is', 'it', 'gonna', 'be', 'dry', 'in', 'carson', 'on', 'sunday', '?'], ['on', '@date', 'the', 'forecast', 'is', 'predicted', 'to', 'be', '@weather_attribute', 'in', '@location', '.'])

batch_with_kb: current, kb_len, current+kb_len:  998 203 1201

corresponding_kb: 11

example number: 28

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[28]): [(26, 10), (27, 10), (28, 11), (29, 11), (30, 12)]
['anytime', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 11

minibatch.kb length: 203
minibatch.kb:
[(['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['blizzard']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['hot']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['dry']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['frost']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['oakland', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['oakland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['oakland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['oakland', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['oakland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['oakland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['oakland', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['oakland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['oakland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['oakland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['oakland', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['oakland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['oakland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['oakland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['oakland', '<pad>', 'thursday_weather'], ['@weather'], ['dew']),
 (['oakland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['oakland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['oakland', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['oakland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['oakland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'location'], ['@location'], ['oakland']),
 (['oakland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['oakland', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['oakland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['oakland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['hail']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['misty']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['dry']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['blizzard']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['frost']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['blizzard']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['cleveland', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['cleveland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['cleveland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['cleveland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['cleveland', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['cleveland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['cleveland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['cleveland', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['cleveland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['cleveland', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['cleveland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['cleveland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['cleveland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['cleveland', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['cleveland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['cleveland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['cleveland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['cleveland', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['cleveland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['cleveland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['cleveland', '<pad>', 'location'], ['@location'], ['cleveland']),
 (['cleveland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['cleveland', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['cleveland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['misty']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['snow']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['carson', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['carson', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['carson', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['carson', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['carson', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['carson', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['carson', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['carson', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['carson', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['carson', '<pad>', 'friday_weather'], ['@weather'], ['dew']),
 (['carson', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['carson', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['carson', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['carson', '<pad>', 'wednesday_weather'], ['@weather'], ['misty']),
 (['carson', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['carson', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['carson', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['carson', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['carson', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['carson', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['carson', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['carson', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['carson', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['carson', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['carson', '<pad>', 'location'], ['@location'], ['carson']),
 (['carson', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['carson', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['carson', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['carson', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F'])]

minibatch.src/trg: (['is', 'it', 'gonna', 'be', 'dry', 'in', 'carson', 'on', 'sunday', '?', '@dot', 'on', 'sunday', 'the', 'forecast', 'is', 'predicted', 'to', 'be', 'foggy', 'in', 'carson', '.', '@dot', 'thank', 'you', '.'], ['anytime', '.'])

batch_with_kb: current, kb_len, current+kb_len:  998 203 1201

corresponding_kb: 11

example number: 29

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[29]): [(27, 10), (28, 11), (29, 11), (30, 12), (31, 12)]
proc_batch: batch.src: ['is', 'it', 'gonna', 'be', 'dry', 'in', 'carson', 'on', 'sunday', '?', '@dot', 'on', 'sunday', 'the', 'forecast', 'is', 'predicted', 'to', 'be', 'foggy', 'in', 'carson', '.', '@dot', 'thank', 'you', '.']
proc_batch: batch.trg: ['anytime', '.']
proc_batch: kbkeys: [['san', 'mateo', '<pad>', 'monday_date', '<pad>'], ['san', 'mateo', '<pad>', 'monday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_date', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'friday_date', '<pad>'], ['san', 'mateo', '<pad>', 'friday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_date', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_date', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_date', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'location', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_date', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_temperature_high', '<pad>'], ['oakland', '<pad>', 'monday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'location', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'location', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['menlo', 'park', '<pad>', 'monday_date', '<pad>'], ['menlo', 'park', '<pad>', 'monday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'friday_date', '<pad>'], ['menlo', 'park', '<pad>', 'friday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_date', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_date', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'location', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_date', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_high', '<pad>'], ['cleveland', '<pad>', 'monday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'location', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'location', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'monday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'friday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'location', '<pad>', '<pad>'], ['carson', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['blizzard'], ['40F'], ['60F'], ['tuesday'], ['dry'], ['90F'], ['100F'], ['friday'], ['hot'], ['80F'], ['100F'], ['wednesday'], ['raining'], ['90F'], ['100F'], ['thursday'], ['dry'], ['30F'], ['40F'], ['sunday'], ['snow'], ['40F'], ['50F'], ['san mateo'], ['saturday'], ['frost'], ['30F'], ['40F'], ['monday'], ['clear skies'], ['20F'], ['40F'], ['tuesday'], ['clear skies'], ['20F'], ['40F'], ['friday'], ['foggy'], ['20F'], ['30F'], ['wednesday'], ['warm'], ['80F'], ['100F'], ['thursday'], ['dew'], ['70F'], ['80F'], ['sunday'], ['clear skies'], ['70F'], ['80F'], ['oakland'], ['saturday'], ['overcast'], ['20F'], ['30F'], ['monday'], ['stormy'], ['70F'], ['80F'], ['tuesday'], ['rain'], ['20F'], ['40F'], ['friday'], ['hail'], ['80F'], ['90F'], ['wednesday'], ['misty'], ['70F'], ['80F'], ['thursday'], ['cloudy'], ['60F'], ['80F'], ['sunday'], ['rain'], ['40F'], ['60F'], ['manhattan'], ['saturday'], ['dry'], ['90F'], ['100F'], ['monday'], ['overcast'], ['30F'], ['40F'], ['tuesday'], ['blizzard'], ['20F'], ['30F'], ['friday'], ['overcast'], ['80F'], ['90F'], ['wednesday'], ['frost'], ['30F'], ['50F'], ['thursday'], ['overcast'], ['50F'], ['70F'], ['sunday'], ['rain'], ['80F'], ['90F'], ['menlo park'], ['saturday'], ['blizzard'], ['40F'], ['50F'], ['monday'], ['foggy'], ['90F'], ['100F'], ['tuesday'], ['drizzle'], ['40F'], ['50F'], ['friday'], ['dry'], ['30F'], ['50F'], ['wednesday'], ['drizzle'], ['60F'], ['70F'], ['thursday'], ['cloudy'], ['90F'], ['100F'], ['sunday'], ['raining'], ['20F'], ['40F'], ['cleveland'], ['saturday'], ['raining'], ['30F'], ['50F'], ['monday'], ['clear skies'], ['80F'], ['100F'], ['tuesday'], ['overcast'], ['40F'], ['50F'], ['friday'], ['cloudy'], ['50F'], ['60F'], ['wednesday'], ['raining'], ['30F'], ['40F'], ['thursday'], ['misty'], ['30F'], ['50F'], ['sunday'], ['warm'], ['70F'], ['90F'], ['seattle'], ['saturday'], ['snow'], ['50F'], ['60F'], ['monday'], ['windy'], ['50F'], ['70F'], ['tuesday'], ['cloudy'], ['20F'], ['30F'], ['friday'], ['dew'], ['70F'], ['80F'], ['wednesday'], ['misty'], ['90F'], ['100F'], ['thursday'], ['drizzle'], ['70F'], ['80F'], ['sunday'], ['foggy'], ['30F'], ['40F'], ['carson'], ['saturday'], ['clear skies'], ['70F'], ['80F']]
Time spent on converting arrays to sentences for current batch: 0.00468134880065918
debug: kb_true_vals :torch.Size([2, 203])
debug: kb_true_vals content:tensor([[1134, 1164, 1701, 1703, 1132, 1169, 1705, 1706, 1140, 1147, 1707, 1706,
         1138,  147, 1705, 1706, 1136, 1169, 1704, 1701, 1139, 1128, 1701, 1698,
         1715, 1142, 1158, 1704, 1701, 1134, 1702, 1700, 1701, 1132, 1702, 1700,
         1701, 1140, 1154, 1700, 1704, 1138, 1166, 1707, 1706, 1136, 1215, 1699,
         1707, 1139, 1702, 1699, 1707,  993, 1142, 1155, 1700, 1704, 1134, 1190,
         1699, 1707, 1132, 1119, 1700, 1701, 1140, 1165, 1707, 1705, 1138, 1200,
         1699, 1707, 1136, 1130, 1703, 1707, 1139, 1119, 1701, 1703,  996, 1142,
         1169, 1705, 1706, 1134, 1155, 1704, 1701, 1132, 1164, 1700, 1704, 1140,
         1155, 1707, 1705, 1138, 1158, 1704, 1698, 1136, 1155, 1698, 1699, 1139,
         1119, 1707, 1705, 1708, 1142, 1164, 1701, 1698, 1134, 1154, 1705, 1706,
         1132, 1151, 1701, 1698, 1140, 1169, 1704, 1698, 1138, 1151, 1703, 1699,
         1136, 1130, 1705, 1706, 1139,  147, 1700, 1701,  995, 1142,  147, 1704,
         1698, 1134, 1702, 1707, 1706, 1132, 1155, 1701, 1698, 1140, 1130, 1698,
         1703, 1138,  147, 1704, 1701, 1136, 1200, 1704, 1698, 1139, 1166, 1699,
         1705,  992, 1142, 1128, 1698, 1703, 1134, 1163, 1698, 1699, 1132, 1130,
         1700, 1704, 1140, 1215, 1699, 1707, 1138, 1200, 1705, 1706, 1136, 1151,
         1699, 1707, 1139, 1154, 1704, 1701, 1035, 1142, 1702, 1699, 1707],
        [1134, 1164, 1701, 1703, 1132, 1169, 1705, 1706, 1140, 1147, 1707, 1706,
         1138,  147, 1705, 1706, 1136, 1169, 1704, 1701, 1139, 1128, 1701, 1698,
         1715, 1142, 1158, 1704, 1701, 1134, 1702, 1700, 1701, 1132, 1702, 1700,
         1701, 1140, 1154, 1700, 1704, 1138, 1166, 1707, 1706, 1136, 1215, 1699,
         1707, 1139, 1702, 1699, 1707,  993, 1142, 1155, 1700, 1704, 1134, 1190,
         1699, 1707, 1132, 1119, 1700, 1701, 1140, 1165, 1707, 1705, 1138, 1200,
         1699, 1707, 1136, 1130, 1703, 1707, 1139, 1119, 1701, 1703,  996, 1142,
         1169, 1705, 1706, 1134, 1155, 1704, 1701, 1132, 1164, 1700, 1704, 1140,
         1155, 1707, 1705, 1138, 1158, 1704, 1698, 1136, 1155, 1698, 1699, 1139,
         1119, 1707, 1705, 1708, 1142, 1164, 1701, 1698, 1134, 1154, 1705, 1706,
         1132, 1151, 1701, 1698, 1140, 1169, 1704, 1698, 1138, 1151, 1703, 1699,
         1136, 1130, 1705, 1706, 1139,  147, 1700, 1701,  995, 1142,  147, 1704,
         1698, 1134, 1702, 1707, 1706, 1132, 1155, 1701, 1698, 1140, 1130, 1698,
         1703, 1138,  147, 1704, 1701, 1136, 1200, 1704, 1698, 1139, 1166, 1699,
         1705,  992, 1142, 1128, 1698, 1703, 1134, 1163, 1698, 1699, 1132, 1130,
         1700, 1704, 1140, 1215, 1699, 1707, 1138, 1200, 1705, 1706, 1136, 1151,
         1699, 1707, 1139, 1154, 1704, 1701, 1035, 1142, 1702, 1699, 1707]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.0072553157806396484
[1, 1, 29] 203 [torch.Size([2, 7, 200]), torch.Size([2, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.50025200843811
(20,) [ 8 22 10  4  3]
(tensor(-3.4583, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(19,) [ 28  27  41  26 971  14 961   9 955   4   3]
(tensor(-2.7227, device='cuda:0'), tensor([ 19,  27,  26, 971,  14, 961,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['it', 'will', 'not', 'be', '@weather_attribute', 'in', '@location', 'on', '@date', '.'], ['you', 'are', 'welcome', '.']]
['your', "doctor's", 'appointment', 'is', 'on', '@date', 'at', '@time'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 12

minibatch.kb length: 36
minibatch.kb:
[(['lab', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['lab', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['lab', 'appointment', '<pad>', 'time'], ['@time'], ['11 am']),
 (['lab', 'appointment', '<pad>', 'date'], ['@date'], ['wednesday']),
 (['lab', 'appointment', '<pad>', 'party'], ['@party'], ['-']),
 (['lab', 'appointment', '<pad>', 'event'], ['@event'], ['lab appointment']),
 (['doctor', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['doctor', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['doctor', 'appointment', '<pad>', 'time'], ['@time'], ['2 pm']),
 (['doctor', 'appointment', '<pad>', 'date'], ['@date'], ['thursday']),
 (['doctor', 'appointment', '<pad>', 'party'], ['@party'], ['-']),
 (['doctor', 'appointment', '<pad>', 'event'], ['@event'], ['doctor appointment']),
 (['football', 'activity', '<pad>', 'room'], ['@room'], ['-']),
 (['football', 'activity', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['football', 'activity', '<pad>', 'time'], ['@time'], ['7 pm']),
 (['football', 'activity', '<pad>', 'date'], ['@date'], ['monday']),
 (['football', 'activity', '<pad>', 'party'], ['@party'], ['-']),
 (['football', 'activity', '<pad>', 'event'], ['@event'], ['football activity']),
 (['dentist', '<pad>', 'room'], ['@room'], ['-']),
 (['dentist', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['dentist', '<pad>', 'time'], ['@time'], ['1 pm']),
 (['dentist', '<pad>', 'date'], ['@date'], ['friday']),
 (['dentist', '<pad>', 'party'], ['@party'], ['-']),
 (['dentist', '<pad>', 'event'], ['@event'], ['dentist']),
 (['yoga', 'activity', '<pad>', 'room'], ['@room'], ['-']),
 (['yoga', 'activity', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['yoga', 'activity', '<pad>', 'time'], ['@time'], ['10 am']),
 (['yoga', 'activity', '<pad>', 'date'], ['@date'], ['friday']),
 (['yoga', 'activity', '<pad>', 'party'], ['@party'], ['-']),
 (['yoga', 'activity', '<pad>', 'event'], ['@event'], ['yoga activity']),
 (['medicine', '<pad>', 'room'], ['@room'], ['-']),
 (['medicine', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['medicine', '<pad>', 'time'], ['@time'], ['7 pm']),
 (['medicine', '<pad>', 'date'], ['@date'], ['wednesday']),
 (['medicine', '<pad>', 'party'], ['@party'], ['-']),
 (['medicine', '<pad>', 'event'], ['@event'], ['medicine'])]

minibatch.src/trg: (['what', 'time', 'and', 'day', 'is', 'my', "doctor's", 'appointment', 'on'], ['your', "doctor's", 'appointment', 'is', 'on', '@date', 'at', '@time'])

batch_with_kb: current, kb_len, current+kb_len:  1201 36 1237

corresponding_kb: 12

example number: 30

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[30]): [(28, 11), (29, 11), (30, 12), (31, 12), (32, 13)]
["you're", 'welcome', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 12

minibatch.kb length: 36
minibatch.kb:
[(['lab', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['lab', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['lab', 'appointment', '<pad>', 'time'], ['@time'], ['11 am']),
 (['lab', 'appointment', '<pad>', 'date'], ['@date'], ['wednesday']),
 (['lab', 'appointment', '<pad>', 'party'], ['@party'], ['-']),
 (['lab', 'appointment', '<pad>', 'event'], ['@event'], ['lab appointment']),
 (['doctor', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['doctor', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['doctor', 'appointment', '<pad>', 'time'], ['@time'], ['2 pm']),
 (['doctor', 'appointment', '<pad>', 'date'], ['@date'], ['thursday']),
 (['doctor', 'appointment', '<pad>', 'party'], ['@party'], ['-']),
 (['doctor', 'appointment', '<pad>', 'event'], ['@event'], ['doctor appointment']),
 (['football', 'activity', '<pad>', 'room'], ['@room'], ['-']),
 (['football', 'activity', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['football', 'activity', '<pad>', 'time'], ['@time'], ['7 pm']),
 (['football', 'activity', '<pad>', 'date'], ['@date'], ['monday']),
 (['football', 'activity', '<pad>', 'party'], ['@party'], ['-']),
 (['football', 'activity', '<pad>', 'event'], ['@event'], ['football activity']),
 (['dentist', '<pad>', 'room'], ['@room'], ['-']),
 (['dentist', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['dentist', '<pad>', 'time'], ['@time'], ['1 pm']),
 (['dentist', '<pad>', 'date'], ['@date'], ['friday']),
 (['dentist', '<pad>', 'party'], ['@party'], ['-']),
 (['dentist', '<pad>', 'event'], ['@event'], ['dentist']),
 (['yoga', 'activity', '<pad>', 'room'], ['@room'], ['-']),
 (['yoga', 'activity', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['yoga', 'activity', '<pad>', 'time'], ['@time'], ['10 am']),
 (['yoga', 'activity', '<pad>', 'date'], ['@date'], ['friday']),
 (['yoga', 'activity', '<pad>', 'party'], ['@party'], ['-']),
 (['yoga', 'activity', '<pad>', 'event'], ['@event'], ['yoga activity']),
 (['medicine', '<pad>', 'room'], ['@room'], ['-']),
 (['medicine', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['medicine', '<pad>', 'time'], ['@time'], ['7 pm']),
 (['medicine', '<pad>', 'date'], ['@date'], ['wednesday']),
 (['medicine', '<pad>', 'party'], ['@party'], ['-']),
 (['medicine', '<pad>', 'event'], ['@event'], ['medicine'])]

minibatch.src/trg: (['what', 'time', 'and', 'day', 'is', 'my', "doctor's", 'appointment', 'on', '@dot', 'your', "doctor's", 'appointment', 'is', 'on', 'thursday', 'at', '2', 'pm', '@dot', 'thank', 'you'], ["you're", 'welcome', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1201 36 1237

corresponding_kb: 12

example number: 31

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[31]): [(29, 11), (30, 12), (31, 12), (32, 13), (33, 13)]
proc_batch: batch.src: ['what', 'time', 'and', 'day', 'is', 'my', "doctor's", 'appointment', 'on', '@dot', 'your', "doctor's", 'appointment', 'is', 'on', 'thursday', 'at', '2', 'pm', '@dot', 'thank', 'you']
proc_batch: batch.trg: ["you're", 'welcome', '.']
proc_batch: kbkeys: [['lab', 'appointment', '<pad>', 'room', '<pad>'], ['lab', 'appointment', '<pad>', 'agenda', '<pad>'], ['lab', 'appointment', '<pad>', 'time', '<pad>'], ['lab', 'appointment', '<pad>', 'date', '<pad>'], ['lab', 'appointment', '<pad>', 'party', '<pad>'], ['lab', 'appointment', '<pad>', 'event', '<pad>'], ['doctor', 'appointment', '<pad>', 'room', '<pad>'], ['doctor', 'appointment', '<pad>', 'agenda', '<pad>'], ['doctor', 'appointment', '<pad>', 'time', '<pad>'], ['doctor', 'appointment', '<pad>', 'date', '<pad>'], ['doctor', 'appointment', '<pad>', 'party', '<pad>'], ['doctor', 'appointment', '<pad>', 'event', '<pad>'], ['football', 'activity', '<pad>', 'room', '<pad>'], ['football', 'activity', '<pad>', 'agenda', '<pad>'], ['football', 'activity', '<pad>', 'time', '<pad>'], ['football', 'activity', '<pad>', 'date', '<pad>'], ['football', 'activity', '<pad>', 'party', '<pad>'], ['football', 'activity', '<pad>', 'event', '<pad>'], ['dentist', '<pad>', 'room', '<pad>', '<pad>'], ['dentist', '<pad>', 'agenda', '<pad>', '<pad>'], ['dentist', '<pad>', 'time', '<pad>', '<pad>'], ['dentist', '<pad>', 'date', '<pad>', '<pad>'], ['dentist', '<pad>', 'party', '<pad>', '<pad>'], ['dentist', '<pad>', 'event', '<pad>', '<pad>'], ['yoga', 'activity', '<pad>', 'room', '<pad>'], ['yoga', 'activity', '<pad>', 'agenda', '<pad>'], ['yoga', 'activity', '<pad>', 'time', '<pad>'], ['yoga', 'activity', '<pad>', 'date', '<pad>'], ['yoga', 'activity', '<pad>', 'party', '<pad>'], ['yoga', 'activity', '<pad>', 'event', '<pad>'], ['medicine', '<pad>', 'room', '<pad>', '<pad>'], ['medicine', '<pad>', 'agenda', '<pad>', '<pad>'], ['medicine', '<pad>', 'time', '<pad>', '<pad>'], ['medicine', '<pad>', 'date', '<pad>', '<pad>'], ['medicine', '<pad>', 'party', '<pad>', '<pad>'], ['medicine', '<pad>', 'event', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event']]
debug: batch.kbtrv:[['-'], ['-'], ['11 am'], ['wednesday'], ['-'], ['lab appointment'], ['-'], ['-'], ['2 pm'], ['thursday'], ['-'], ['doctor appointment'], ['-'], ['-'], ['7 pm'], ['monday'], ['-'], ['football activity'], ['-'], ['-'], ['1 pm'], ['friday'], ['-'], ['dentist'], ['-'], ['-'], ['10 am'], ['friday'], ['-'], ['yoga activity'], ['-'], ['-'], ['7 pm'], ['wednesday'], ['-'], ['medicine']]
Time spent on converting arrays to sentences for current batch: 0.004424571990966797
debug: kb_true_vals :torch.Size([2, 36])
debug: kb_true_vals content:tensor([[  63,   63, 1777, 1138,   63, 1696,   63,   63, 1809, 1136,   63, 1739,
           63,   63, 1779, 1134,   63, 1692,   63,   63, 1775, 1140,   63, 1042,
           63,   63, 1782, 1140,   63, 1694,   63,   63, 1779, 1138,   63,  170],
        [  63,   63, 1777, 1138,   63, 1696,   63,   63, 1809, 1136,   63, 1739,
           63,   63, 1779, 1134,   63, 1692,   63,   63, 1775, 1140,   63, 1042,
           63,   63, 1782, 1140,   63, 1694,   63,   63, 1779, 1138,   63,  170]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.002080678939819336
[1, 1, 6] 36 [torch.Size([2, 6, 200]), torch.Size([2, 6, 200])] [['room'], ['agenda'], ['time'], ['date'], ['party'], ['event']]
Time spent on knowledgebase attention dimensions == 2: 1.437978982925415
(12,) [955  11 965   4   3]
(tensor(-1.5043, device='cuda:0'), tensor([955,   3], device='cuda:0')) <class 'tuple'>
(18,) [ 8 22 10  4  3]
(tensor(-1.5444, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['@date', 'at', '@time', '.'], ['you', 'are', 'welcome', '.']]
['what', 'city', 'are', 'you', 'interested', 'in', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 13

minibatch.kb length: 203
minibatch.kb:
[(['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['warm']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['warm']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['los', 'angeles', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['los', 'angeles', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['los', 'angeles', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['los', 'angeles', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['los', 'angeles', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['los', 'angeles', '<pad>', 'tuesday_weather'], ['@weather'], ['warm']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['los', 'angeles', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['los', 'angeles', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['los', 'angeles', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['los', 'angeles', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['los', 'angeles', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['los', 'angeles', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['los', 'angeles', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['los', 'angeles', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['los', 'angeles', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['los', 'angeles', '<pad>', 'location'], ['@location'], ['los angeles']),
 (['los', 'angeles', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['los', 'angeles', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['hot']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['durham', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['durham', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['durham', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['durham', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['durham', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['durham', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['durham', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['durham', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['durham', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['durham', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['durham', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['durham', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['durham', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['durham', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['durham', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['durham', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['durham', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['durham', '<pad>', 'location'], ['@location'], ['durham']),
 (['durham', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['durham', '<pad>', 'saturday_weather'], ['@weather'], ['snow']),
 (['durham', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['durham', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'jose', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['san', 'jose', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'jose', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'jose', '<pad>', 'tuesday_weather'], ['@weather'], ['windy']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'jose', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['san', 'jose', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'jose', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'jose', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'jose', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'jose', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'jose', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'jose', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['san', 'jose', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'jose', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'jose', '<pad>', 'location'], ['@location'], ['san jose']),
 (['san', 'jose', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'jose', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'jose', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F'])]

minibatch.src/trg: (['what', 'will', 'the', 'temperature', 'be', 'for', 'the', 'next', 'week'], ['what', 'city', 'are', 'you', 'interested', 'in', '?'])

batch_with_kb: current, kb_len, current+kb_len:  1237 203 1440

corresponding_kb: 13

example number: 32

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[32]): [(30, 12), (31, 12), (32, 13), (33, 13), (34, 13)]
['it', 'will', 'be', 'between', '@temperature', '-', '@temperature', 'on', '@date', 'and', '@date', 'in', '@location', '.', '@temperature', '-', '@temperature', 'on', '@date', ',', '@temperature', '-', '@temperature', 'on', '@date', ',', '@temperature', '-', '@temperature', 'on', '@date', ',', '@temperature', '-', '@temperature', 'on', '@date', ',', 'and', '@temperature', '-', '@temperature', 'on', '@date', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 13

minibatch.kb length: 203
minibatch.kb:
[(['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['warm']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['warm']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['los', 'angeles', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['los', 'angeles', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['los', 'angeles', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['los', 'angeles', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['los', 'angeles', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['los', 'angeles', '<pad>', 'tuesday_weather'], ['@weather'], ['warm']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['los', 'angeles', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['los', 'angeles', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['los', 'angeles', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['los', 'angeles', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['los', 'angeles', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['los', 'angeles', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['los', 'angeles', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['los', 'angeles', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['los', 'angeles', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['los', 'angeles', '<pad>', 'location'], ['@location'], ['los angeles']),
 (['los', 'angeles', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['los', 'angeles', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['hot']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['durham', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['durham', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['durham', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['durham', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['durham', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['durham', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['durham', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['durham', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['durham', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['durham', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['durham', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['durham', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['durham', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['durham', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['durham', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['durham', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['durham', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['durham', '<pad>', 'location'], ['@location'], ['durham']),
 (['durham', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['durham', '<pad>', 'saturday_weather'], ['@weather'], ['snow']),
 (['durham', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['durham', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'jose', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['san', 'jose', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'jose', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'jose', '<pad>', 'tuesday_weather'], ['@weather'], ['windy']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'jose', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['san', 'jose', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'jose', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'jose', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'jose', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'jose', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'jose', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'jose', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['san', 'jose', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'jose', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'jose', '<pad>', 'location'], ['@location'], ['san jose']),
 (['san', 'jose', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'jose', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'jose', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F'])]

minibatch.src/trg: (['what', 'will', 'the', 'temperature', 'be', 'for', 'the', 'next', 'week', '@dot', 'what', 'city', 'are', 'you', 'interested', 'in', '?', '@dot', 'san', 'mateo', '.'], ['it', 'will', 'be', 'between', '@temperature', '-', '@temperature', 'on', '@date', 'and', '@date', 'in', '@location', '.', '@temperature', '-', '@temperature', 'on', '@date', ',', '@temperature', '-', '@temperature', 'on', '@date', ',', '@temperature', '-', '@temperature', 'on', '@date', ',', '@temperature', '-', '@temperature', 'on', '@date', ',', 'and', '@temperature', '-', '@temperature', 'on', '@date', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1237 203 1440

corresponding_kb: 13

example number: 33

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[33]): [(31, 12), (32, 13), (33, 13), (34, 13), (35, 14)]
['no', 'problem', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 13

minibatch.kb length: 203
minibatch.kb:
[(['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['warm']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['warm']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['los', 'angeles', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['los', 'angeles', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['los', 'angeles', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['los', 'angeles', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['los', 'angeles', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['los', 'angeles', '<pad>', 'tuesday_weather'], ['@weather'], ['warm']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['los', 'angeles', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['los', 'angeles', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['los', 'angeles', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['los', 'angeles', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['los', 'angeles', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['los', 'angeles', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['los', 'angeles', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['los', 'angeles', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['los', 'angeles', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['los', 'angeles', '<pad>', 'location'], ['@location'], ['los angeles']),
 (['los', 'angeles', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['los', 'angeles', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['hot']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['durham', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['durham', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['durham', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['durham', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['durham', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['durham', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['durham', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['durham', '<pad>', 'friday_weather'], ['@weather'], ['snow']),
 (['durham', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['durham', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['durham', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['durham', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['durham', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['durham', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['durham', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['durham', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['durham', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['durham', '<pad>', 'location'], ['@location'], ['durham']),
 (['durham', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['durham', '<pad>', 'saturday_weather'], ['@weather'], ['snow']),
 (['durham', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['durham', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'jose', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['san', 'jose', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'jose', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'jose', '<pad>', 'tuesday_weather'], ['@weather'], ['windy']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'jose', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['san', 'jose', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'jose', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'jose', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'jose', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'jose', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['san', 'jose', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'jose', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'jose', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['san', 'jose', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'jose', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'jose', '<pad>', 'location'], ['@location'], ['san jose']),
 (['san', 'jose', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'jose', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'jose', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F'])]

minibatch.src/trg: (['what', 'will', 'the', 'temperature', 'be', 'for', 'the', 'next', 'week', '@dot', 'what', 'city', 'are', 'you', 'interested', 'in', '?', '@dot', 'san', 'mateo', '.', '@dot', 'it', 'will', 'be', 'between', '60', '-70f', 'on', 'monday', 'and', 'tuesday', 'in', 'san', 'mateo', '.', '70', '-90f', 'on', 'wednesday', ',', '80', '-100f', 'on', 'thursday', ',', '60', '-70f', 'on', 'friday', ',', '80', '-100f', 'on', 'saturday', ',', 'and', '90', '-100f', 'on', 'sunday', '.', '@dot', 'thanks', '.'], ['no', 'problem', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1237 203 1440

corresponding_kb: 13

example number: 34

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[34]): [(32, 13), (33, 13), (34, 13), (35, 14), (36, 15)]
proc_batch: batch.src: ['what', 'will', 'the', 'temperature', 'be', 'for', 'the', 'next', 'week', '@dot', 'what', 'city', 'are', 'you', 'interested', 'in', '?', '@dot', 'san', 'mateo', '.', '@dot', 'it', 'will', 'be', 'between', '60', '-70f', 'on', 'monday', 'and', 'tuesday', 'in', 'san', 'mateo', '.', '70', '-90f', 'on', 'wednesday', ',', '80', '-100f', 'on', 'thursday', ',', '60', '-70f', 'on', 'friday', ',', '80', '-100f', 'on', 'saturday', ',', 'and', '90', '-100f', 'on', 'sunday', '.', '@dot', 'thanks', '.']
proc_batch: batch.trg: ['no', 'problem', '.']
proc_batch: kbkeys: [['san', 'mateo', '<pad>', 'monday_date', '<pad>'], ['san', 'mateo', '<pad>', 'monday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_date', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'friday_date', '<pad>'], ['san', 'mateo', '<pad>', 'friday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_date', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_date', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_date', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'location', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_date', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'monday_date', '<pad>'], ['los', 'angeles', '<pad>', 'monday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'monday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'monday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'tuesday_date', '<pad>'], ['los', 'angeles', '<pad>', 'tuesday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'tuesday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'tuesday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'friday_date', '<pad>'], ['los', 'angeles', '<pad>', 'friday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'friday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'friday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'wednesday_date', '<pad>'], ['los', 'angeles', '<pad>', 'wednesday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'wednesday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'wednesday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'thursday_date', '<pad>'], ['los', 'angeles', '<pad>', 'thursday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'thursday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'thursday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'sunday_date', '<pad>'], ['los', 'angeles', '<pad>', 'sunday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'sunday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'sunday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'location', '<pad>'], ['los', 'angeles', '<pad>', 'saturday_date', '<pad>'], ['los', 'angeles', '<pad>', 'saturday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'saturday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'saturday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'monday_date', '<pad>'], ['mountain', 'view', '<pad>', 'monday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'monday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'monday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_date', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'friday_date', '<pad>'], ['mountain', 'view', '<pad>', 'friday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'friday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'friday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_date', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_date', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_date', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'location', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_date', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_temperature_high', '<pad>'], ['durham', '<pad>', 'monday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'location', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'location', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['san', 'jose', '<pad>', 'monday_date', '<pad>'], ['san', 'jose', '<pad>', 'monday_weather', '<pad>'], ['san', 'jose', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'tuesday_date', '<pad>'], ['san', 'jose', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'jose', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'friday_date', '<pad>'], ['san', 'jose', '<pad>', 'friday_weather', '<pad>'], ['san', 'jose', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'wednesday_date', '<pad>'], ['san', 'jose', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'jose', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'thursday_date', '<pad>'], ['san', 'jose', '<pad>', 'thursday_weather', '<pad>'], ['san', 'jose', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'sunday_date', '<pad>'], ['san', 'jose', '<pad>', 'sunday_weather', '<pad>'], ['san', 'jose', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'location', '<pad>'], ['san', 'jose', '<pad>', 'saturday_date', '<pad>'], ['san', 'jose', '<pad>', 'saturday_weather', '<pad>'], ['san', 'jose', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'saturday_temperature_high', '<pad>'], ['fresno', '<pad>', 'monday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'location', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['clear skies'], ['60F'], ['70F'], ['tuesday'], ['foggy'], ['60F'], ['70F'], ['friday'], ['snow'], ['60F'], ['70F'], ['wednesday'], ['clear skies'], ['70F'], ['90F'], ['thursday'], ['warm'], ['80F'], ['100F'], ['sunday'], ['warm'], ['90F'], ['100F'], ['san mateo'], ['saturday'], ['warm'], ['80F'], ['100F'], ['monday'], ['warm'], ['80F'], ['90F'], ['tuesday'], ['warm'], ['30F'], ['40F'], ['friday'], ['snow'], ['40F'], ['60F'], ['wednesday'], ['snow'], ['80F'], ['90F'], ['thursday'], ['windy'], ['70F'], ['80F'], ['sunday'], ['windy'], ['90F'], ['100F'], ['los angeles'], ['saturday'], ['hot'], ['80F'], ['100F'], ['monday'], ['snow'], ['90F'], ['100F'], ['tuesday'], ['rain'], ['80F'], ['90F'], ['friday'], ['foggy'], ['90F'], ['100F'], ['wednesday'], ['clear skies'], ['70F'], ['80F'], ['thursday'], ['hot'], ['30F'], ['40F'], ['sunday'], ['raining'], ['90F'], ['100F'], ['mountain view'], ['saturday'], ['raining'], ['70F'], ['90F'], ['monday'], ['clear skies'], ['40F'], ['60F'], ['tuesday'], ['snow'], ['40F'], ['60F'], ['friday'], ['snow'], ['60F'], ['80F'], ['wednesday'], ['warm'], ['80F'], ['100F'], ['thursday'], ['raining'], ['80F'], ['100F'], ['sunday'], ['foggy'], ['70F'], ['80F'], ['durham'], ['saturday'], ['snow'], ['30F'], ['40F'], ['monday'], ['snow'], ['70F'], ['80F'], ['tuesday'], ['overcast'], ['60F'], ['80F'], ['friday'], ['rain'], ['90F'], ['100F'], ['wednesday'], ['overcast'], ['70F'], ['90F'], ['thursday'], ['clear skies'], ['90F'], ['100F'], ['sunday'], ['overcast'], ['90F'], ['100F'], ['boston'], ['saturday'], ['cloudy'], ['80F'], ['100F'], ['monday'], ['raining'], ['90F'], ['100F'], ['tuesday'], ['windy'], ['90F'], ['100F'], ['friday'], ['raining'], ['80F'], ['100F'], ['wednesday'], ['clear skies'], ['30F'], ['40F'], ['thursday'], ['clear skies'], ['90F'], ['100F'], ['sunday'], ['overcast'], ['60F'], ['80F'], ['san jose'], ['saturday'], ['clear skies'], ['30F'], ['40F'], ['monday'], ['warm'], ['70F'], ['90F'], ['tuesday'], ['rain'], ['60F'], ['80F'], ['friday'], ['foggy'], ['60F'], ['80F'], ['wednesday'], ['windy'], ['60F'], ['80F'], ['thursday'], ['raining'], ['40F'], ['60F'], ['sunday'], ['overcast'], ['70F'], ['80F'], ['fresno'], ['saturday'], ['foggy'], ['80F'], ['90F']]
Time spent on converting arrays to sentences for current batch: 0.00464940071105957
debug: kb_true_vals :torch.Size([3, 203])
debug: kb_true_vals content:tensor([[1134, 1702, 1703, 1699, 1132, 1154, 1703, 1699, 1140, 1128, 1703, 1699,
         1138, 1702, 1699, 1705, 1136, 1166, 1707, 1706, 1139, 1166, 1705, 1706,
         1715, 1142, 1166, 1707, 1706, 1134, 1166, 1707, 1705, 1132, 1166, 1704,
         1701, 1140, 1128, 1701, 1703, 1138, 1128, 1707, 1705, 1136, 1163, 1699,
         1707, 1139, 1163, 1705, 1706, 1712, 1142, 1147, 1707, 1706, 1134, 1128,
         1705, 1706, 1132, 1119, 1707, 1705, 1140, 1154, 1705, 1706, 1138, 1702,
         1699, 1707, 1136, 1147, 1704, 1701, 1139,  147, 1705, 1706, 1714, 1142,
          147, 1699, 1705, 1134, 1702, 1701, 1703, 1132, 1128, 1701, 1703, 1140,
         1128, 1703, 1707, 1138, 1166, 1707, 1706, 1136,  147, 1707, 1706, 1139,
         1154, 1699, 1707,  990, 1142, 1128, 1704, 1701, 1134, 1128, 1699, 1707,
         1132, 1155, 1703, 1707, 1140, 1119, 1705, 1706, 1138, 1155, 1699, 1705,
         1136, 1702, 1705, 1706, 1139, 1155, 1705, 1706,  980, 1142, 1130, 1707,
         1706, 1134,  147, 1705, 1706, 1132, 1163, 1705, 1706, 1140,  147, 1707,
         1706, 1138, 1702, 1704, 1701, 1136, 1702, 1705, 1706, 1139, 1155, 1703,
         1707, 1711, 1142, 1702, 1704, 1701, 1134, 1166, 1699, 1705, 1132, 1119,
         1703, 1707, 1140, 1154, 1703, 1707, 1138, 1163, 1703, 1707, 1136,  147,
         1701, 1703, 1139, 1155, 1699, 1707,  986, 1142, 1154, 1707, 1705],
        [1134, 1702, 1703, 1699, 1132, 1154, 1703, 1699, 1140, 1128, 1703, 1699,
         1138, 1702, 1699, 1705, 1136, 1166, 1707, 1706, 1139, 1166, 1705, 1706,
         1715, 1142, 1166, 1707, 1706, 1134, 1166, 1707, 1705, 1132, 1166, 1704,
         1701, 1140, 1128, 1701, 1703, 1138, 1128, 1707, 1705, 1136, 1163, 1699,
         1707, 1139, 1163, 1705, 1706, 1712, 1142, 1147, 1707, 1706, 1134, 1128,
         1705, 1706, 1132, 1119, 1707, 1705, 1140, 1154, 1705, 1706, 1138, 1702,
         1699, 1707, 1136, 1147, 1704, 1701, 1139,  147, 1705, 1706, 1714, 1142,
          147, 1699, 1705, 1134, 1702, 1701, 1703, 1132, 1128, 1701, 1703, 1140,
         1128, 1703, 1707, 1138, 1166, 1707, 1706, 1136,  147, 1707, 1706, 1139,
         1154, 1699, 1707,  990, 1142, 1128, 1704, 1701, 1134, 1128, 1699, 1707,
         1132, 1155, 1703, 1707, 1140, 1119, 1705, 1706, 1138, 1155, 1699, 1705,
         1136, 1702, 1705, 1706, 1139, 1155, 1705, 1706,  980, 1142, 1130, 1707,
         1706, 1134,  147, 1705, 1706, 1132, 1163, 1705, 1706, 1140,  147, 1707,
         1706, 1138, 1702, 1704, 1701, 1136, 1702, 1705, 1706, 1139, 1155, 1703,
         1707, 1711, 1142, 1702, 1704, 1701, 1134, 1166, 1699, 1705, 1132, 1119,
         1703, 1707, 1140, 1154, 1703, 1707, 1138, 1163, 1703, 1707, 1136,  147,
         1701, 1703, 1139, 1155, 1699, 1707,  986, 1142, 1154, 1707, 1705],
        [1134, 1702, 1703, 1699, 1132, 1154, 1703, 1699, 1140, 1128, 1703, 1699,
         1138, 1702, 1699, 1705, 1136, 1166, 1707, 1706, 1139, 1166, 1705, 1706,
         1715, 1142, 1166, 1707, 1706, 1134, 1166, 1707, 1705, 1132, 1166, 1704,
         1701, 1140, 1128, 1701, 1703, 1138, 1128, 1707, 1705, 1136, 1163, 1699,
         1707, 1139, 1163, 1705, 1706, 1712, 1142, 1147, 1707, 1706, 1134, 1128,
         1705, 1706, 1132, 1119, 1707, 1705, 1140, 1154, 1705, 1706, 1138, 1702,
         1699, 1707, 1136, 1147, 1704, 1701, 1139,  147, 1705, 1706, 1714, 1142,
          147, 1699, 1705, 1134, 1702, 1701, 1703, 1132, 1128, 1701, 1703, 1140,
         1128, 1703, 1707, 1138, 1166, 1707, 1706, 1136,  147, 1707, 1706, 1139,
         1154, 1699, 1707,  990, 1142, 1128, 1704, 1701, 1134, 1128, 1699, 1707,
         1132, 1155, 1703, 1707, 1140, 1119, 1705, 1706, 1138, 1155, 1699, 1705,
         1136, 1702, 1705, 1706, 1139, 1155, 1705, 1706,  980, 1142, 1130, 1707,
         1706, 1134,  147, 1705, 1706, 1132, 1163, 1705, 1706, 1140,  147, 1707,
         1706, 1138, 1702, 1704, 1701, 1136, 1702, 1705, 1706, 1139, 1155, 1703,
         1707, 1711, 1142, 1702, 1704, 1701, 1134, 1166, 1699, 1705, 1132, 1119,
         1703, 1707, 1140, 1154, 1703, 1707, 1138, 1163, 1703, 1707, 1136,  147,
         1701, 1703, 1139, 1155, 1699, 1707,  986, 1142, 1154, 1707, 1705]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.010367631912231445
[1, 1, 29] 203 [torch.Size([3, 7, 200]), torch.Size([3, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.625575065612793
(14,) [17 10 23  3]
(tensor(-4.3254, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(11,) [ 28  27  26 971  14 961  48   4   3]
(tensor(-2.5372, device='cuda:0'), tensor([ 28,  27,  26, 971,  14, 961,   4,   3], device='cuda:0')) <class 'tuple'>
(11,) [29 35 32  8 33  6 42 15 13  3]
(tensor(-2.3082, device='cuda:0'), tensor([29, 35, 22,  8, 14, 13,  3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'city', 'would', 'you', 'like', 'the', 'weather', 'for', '?'], ['it', 'will', 'be', '@weather_attribute', 'in', '@location', 'today', '.'], ["you're", 'welcome', '!']]
['okay', ',', 'when', 'should', 'i', 'schedule', 'it', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 14
Made entity classification for seq up to here:
                    ['i', 'need', 'to', 'schedule', 'a', 'meeting'];
candidates are:
                    [(['meeting'], '@event')];
partial matches are:
                    [];
choice is:
                    (['meeting'], '@event');
r is:
['i', 'need', 'to', 'schedule', 'a', '@event']

========================================
	Finished up Sequence
['i', 'need', 'to', 'schedule', 'a', 'meeting']
and transformed it to
['i', 'need', 'to', 'schedule', 'a', '@event']
========================================


minibatch.kb length: 1
minibatch.kb:
[(['meeting', '<pad>', 'event'], ['@event'], ['meeting'])]

minibatch.src/trg: (['i', 'need', 'to', 'schedule', 'a', 'meeting'], ['okay', ',', 'when', 'should', 'i', 'schedule', 'it', '?'])

batch_with_kb: current, kb_len, current+kb_len:  1440 0 1440

corresponding_kb: 14

example number: 35

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[35]): [(33, 13), (34, 13), (35, 14), (36, 15), (37, 15)]
matches for unk:                             []
proc_batch: batch.src: ['i', 'need', 'to', 'schedule', 'a', 'meeting']
proc_batch: batch.trg: ['okay', ',', 'when', 'should', 'i', 'schedule', 'it', '?']
proc_batch: kbkeys: [['meeting', '<pad>', 'event', '<pad>']]
proc_batch: kbvalues: [['@event']]
debug: batch.kbtrv:[['meeting']]
Time spent on converting arrays to sentences for current batch: 0.00022077560424804688
debug: kb_true_vals :torch.Size([1, 1])
debug: kb_true_vals content:tensor([[1047]], device='cuda:0')
Time spent on kb_true_vals checks: 0.0001614093780517578
[1, 1, 1] 1 [torch.Size([1, 1, 200]), torch.Size([1, 1, 200])] [['event']]
Time spent on knowledgebase attention dimensions == 2: 0.04808402061462402
(12,) [ 20 966   5  11 965   4   3]
(tensor(-3.3501, device='cuda:0'), tensor([29, 56, 16, 77,  3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['your', '@event', 'is', 'at', '@time', '.']]
['where', 'are', 'you', 'interested', 'in', 'the', 'weather', 'for', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 15

minibatch.kb length: 203
minibatch.kb:
[(['durham', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['durham', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['durham', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['durham', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['durham', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['durham', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['durham', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['durham', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['durham', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['durham', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['durham', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['durham', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['durham', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['durham', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['durham', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['durham', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['durham', '<pad>', 'sunday_weather'], ['@weather'], ['blizzard']),
 (['durham', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['durham', '<pad>', 'location'], ['@location'], ['durham']),
 (['durham', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['durham', '<pad>', 'saturday_weather'], ['@weather'], ['humid']),
 (['durham', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['drizzle']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['humid']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['new', 'york', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['new', 'york', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['30F']),
 (['new', 'york', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['new', 'york', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['new', 'york', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['new', 'york', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['new', 'york', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['new', 'york', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['new', 'york', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['new', 'york', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['new', 'york', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['new', 'york', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['new', 'york', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['new', 'york', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['new', 'york', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['new', 'york', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['new', 'york', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['new', 'york', '<pad>', 'sunday_weather'], ['@weather'], ['humid']),
 (['new', 'york', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['new', 'york', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['new', 'york', '<pad>', 'location'], ['@location'], ['new york']),
 (['new', 'york', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['new', 'york', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['new', 'york', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['redwood', 'city', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['redwood', 'city', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['redwood', 'city', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['redwood', 'city', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['redwood', 'city', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['redwood', 'city', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['redwood', 'city', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['redwood', 'city', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['redwood', 'city', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['redwood', 'city', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['redwood', 'city', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['redwood', 'city', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['redwood', 'city', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['redwood', 'city', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['redwood', 'city', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['redwood', 'city', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['redwood', 'city', '<pad>', 'location'], ['@location'], ['redwood city']),
 (['redwood', 'city', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['redwood', 'city', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'jose', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'jose', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['san', 'jose', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'jose', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'jose', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'jose', '<pad>', 'tuesday_weather'], ['@weather'], ['dry']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['san', 'jose', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'jose', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['san', 'jose', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'jose', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'jose', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'jose', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'jose', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'jose', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['san', 'jose', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'jose', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'jose', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'jose', '<pad>', 'sunday_weather'], ['@weather'], ['dry']),
 (['san', 'jose', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'jose', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'jose', '<pad>', 'location'], ['@location'], ['san jose']),
 (['san', 'jose', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'jose', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'jose', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['blizzard']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F'])]

minibatch.src/trg: (['what', 'is', 'the', 'weather'], ['where', 'are', 'you', 'interested', 'in', 'the', 'weather', 'for', '?'])

batch_with_kb: current, kb_len, current+kb_len:  1440 203 1643

corresponding_kb: 15

example number: 36

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[36]): [(34, 13), (35, 14), (36, 15), (37, 15), (38, 15)]
['in', '@location', 'right', 'now', ',', 'it', 'is', '@weather_attribute', ',', 'with', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 15

minibatch.kb length: 203
minibatch.kb:
[(['durham', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['durham', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['durham', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['durham', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['durham', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['durham', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['durham', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['durham', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['durham', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['durham', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['durham', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['durham', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['durham', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['durham', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['durham', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['durham', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['durham', '<pad>', 'sunday_weather'], ['@weather'], ['blizzard']),
 (['durham', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['durham', '<pad>', 'location'], ['@location'], ['durham']),
 (['durham', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['durham', '<pad>', 'saturday_weather'], ['@weather'], ['humid']),
 (['durham', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['drizzle']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['humid']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['new', 'york', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['new', 'york', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['30F']),
 (['new', 'york', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['new', 'york', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['new', 'york', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['new', 'york', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['new', 'york', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['new', 'york', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['new', 'york', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['new', 'york', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['new', 'york', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['new', 'york', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['new', 'york', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['new', 'york', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['new', 'york', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['new', 'york', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['new', 'york', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['new', 'york', '<pad>', 'sunday_weather'], ['@weather'], ['humid']),
 (['new', 'york', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['new', 'york', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['new', 'york', '<pad>', 'location'], ['@location'], ['new york']),
 (['new', 'york', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['new', 'york', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['new', 'york', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['redwood', 'city', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['redwood', 'city', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['redwood', 'city', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['redwood', 'city', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['redwood', 'city', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['redwood', 'city', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['redwood', 'city', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['redwood', 'city', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['redwood', 'city', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['redwood', 'city', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['redwood', 'city', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['redwood', 'city', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['redwood', 'city', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['redwood', 'city', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['redwood', 'city', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['redwood', 'city', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['redwood', 'city', '<pad>', 'location'], ['@location'], ['redwood city']),
 (['redwood', 'city', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['redwood', 'city', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'jose', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'jose', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['san', 'jose', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'jose', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'jose', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'jose', '<pad>', 'tuesday_weather'], ['@weather'], ['dry']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['san', 'jose', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'jose', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['san', 'jose', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'jose', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'jose', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'jose', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'jose', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'jose', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['san', 'jose', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'jose', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'jose', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'jose', '<pad>', 'sunday_weather'], ['@weather'], ['dry']),
 (['san', 'jose', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'jose', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'jose', '<pad>', 'location'], ['@location'], ['san jose']),
 (['san', 'jose', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'jose', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'jose', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['blizzard']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F'])]

minibatch.src/trg: (['what', 'is', 'the', 'weather', '@dot', 'where', 'are', 'you', 'interested', 'in', 'the', 'weather', 'for', '?', '@dot', 'san', 'francisco'], ['in', '@location', 'right', 'now', ',', 'it', 'is', '@weather_attribute', ',', 'with', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1440 203 1643

corresponding_kb: 15

example number: 37

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[37]): [(35, 14), (36, 15), (37, 15), (38, 15), (39, 16)]
["you're", 'welcome', '!'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 15

minibatch.kb length: 203
minibatch.kb:
[(['durham', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['durham', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['durham', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['durham', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['durham', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['durham', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['durham', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['durham', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['durham', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['durham', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['durham', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['durham', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['durham', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['durham', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['durham', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['durham', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['durham', '<pad>', 'sunday_weather'], ['@weather'], ['blizzard']),
 (['durham', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['durham', '<pad>', 'location'], ['@location'], ['durham']),
 (['durham', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['durham', '<pad>', 'saturday_weather'], ['@weather'], ['humid']),
 (['durham', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['drizzle']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['humid']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['new', 'york', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['new', 'york', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['30F']),
 (['new', 'york', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['new', 'york', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['new', 'york', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['new', 'york', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['new', 'york', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['new', 'york', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['new', 'york', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['new', 'york', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['new', 'york', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['new', 'york', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['new', 'york', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['new', 'york', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['new', 'york', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['new', 'york', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['new', 'york', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['new', 'york', '<pad>', 'sunday_weather'], ['@weather'], ['humid']),
 (['new', 'york', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['new', 'york', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['new', 'york', '<pad>', 'location'], ['@location'], ['new york']),
 (['new', 'york', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['new', 'york', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['new', 'york', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['redwood', 'city', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['redwood', 'city', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['redwood', 'city', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['redwood', 'city', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['redwood', 'city', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['redwood', 'city', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['redwood', 'city', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['redwood', 'city', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['redwood', 'city', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['redwood', 'city', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['redwood', 'city', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['redwood', 'city', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['redwood', 'city', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['redwood', 'city', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['redwood', 'city', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['redwood', 'city', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['redwood', 'city', '<pad>', 'location'], ['@location'], ['redwood city']),
 (['redwood', 'city', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['redwood', 'city', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'jose', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'jose', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['san', 'jose', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'jose', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'jose', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'jose', '<pad>', 'tuesday_weather'], ['@weather'], ['dry']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'jose', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['san', 'jose', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'jose', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['san', 'jose', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'jose', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'jose', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'jose', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'jose', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'jose', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'jose', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['san', 'jose', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'jose', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'jose', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'jose', '<pad>', 'sunday_weather'], ['@weather'], ['dry']),
 (['san', 'jose', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'jose', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'jose', '<pad>', 'location'], ['@location'], ['san jose']),
 (['san', 'jose', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'jose', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['san', 'jose', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'jose', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['blizzard']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F'])]

minibatch.src/trg: (['what', 'is', 'the', 'weather', '@dot', 'where', 'are', 'you', 'interested', 'in', 'the', 'weather', 'for', '?', '@dot', 'san', 'francisco', '@dot', 'in', 'san', 'francisco', 'right', 'now', ',', 'it', 'is', 'warm', ',', 'with', 'a', 'low', 'of', '60f', 'and', 'a', 'high', 'of', '70f', '.', '@dot', 'thank', 'you', '!'], ["you're", 'welcome', '!'])

batch_with_kb: current, kb_len, current+kb_len:  1440 203 1643

corresponding_kb: 15

example number: 38

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[38]): [(36, 15), (37, 15), (38, 15), (39, 16), (40, 16)]
proc_batch: batch.src: ['what', 'is', 'the', 'weather', '@dot', 'where', 'are', 'you', 'interested', 'in', 'the', 'weather', 'for', '?', '@dot', 'san', 'francisco', '@dot', 'in', 'san', 'francisco', 'right', 'now', ',', 'it', 'is', 'warm', ',', 'with', 'a', 'low', 'of', '60f', 'and', 'a', 'high', 'of', '70f', '.', '@dot', 'thank', 'you', '!']
proc_batch: batch.trg: ["you're", 'welcome', '!']
proc_batch: kbkeys: [['durham', '<pad>', 'monday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'location', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'location', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'location', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['new', 'york', '<pad>', 'monday_date', '<pad>'], ['new', 'york', '<pad>', 'monday_weather', '<pad>'], ['new', 'york', '<pad>', 'monday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'monday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'tuesday_date', '<pad>'], ['new', 'york', '<pad>', 'tuesday_weather', '<pad>'], ['new', 'york', '<pad>', 'tuesday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'tuesday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'friday_date', '<pad>'], ['new', 'york', '<pad>', 'friday_weather', '<pad>'], ['new', 'york', '<pad>', 'friday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'friday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'wednesday_date', '<pad>'], ['new', 'york', '<pad>', 'wednesday_weather', '<pad>'], ['new', 'york', '<pad>', 'wednesday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'wednesday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'thursday_date', '<pad>'], ['new', 'york', '<pad>', 'thursday_weather', '<pad>'], ['new', 'york', '<pad>', 'thursday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'thursday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'sunday_date', '<pad>'], ['new', 'york', '<pad>', 'sunday_weather', '<pad>'], ['new', 'york', '<pad>', 'sunday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'sunday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'location', '<pad>'], ['new', 'york', '<pad>', 'saturday_date', '<pad>'], ['new', 'york', '<pad>', 'saturday_weather', '<pad>'], ['new', 'york', '<pad>', 'saturday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'saturday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'monday_date', '<pad>'], ['redwood', 'city', '<pad>', 'monday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'monday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'monday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_date', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'friday_date', '<pad>'], ['redwood', 'city', '<pad>', 'friday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'friday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'friday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_date', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_date', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_date', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'location', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_date', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'monday_date', '<pad>'], ['san', 'jose', '<pad>', 'monday_weather', '<pad>'], ['san', 'jose', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'tuesday_date', '<pad>'], ['san', 'jose', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'jose', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'friday_date', '<pad>'], ['san', 'jose', '<pad>', 'friday_weather', '<pad>'], ['san', 'jose', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'wednesday_date', '<pad>'], ['san', 'jose', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'jose', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'thursday_date', '<pad>'], ['san', 'jose', '<pad>', 'thursday_weather', '<pad>'], ['san', 'jose', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'sunday_date', '<pad>'], ['san', 'jose', '<pad>', 'sunday_weather', '<pad>'], ['san', 'jose', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'jose', '<pad>', 'location', '<pad>'], ['san', 'jose', '<pad>', 'saturday_date', '<pad>'], ['san', 'jose', '<pad>', 'saturday_weather', '<pad>'], ['san', 'jose', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'jose', '<pad>', 'saturday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'monday_date', '<pad>'], ['san', 'francisco', '<pad>', 'monday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'friday_date', '<pad>'], ['san', 'francisco', '<pad>', 'friday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_date', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_date', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'location', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_date', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_high', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['overcast'], ['60F'], ['70F'], ['tuesday'], ['raining'], ['30F'], ['50F'], ['friday'], ['clear skies'], ['40F'], ['60F'], ['wednesday'], ['overcast'], ['90F'], ['100F'], ['thursday'], ['raining'], ['80F'], ['90F'], ['sunday'], ['blizzard'], ['40F'], ['50F'], ['durham'], ['saturday'], ['humid'], ['60F'], ['80F'], ['monday'], ['drizzle'], ['30F'], ['40F'], ['tuesday'], ['cloudy'], ['80F'], ['90F'], ['friday'], ['humid'], ['80F'], ['100F'], ['wednesday'], ['cloudy'], ['90F'], ['100F'], ['thursday'], ['rain'], ['50F'], ['70F'], ['sunday'], ['clear skies'], ['80F'], ['90F'], ['alhambra'], ['saturday'], ['overcast'], ['50F'], ['70F'], ['monday'], ['raining'], ['40F'], ['60F'], ['tuesday'], ['hot'], ['70F'], ['90F'], ['friday'], ['rain'], ['90F'], ['100F'], ['wednesday'], ['rain'], ['60F'], ['80F'], ['thursday'], ['foggy'], ['50F'], ['70F'], ['sunday'], ['drizzle'], ['30F'], ['50F'], ['seattle'], ['saturday'], ['overcast'], ['80F'], ['100F'], ['monday'], ['cloudy'], ['20F'], ['30F'], ['tuesday'], ['cloudy'], ['40F'], ['50F'], ['friday'], ['overcast'], ['20F'], ['30F'], ['wednesday'], ['raining'], ['90F'], ['100F'], ['thursday'], ['drizzle'], ['80F'], ['90F'], ['sunday'], ['humid'], ['70F'], ['90F'], ['new york'], ['saturday'], ['overcast'], ['20F'], ['30F'], ['monday'], ['raining'], ['40F'], ['50F'], ['tuesday'], ['drizzle'], ['30F'], ['50F'], ['friday'], ['foggy'], ['30F'], ['40F'], ['wednesday'], ['overcast'], ['30F'], ['40F'], ['thursday'], ['clear skies'], ['70F'], ['80F'], ['sunday'], ['snow'], ['70F'], ['80F'], ['redwood city'], ['saturday'], ['rain'], ['60F'], ['80F'], ['monday'], ['dry'], ['40F'], ['60F'], ['tuesday'], ['dry'], ['20F'], ['30F'], ['friday'], ['windy'], ['20F'], ['40F'], ['wednesday'], ['foggy'], ['70F'], ['90F'], ['thursday'], ['overcast'], ['40F'], ['60F'], ['sunday'], ['dry'], ['50F'], ['60F'], ['san jose'], ['saturday'], ['clear skies'], ['80F'], ['90F'], ['monday'], ['warm'], ['60F'], ['70F'], ['tuesday'], ['blizzard'], ['40F'], ['50F'], ['friday'], ['raining'], ['80F'], ['90F'], ['wednesday'], ['drizzle'], ['60F'], ['80F'], ['thursday'], ['cloudy'], ['40F'], ['60F'], ['sunday'], ['drizzle'], ['60F'], ['80F'], ['san francisco'], ['saturday'], ['cloudy'], ['40F'], ['60F']]
Time spent on converting arrays to sentences for current batch: 0.004693031311035156
debug: kb_true_vals :torch.Size([3, 203])
debug: kb_true_vals content:tensor([[1134, 1155, 1703, 1699, 1132,  147, 1704, 1698, 1140, 1702, 1701, 1703,
         1138, 1155, 1705, 1706, 1136,  147, 1707, 1705, 1139, 1164, 1701, 1698,
          990, 1142, 1160, 1703, 1707, 1134, 1151, 1704, 1701, 1132, 1130, 1707,
         1705, 1140, 1160, 1707, 1706, 1138, 1130, 1705, 1706, 1136, 1119, 1698,
         1699, 1139, 1702, 1707, 1705, 1033, 1142, 1155, 1698, 1699, 1134,  147,
         1701, 1703, 1132, 1147, 1699, 1705, 1140, 1119, 1705, 1706, 1138, 1119,
         1703, 1707, 1136, 1154, 1698, 1699, 1139, 1151, 1704, 1698,  992, 1142,
         1155, 1707, 1706, 1134, 1130, 1700, 1704, 1132, 1130, 1701, 1698, 1140,
         1155, 1700, 1704, 1138,  147, 1705, 1706, 1136, 1151, 1707, 1705, 1139,
         1160, 1699, 1705, 1709, 1142, 1155, 1700, 1704, 1134,  147, 1701, 1698,
         1132, 1151, 1704, 1698, 1140, 1154, 1704, 1701, 1138, 1155, 1704, 1701,
         1136, 1702, 1699, 1707, 1139, 1128, 1699, 1707, 1716, 1142, 1119, 1703,
         1707, 1134, 1169, 1701, 1703, 1132, 1169, 1700, 1704, 1140, 1163, 1700,
         1701, 1138, 1154, 1699, 1705, 1136, 1155, 1701, 1703, 1139, 1169, 1698,
         1703, 1711, 1142, 1702, 1707, 1705, 1134, 1166, 1703, 1699, 1132, 1164,
         1701, 1698, 1140,  147, 1707, 1705, 1138, 1151, 1703, 1707, 1136, 1130,
         1701, 1703, 1139, 1151, 1703, 1707, 1713, 1142, 1130, 1701, 1703],
        [1134, 1155, 1703, 1699, 1132,  147, 1704, 1698, 1140, 1702, 1701, 1703,
         1138, 1155, 1705, 1706, 1136,  147, 1707, 1705, 1139, 1164, 1701, 1698,
          990, 1142, 1160, 1703, 1707, 1134, 1151, 1704, 1701, 1132, 1130, 1707,
         1705, 1140, 1160, 1707, 1706, 1138, 1130, 1705, 1706, 1136, 1119, 1698,
         1699, 1139, 1702, 1707, 1705, 1033, 1142, 1155, 1698, 1699, 1134,  147,
         1701, 1703, 1132, 1147, 1699, 1705, 1140, 1119, 1705, 1706, 1138, 1119,
         1703, 1707, 1136, 1154, 1698, 1699, 1139, 1151, 1704, 1698,  992, 1142,
         1155, 1707, 1706, 1134, 1130, 1700, 1704, 1132, 1130, 1701, 1698, 1140,
         1155, 1700, 1704, 1138,  147, 1705, 1706, 1136, 1151, 1707, 1705, 1139,
         1160, 1699, 1705, 1709, 1142, 1155, 1700, 1704, 1134,  147, 1701, 1698,
         1132, 1151, 1704, 1698, 1140, 1154, 1704, 1701, 1138, 1155, 1704, 1701,
         1136, 1702, 1699, 1707, 1139, 1128, 1699, 1707, 1716, 1142, 1119, 1703,
         1707, 1134, 1169, 1701, 1703, 1132, 1169, 1700, 1704, 1140, 1163, 1700,
         1701, 1138, 1154, 1699, 1705, 1136, 1155, 1701, 1703, 1139, 1169, 1698,
         1703, 1711, 1142, 1702, 1707, 1705, 1134, 1166, 1703, 1699, 1132, 1164,
         1701, 1698, 1140,  147, 1707, 1705, 1138, 1151, 1703, 1707, 1136, 1130,
         1701, 1703, 1139, 1151, 1703, 1707, 1713, 1142, 1130, 1701, 1703],
        [1134, 1155, 1703, 1699, 1132,  147, 1704, 1698, 1140, 1702, 1701, 1703,
         1138, 1155, 1705, 1706, 1136,  147, 1707, 1705, 1139, 1164, 1701, 1698,
          990, 1142, 1160, 1703, 1707, 1134, 1151, 1704, 1701, 1132, 1130, 1707,
         1705, 1140, 1160, 1707, 1706, 1138, 1130, 1705, 1706, 1136, 1119, 1698,
         1699, 1139, 1702, 1707, 1705, 1033, 1142, 1155, 1698, 1699, 1134,  147,
         1701, 1703, 1132, 1147, 1699, 1705, 1140, 1119, 1705, 1706, 1138, 1119,
         1703, 1707, 1136, 1154, 1698, 1699, 1139, 1151, 1704, 1698,  992, 1142,
         1155, 1707, 1706, 1134, 1130, 1700, 1704, 1132, 1130, 1701, 1698, 1140,
         1155, 1700, 1704, 1138,  147, 1705, 1706, 1136, 1151, 1707, 1705, 1139,
         1160, 1699, 1705, 1709, 1142, 1155, 1700, 1704, 1134,  147, 1701, 1698,
         1132, 1151, 1704, 1698, 1140, 1154, 1704, 1701, 1138, 1155, 1704, 1701,
         1136, 1702, 1699, 1707, 1139, 1128, 1699, 1707, 1716, 1142, 1119, 1703,
         1707, 1134, 1169, 1701, 1703, 1132, 1169, 1700, 1704, 1140, 1163, 1700,
         1701, 1138, 1154, 1699, 1705, 1136, 1155, 1701, 1703, 1139, 1169, 1698,
         1703, 1711, 1142, 1702, 1707, 1705, 1134, 1166, 1703, 1699, 1132, 1164,
         1701, 1698, 1140,  147, 1707, 1705, 1138, 1151, 1703, 1707, 1136, 1130,
         1701, 1703, 1139, 1151, 1703, 1707, 1713, 1142, 1130, 1701, 1703]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.010401248931884766
[1, 1, 29] 203 [torch.Size([3, 7, 200]), torch.Size([3, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.6295435428619385
(14,) [17 10 23  3]
(tensor(-4.2130, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(12,) [ 28  27  26 971  14 961  48   4   3]
(tensor(-2.5623, device='cuda:0'), tensor([ 28,  27,  26, 971,  14, 961,   4,   3], device='cuda:0')) <class 'tuple'>
(10,) [29 35 39  8 53  6 42 15 13  3]
(tensor(-1.9184, device='cuda:0'), tensor([ 29,  35,  22,   8, 125,  14,  13,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'city', 'do', 'you', 'want', 'the', 'weather', 'for', '?'], ['it', 'will', 'be', '@weather_attribute', 'in', '@location', 'today', '.'], ["you're", 'welcome', '!']]
['only', '@poi_name', 'is', 'here', 'and', 'there', 'is', '@traffic_info', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 16

minibatch.kb length: 35
minibatch.kb:
[(['stanford', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['stanford', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['stanford', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['773 Alger Dr']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Stanford Shopping Center']),
 (['town', 'and', 'country', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['town', 'and', 'country', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['town', 'and', 'country', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['town', 'and', 'country', '<pad>', 'address'], ['@address'], ['383 University Ave']),
 (['town', 'and', 'country', '<pad>', 'poi'], ['@poi'], ['Town and Country']),
 (['four', 'seasons', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['four', 'seasons', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['four', 'seasons', '<pad>', 'poi_type'], ['@poi_type'], ['rest stop']),
 (['four', 'seasons', '<pad>', 'address'], ['@address'], ['465 Arcadia Pl']),
 (['four', 'seasons', '<pad>', 'poi'], ['@poi'], ['Four Seasons']),
 (['home', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['home', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['home', '<pad>', 'poi_type'], ['@poi_type'], ['home']),
 (['home', '<pad>', 'address'], ['@address'], ['56 cadwell street']),
 (['home', '<pad>', 'poi'], ['@poi'], ['home']),
 (['5677', 'springer', 'street', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['5677', 'springer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5677', 'springer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'springer', 'street', '<pad>', 'address'], ['@address'], ['5677 springer street']),
 (['5677', 'springer', 'street', '<pad>', 'poi'], ['@poi'], ['5677 springer street']),
 (['midtown', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['midtown', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['midtown', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['338 Alester Ave']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Midtown Shopping Center']),
 (['dominos', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['dominos', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['dominos', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['dominos', '<pad>', 'address'], ['@address'], ['776 Arastradero Rd']),
 (['dominos', '<pad>', 'poi'], ['@poi'], ['Dominos'])]

minibatch.src/trg: (['car', "i'm", 'desiring', 'to', 'eat', 'pizza', ',', 'please', 'pick', 'a', 'restaurant', 'around', 'here', 'and', 'avoid', 'all', 'heavy', 'traffic'], ['only', '@poi_name', 'is', 'here', 'and', 'there', 'is', '@traffic_info', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1643 35 1678

corresponding_kb: 16

example number: 39

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[39]): [(37, 15), (38, 15), (39, 16), (40, 16), (41, 16)]
["domino's", 'address', 'is', '@poi_address', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 16

minibatch.kb length: 35
minibatch.kb:
[(['stanford', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['stanford', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['stanford', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['773 Alger Dr']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Stanford Shopping Center']),
 (['town', 'and', 'country', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['town', 'and', 'country', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['town', 'and', 'country', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['town', 'and', 'country', '<pad>', 'address'], ['@address'], ['383 University Ave']),
 (['town', 'and', 'country', '<pad>', 'poi'], ['@poi'], ['Town and Country']),
 (['four', 'seasons', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['four', 'seasons', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['four', 'seasons', '<pad>', 'poi_type'], ['@poi_type'], ['rest stop']),
 (['four', 'seasons', '<pad>', 'address'], ['@address'], ['465 Arcadia Pl']),
 (['four', 'seasons', '<pad>', 'poi'], ['@poi'], ['Four Seasons']),
 (['home', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['home', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['home', '<pad>', 'poi_type'], ['@poi_type'], ['home']),
 (['home', '<pad>', 'address'], ['@address'], ['56 cadwell street']),
 (['home', '<pad>', 'poi'], ['@poi'], ['home']),
 (['5677', 'springer', 'street', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['5677', 'springer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5677', 'springer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'springer', 'street', '<pad>', 'address'], ['@address'], ['5677 springer street']),
 (['5677', 'springer', 'street', '<pad>', 'poi'], ['@poi'], ['5677 springer street']),
 (['midtown', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['midtown', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['midtown', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['338 Alester Ave']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Midtown Shopping Center']),
 (['dominos', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['dominos', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['dominos', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['dominos', '<pad>', 'address'], ['@address'], ['776 Arastradero Rd']),
 (['dominos', '<pad>', 'poi'], ['@poi'], ['Dominos'])]

minibatch.src/trg: (['car', "i'm", 'desiring', 'to', 'eat', 'pizza', ',', 'please', 'pick', 'a', 'restaurant', 'around', 'here', 'and', 'avoid', 'all', 'heavy', 'traffic', '@dot', 'only', 'dominos', 'is', 'here', 'and', 'there', 'is', 'heavy', 'traffic', '.', '@dot', 'what', 'is', 'the', 'address', '?'], ["domino's", 'address', 'is', '@poi_address', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1643 35 1678

corresponding_kb: 16

example number: 40

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[40]): [(38, 15), (39, 16), (40, 16), (41, 16), (42, 17)]
["you're", 'welcome', '!'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 16

minibatch.kb length: 35
minibatch.kb:
[(['stanford', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['stanford', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['stanford', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['773 Alger Dr']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Stanford Shopping Center']),
 (['town', 'and', 'country', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['town', 'and', 'country', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['town', 'and', 'country', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['town', 'and', 'country', '<pad>', 'address'], ['@address'], ['383 University Ave']),
 (['town', 'and', 'country', '<pad>', 'poi'], ['@poi'], ['Town and Country']),
 (['four', 'seasons', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['four', 'seasons', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['four', 'seasons', '<pad>', 'poi_type'], ['@poi_type'], ['rest stop']),
 (['four', 'seasons', '<pad>', 'address'], ['@address'], ['465 Arcadia Pl']),
 (['four', 'seasons', '<pad>', 'poi'], ['@poi'], ['Four Seasons']),
 (['home', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['home', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['home', '<pad>', 'poi_type'], ['@poi_type'], ['home']),
 (['home', '<pad>', 'address'], ['@address'], ['56 cadwell street']),
 (['home', '<pad>', 'poi'], ['@poi'], ['home']),
 (['5677', 'springer', 'street', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['5677', 'springer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5677', 'springer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'springer', 'street', '<pad>', 'address'], ['@address'], ['5677 springer street']),
 (['5677', 'springer', 'street', '<pad>', 'poi'], ['@poi'], ['5677 springer street']),
 (['midtown', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['midtown', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['midtown', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['338 Alester Ave']),
 (['midtown', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Midtown Shopping Center']),
 (['dominos', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['dominos', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['dominos', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['dominos', '<pad>', 'address'], ['@address'], ['776 Arastradero Rd']),
 (['dominos', '<pad>', 'poi'], ['@poi'], ['Dominos'])]

minibatch.src/trg: (['car', "i'm", 'desiring', 'to', 'eat', 'pizza', ',', 'please', 'pick', 'a', 'restaurant', 'around', 'here', 'and', 'avoid', 'all', 'heavy', 'traffic', '@dot', 'only', 'dominos', 'is', 'here', 'and', 'there', 'is', 'heavy', 'traffic', '.', '@dot', 'what', 'is', 'the', 'address', '?', '@dot', "domino's", 'address', 'is', '776', 'arastradero', 'rd', '.', '@dot', 'thanks', '!'], ["you're", 'welcome', '!'])

batch_with_kb: current, kb_len, current+kb_len:  1643 35 1678

corresponding_kb: 16

example number: 41

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[41]): [(39, 16), (40, 16), (41, 16), (42, 17), (43, 17)]
proc_batch: batch.src: ['car', "i'm", 'desiring', 'to', 'eat', 'pizza', ',', 'please', 'pick', 'a', 'restaurant', 'around', 'here', 'and', 'avoid', 'all', 'heavy', 'traffic', '@dot', 'only', 'dominos', 'is', 'here', 'and', 'there', 'is', 'heavy', 'traffic', '.', '@dot', 'what', 'is', 'the', 'address', '?', '@dot', "domino's", 'address', 'is', '776', 'arastradero', 'rd', '.', '@dot', 'thanks', '!']
proc_batch: batch.trg: ["you're", 'welcome', '!']
proc_batch: kbkeys: [['stanford', 'shopping', 'center', '<pad>', 'distance', '<pad>'], ['stanford', 'shopping', 'center', '<pad>', 'traffic_info', '<pad>'], ['stanford', 'shopping', 'center', '<pad>', 'poi_type', '<pad>'], ['stanford', 'shopping', 'center', '<pad>', 'address', '<pad>'], ['stanford', 'shopping', 'center', '<pad>', 'poi', '<pad>'], ['town', 'and', 'country', '<pad>', 'distance', '<pad>'], ['town', 'and', 'country', '<pad>', 'traffic_info', '<pad>'], ['town', 'and', 'country', '<pad>', 'poi_type', '<pad>'], ['town', 'and', 'country', '<pad>', 'address', '<pad>'], ['town', 'and', 'country', '<pad>', 'poi', '<pad>'], ['four', 'seasons', '<pad>', 'distance', '<pad>', '<pad>'], ['four', 'seasons', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['four', 'seasons', '<pad>', 'poi_type', '<pad>', '<pad>'], ['four', 'seasons', '<pad>', 'address', '<pad>', '<pad>'], ['four', 'seasons', '<pad>', 'poi', '<pad>', '<pad>'], ['home', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['home', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['home', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['home', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['home', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'distance', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'traffic_info', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'poi_type', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'address', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'poi', '<pad>'], ['midtown', 'shopping', 'center', '<pad>', 'distance', '<pad>'], ['midtown', 'shopping', 'center', '<pad>', 'traffic_info', '<pad>'], ['midtown', 'shopping', 'center', '<pad>', 'poi_type', '<pad>'], ['midtown', 'shopping', 'center', '<pad>', 'address', '<pad>'], ['midtown', 'shopping', 'center', '<pad>', 'poi', '<pad>'], ['dominos', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'poi', '<pad>', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi']]
debug: batch.kbtrv:[['2 miles'], ['no traffic'], ['shopping center'], ['773 Alger Dr'], ['Stanford Shopping Center'], ['1 miles'], ['heavy traffic'], ['shopping center'], ['383 University Ave'], ['Town and Country'], ['5 miles'], ['heavy traffic'], ['rest stop'], ['465 Arcadia Pl'], ['Four Seasons'], ['4 miles'], ['heavy traffic'], ['home'], ['56 cadwell street'], ['home'], ['3 miles'], ['no traffic'], ['certain address'], ['5677 springer street'], ['5677 springer street'], ['5 miles'], ['moderate traffic'], ['shopping center'], ['338 Alester Ave'], ['Midtown Shopping Center'], ['2 miles'], ['heavy traffic'], ['pizza restaurant'], ['776 Arastradero Rd'], ['Dominos']]
Time spent on converting arrays to sentences for current batch: 0.0044231414794921875
debug: kb_true_vals :torch.Size([3, 35])
debug: kb_true_vals content:tensor([[1626, 1632, 1658, 1662, 1663, 1644, 1645, 1658, 1659, 1660, 1672, 1645,
         1641, 1750, 1749, 1635, 1645, 1046, 1798, 1046, 1664, 1632, 1719, 1720,
         1720, 1672, 1640, 1658, 1761, 1762, 1626, 1645, 1649, 1668, 1669],
        [1626, 1632, 1658, 1662, 1663, 1644, 1645, 1658, 1659, 1660, 1672, 1645,
         1641, 1750, 1749, 1635, 1645, 1046, 1798, 1046, 1664, 1632, 1719, 1720,
         1720, 1672, 1640, 1658, 1761, 1762, 1626, 1645, 1649, 1668, 1669],
        [1626, 1632, 1658, 1662, 1663, 1644, 1645, 1658, 1659, 1660, 1672, 1645,
         1641, 1750, 1749, 1635, 1645, 1046, 1798, 1046, 1664, 1632, 1719, 1720,
         1720, 1672, 1640, 1658, 1761, 1762, 1626, 1645, 1649, 1668, 1669]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.0020210742950439453
[1, 1, 5] 35 [torch.Size([3, 7, 200]), torch.Size([3, 5, 200])] [['distance'], ['traffic_info'], ['poi_type'], ['address'], ['poi']]
Time spent on knowledgebase attention dimensions == 2: 1.4142813682556152
(12,) [17 10 23  3]
(tensor(-2.8060, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
(14,) [970   5  49  11 974   4   3]
(tensor(-1.7355, device='cuda:0'), tensor([970,   5,  11, 974,   4,   3], device='cuda:0')) <class 'tuple'>
(14,) [970   5 973  24   4   3]
(tensor(-2.0176, device='cuda:0'), tensor([970,   5, 973,  24,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['@poi_name', 'is', '@poi_distance', 'away', '.'], ['@poi_name', 'is', 'located', 'at', '@poi_address', '.'], ["you're", 'welcome', '!']]
['@poi_name', 'is', '@poi_distance', 'away', 'but', 'there', 'is', '@traffic_info', 'on', 'our', 'way', '.', 'do', 'you', 'want', 'me', 'to', 'set', 'the', 'gps', 'to', 'get', 'there', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 17

minibatch.kb length: 40
minibatch.kb:
[(['stanford', 'childrens', 'health', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['stanford', 'childrens', 'health', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'childrens', 'health', '<pad>', 'address'], ['@address'], ['899 Ames Ct']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi'], ['@poi'], ['Stanford Childrens Health']),
 (['webster', 'garage', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['webster', 'garage', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['webster', 'garage', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['webster', 'garage', '<pad>', 'address'], ['@address'], ['880 Ames Ct']),
 (['webster', 'garage', '<pad>', 'poi'], ['@poi'], ['Webster Garage']),
 (['coupa', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['coupa', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['coupa', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['coupa', '<pad>', 'address'], ['@address'], ['394 Van Ness Ave']),
 (['coupa', '<pad>', 'poi'], ['@poi'], ['Coupa']),
 (['stanford', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['stanford', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['stanford', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['773 Alger Dr']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Stanford Shopping Center']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'address'], ['@address'], ['5677 southwest 4th street']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'poi'], ['@poi'], ['5677 southwest 4th street']),
 (['teavana', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['starbucks', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['starbucks', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['starbucks', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['starbucks', '<pad>', 'address'], ['@address'], ['792 Bedoin Street']),
 (['starbucks', '<pad>', 'poi'], ['@poi'], ['Starbucks'])]

minibatch.src/trg: (['i', 'need', 'the', 'address', 'of', 'a', 'the', 'shopping', 'center', 'that', 'i', 'can', 'get', 'to', 'the', 'quickest', 'from', 'here'], ['@poi_name', 'is', '@poi_distance', 'away', 'but', 'there', 'is', '@traffic_info', 'on', 'our', 'way', '.', 'do', 'you', 'want', 'me', 'to', 'set', 'the', 'gps', 'to', 'get', 'there', '?'])

batch_with_kb: current, kb_len, current+kb_len:  1678 40 1718

corresponding_kb: 17

example number: 42

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[42]): [(40, 16), (41, 16), (42, 17), (43, 17), (44, 17)]
['the', 'quickest', 'route', 'is', '@poi_address', 'and', 'is', 'set', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 17

minibatch.kb length: 40
minibatch.kb:
[(['stanford', 'childrens', 'health', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['stanford', 'childrens', 'health', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'childrens', 'health', '<pad>', 'address'], ['@address'], ['899 Ames Ct']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi'], ['@poi'], ['Stanford Childrens Health']),
 (['webster', 'garage', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['webster', 'garage', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['webster', 'garage', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['webster', 'garage', '<pad>', 'address'], ['@address'], ['880 Ames Ct']),
 (['webster', 'garage', '<pad>', 'poi'], ['@poi'], ['Webster Garage']),
 (['coupa', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['coupa', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['coupa', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['coupa', '<pad>', 'address'], ['@address'], ['394 Van Ness Ave']),
 (['coupa', '<pad>', 'poi'], ['@poi'], ['Coupa']),
 (['stanford', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['stanford', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['stanford', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['773 Alger Dr']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Stanford Shopping Center']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'address'], ['@address'], ['5677 southwest 4th street']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'poi'], ['@poi'], ['5677 southwest 4th street']),
 (['teavana', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['starbucks', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['starbucks', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['starbucks', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['starbucks', '<pad>', 'address'], ['@address'], ['792 Bedoin Street']),
 (['starbucks', '<pad>', 'poi'], ['@poi'], ['Starbucks'])]

minibatch.src/trg: (['i', 'need', 'the', 'address', 'of', 'a', 'the', 'shopping', 'center', 'that', 'i', 'can', 'get', 'to', 'the', 'quickest', 'from', 'here', '@dot', 'stanford', 'shopping', 'center', 'is', '5', 'miles', 'away', 'but', 'there', 'is', 'heavy', 'traffic', 'on', 'our', 'way', '.', 'do', 'you', 'want', 'me', 'to', 'set', 'the', 'gps', 'to', 'get', 'there', '?', '@dot', 'yes', ',', 'please', ',', 'just', 'pick', 'the', 'quickest', 'route', 'and', "let's", 'go', 'there', '!'], ['the', 'quickest', 'route', 'is', '@poi_address', 'and', 'is', 'set', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1678 40 1718

corresponding_kb: 17

example number: 43

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[43]): [(41, 16), (42, 17), (43, 17), (44, 17), (45, 18)]
["you're", 'welcome', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 17

minibatch.kb length: 40
minibatch.kb:
[(['stanford', 'childrens', 'health', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['stanford', 'childrens', 'health', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'childrens', 'health', '<pad>', 'address'], ['@address'], ['899 Ames Ct']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi'], ['@poi'], ['Stanford Childrens Health']),
 (['webster', 'garage', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['webster', 'garage', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['webster', 'garage', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['webster', 'garage', '<pad>', 'address'], ['@address'], ['880 Ames Ct']),
 (['webster', 'garage', '<pad>', 'poi'], ['@poi'], ['Webster Garage']),
 (['coupa', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['coupa', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['coupa', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['coupa', '<pad>', 'address'], ['@address'], ['394 Van Ness Ave']),
 (['coupa', '<pad>', 'poi'], ['@poi'], ['Coupa']),
 (['stanford', 'shopping', 'center', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['stanford', 'shopping', 'center', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi_type'], ['@poi_type'], ['shopping center']),
 (['stanford', 'shopping', 'center', '<pad>', 'address'], ['@address'], ['773 Alger Dr']),
 (['stanford', 'shopping', 'center', '<pad>', 'poi'], ['@poi'], ['Stanford Shopping Center']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'address'], ['@address'], ['5677 southwest 4th street']),
 (['5677', 'southwest', '4th', 'street', '<pad>', 'poi'], ['@poi'], ['5677 southwest 4th street']),
 (['teavana', '<pad>', 'distance'], ['@distance'], ['4 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['starbucks', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['starbucks', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['starbucks', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['starbucks', '<pad>', 'address'], ['@address'], ['792 Bedoin Street']),
 (['starbucks', '<pad>', 'poi'], ['@poi'], ['Starbucks'])]

minibatch.src/trg: (['i', 'need', 'the', 'address', 'of', 'a', 'the', 'shopping', 'center', 'that', 'i', 'can', 'get', 'to', 'the', 'quickest', 'from', 'here', '@dot', 'stanford', 'shopping', 'center', 'is', '5', 'miles', 'away', 'but', 'there', 'is', 'heavy', 'traffic', 'on', 'our', 'way', '.', 'do', 'you', 'want', 'me', 'to', 'set', 'the', 'gps', 'to', 'get', 'there', '?', '@dot', 'yes', ',', 'please', ',', 'just', 'pick', 'the', 'quickest', 'route', 'and', "let's", 'go', 'there', '!', '@dot', 'the', 'quickest', 'route', 'is', '773', 'alger', 'dr', 'and', 'is', 'set', '.', '@dot', 'thanks', 'for', 'all', 'the', 'help', '.'], ["you're", 'welcome', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1678 40 1718

corresponding_kb: 17

example number: 44

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[44]): [(42, 17), (43, 17), (44, 17), (45, 18), (46, 18)]
proc_batch: batch.src: ['i', 'need', 'the', 'address', 'of', 'a', 'the', 'shopping', 'center', 'that', 'i', 'can', 'get', 'to', 'the', 'quickest', 'from', 'here', '@dot', 'stanford', 'shopping', 'center', 'is', '5', 'miles', 'away', 'but', 'there', 'is', 'heavy', 'traffic', 'on', 'our', 'way', '.', 'do', 'you', 'want', 'me', 'to', 'set', 'the', 'gps', 'to', 'get', 'there', '?', '@dot', 'yes', ',', 'please', ',', 'just', 'pick', 'the', 'quickest', 'route', 'and', "let's", 'go', 'there', '!', '@dot', 'the', 'quickest', 'route', 'is', '773', 'alger', 'dr', 'and', 'is', 'set', '.', '@dot', 'thanks', 'for', 'all', 'the', 'help', '.']
proc_batch: batch.trg: ["you're", 'welcome', '.']
proc_batch: kbkeys: [['stanford', 'childrens', 'health', '<pad>', 'distance', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'poi_type', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'address', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'poi', '<pad>', '<pad>'], ['webster', 'garage', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['webster', 'garage', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['webster', 'garage', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['webster', 'garage', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['webster', 'garage', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'distance', '<pad>', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'address', '<pad>', '<pad>', '<pad>', '<pad>'], ['coupa', '<pad>', 'poi', '<pad>', '<pad>', '<pad>', '<pad>'], ['stanford', 'shopping', 'center', '<pad>', 'distance', '<pad>', '<pad>'], ['stanford', 'shopping', 'center', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['stanford', 'shopping', 'center', '<pad>', 'poi_type', '<pad>', '<pad>'], ['stanford', 'shopping', 'center', '<pad>', 'address', '<pad>', '<pad>'], ['stanford', 'shopping', 'center', '<pad>', 'poi', '<pad>', '<pad>'], ['valero', '<pad>', 'distance', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'address', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'poi', '<pad>', '<pad>', '<pad>', '<pad>'], ['5677', 'southwest', '4th', 'street', '<pad>', 'distance', '<pad>'], ['5677', 'southwest', '4th', 'street', '<pad>', 'traffic_info', '<pad>'], ['5677', 'southwest', '4th', 'street', '<pad>', 'poi_type', '<pad>'], ['5677', 'southwest', '4th', 'street', '<pad>', 'address', '<pad>'], ['5677', 'southwest', '4th', 'street', '<pad>', 'poi', '<pad>'], ['teavana', '<pad>', 'distance', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'address', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'poi', '<pad>', '<pad>', '<pad>', '<pad>'], ['starbucks', '<pad>', 'distance', '<pad>', '<pad>', '<pad>', '<pad>'], ['starbucks', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>', '<pad>'], ['starbucks', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>', '<pad>'], ['starbucks', '<pad>', 'address', '<pad>', '<pad>', '<pad>', '<pad>'], ['starbucks', '<pad>', 'poi', '<pad>', '<pad>', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi']]
debug: batch.kbtrv:[['4 miles'], ['road block nearby'], ['hospital'], ['899 Ames Ct'], ['Stanford Childrens Health'], ['1 miles'], ['car collision nearby'], ['parking garage'], ['880 Ames Ct'], ['Webster Garage'], ['3 miles'], ['moderate traffic'], ['coffee or tea place'], ['394 Van Ness Ave'], ['Coupa'], ['5 miles'], ['heavy traffic'], ['shopping center'], ['773 Alger Dr'], ['Stanford Shopping Center'], ['4 miles'], ['no traffic'], ['gas station'], ['200 Alester Ave'], ['Valero'], ['4 miles'], ['heavy traffic'], ['certain address'], ['5677 southwest 4th street'], ['5677 southwest 4th street'], ['4 miles'], ['moderate traffic'], ['coffee or tea place'], ['145 Amherst St'], ['Teavana'], ['3 miles'], ['moderate traffic'], ['coffee or tea place'], ['792 Bedoin Street'], ['Starbucks']]
Time spent on converting arrays to sentences for current batch: 0.004404783248901367
debug: kb_true_vals :torch.Size([3, 40])
debug: kb_true_vals content:tensor([[1635, 1627, 1143, 1802, 1803, 1644, 1636, 1628, 1796, 1797, 1664, 1640,
         1665, 1819, 1820, 1672, 1645, 1658, 1662, 1663, 1635, 1632, 1652, 1653,
         1654, 1635, 1645, 1719, 1801, 1801, 1635, 1640, 1665, 1666, 1667, 1664,
         1640, 1665, 1717, 1718],
        [1635, 1627, 1143, 1802, 1803, 1644, 1636, 1628, 1796, 1797, 1664, 1640,
         1665, 1819, 1820, 1672, 1645, 1658, 1662, 1663, 1635, 1632, 1652, 1653,
         1654, 1635, 1645, 1719, 1801, 1801, 1635, 1640, 1665, 1666, 1667, 1664,
         1640, 1665, 1717, 1718],
        [1635, 1627, 1143, 1802, 1803, 1644, 1636, 1628, 1796, 1797, 1664, 1640,
         1665, 1819, 1820, 1672, 1645, 1658, 1662, 1663, 1635, 1632, 1652, 1653,
         1654, 1635, 1645, 1719, 1801, 1801, 1635, 1640, 1665, 1666, 1667, 1664,
         1640, 1665, 1717, 1718]], device='cuda:0')
Time spent on kb_true_vals checks: 0.002476215362548828
[1, 1, 5] 40 [torch.Size([3, 8, 200]), torch.Size([3, 5, 200])] [['distance'], ['traffic_info'], ['poi_type'], ['address'], ['poi']]
Time spent on knowledgebase attention dimensions == 2: 1.5566036701202393
(12,) [17 10 23  3]
(tensor(-2.8147, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
(10, 6) [970   5 973  24   4   3]
(tensor(-1.8320, device='cuda:0'), tensor([970,   5, 973,  24,   4,   3], device='cuda:0')) <class 'tuple'>
(14,) [25 59  6 94  9 20 55  7 67 82 23  3]
(tensor(-2.9085, device='cuda:0'), tensor([970,   5,  11, 974,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['@poi_name', 'is', '@poi_distance', 'away', '.'], ['i', 'sent', 'the', 'info', 'on', 'your', 'screen', ',', 'drive', 'carefully', '!'], ["you're", 'welcome', '!']]
['what', 'city', 'would', 'you', 'like', "today's", 'forecast', 'for', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 18

minibatch.kb length: 203
minibatch.kb:
[(['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['warm']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['humid']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['los', 'angeles', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['los', 'angeles', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['los', 'angeles', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['los', 'angeles', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['los', 'angeles', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['los', 'angeles', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['los', 'angeles', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['los', 'angeles', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['los', 'angeles', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['los', 'angeles', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['los', 'angeles', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['los', 'angeles', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['los', 'angeles', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['los', 'angeles', '<pad>', 'location'], ['@location'], ['los angeles']),
 (['los', 'angeles', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['los', 'angeles', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['dry']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['drizzle']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['blizzard']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['blizzard']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['blizzard']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F'])]

minibatch.src/trg: (['what', 'is', "today's", 'forecast'], ['what', 'city', 'would', 'you', 'like', "today's", 'forecast', 'for', '?'])

batch_with_kb: current, kb_len, current+kb_len:  1718 203 1921

corresponding_kb: 18

example number: 45

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[45]): [(43, 17), (44, 17), (45, 18), (46, 18), (47, 18)]
['today', 'in', '@location', 'it', 'is', '@weather_attribute', 'with', 'a', 'temperature', 'between', '@temperature', '-', '@temperature', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 18

minibatch.kb length: 203
minibatch.kb:
[(['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['warm']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['humid']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['los', 'angeles', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['los', 'angeles', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['los', 'angeles', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['los', 'angeles', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['los', 'angeles', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['los', 'angeles', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['los', 'angeles', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['los', 'angeles', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['los', 'angeles', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['los', 'angeles', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['los', 'angeles', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['los', 'angeles', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['los', 'angeles', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['los', 'angeles', '<pad>', 'location'], ['@location'], ['los angeles']),
 (['los', 'angeles', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['los', 'angeles', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['dry']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['drizzle']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['blizzard']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['blizzard']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['blizzard']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F'])]

minibatch.src/trg: (['what', 'is', "today's", 'forecast', '@dot', 'what', 'city', 'would', 'you', 'like', "today's", 'forecast', 'for', '?', '@dot', 'please', 'check', 'for', 'boston', '.'], ['today', 'in', '@location', 'it', 'is', '@weather_attribute', 'with', 'a', 'temperature', 'between', '@temperature', '-', '@temperature', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1718 203 1921

corresponding_kb: 18

example number: 46

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[46]): [(44, 17), (45, 18), (46, 18), (47, 18), (48, 19)]
['you', 'are', 'welcome', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 18

minibatch.kb length: 203
minibatch.kb:
[(['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['warm']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['humid']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['los', 'angeles', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['los', 'angeles', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['los', 'angeles', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['los', 'angeles', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['los', 'angeles', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['los', 'angeles', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['los', 'angeles', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['los', 'angeles', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['los', 'angeles', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['los', 'angeles', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['los', 'angeles', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['los', 'angeles', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['los', 'angeles', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['los', 'angeles', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['los', 'angeles', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['los', 'angeles', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['los', 'angeles', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['los', 'angeles', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['los', 'angeles', '<pad>', 'location'], ['@location'], ['los angeles']),
 (['los', 'angeles', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['los', 'angeles', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['los', 'angeles', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['dry']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['drizzle']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['blizzard']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['blizzard']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['blizzard']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F'])]

minibatch.src/trg: (['what', 'is', "today's", 'forecast', '@dot', 'what', 'city', 'would', 'you', 'like', "today's", 'forecast', 'for', '?', '@dot', 'please', 'check', 'for', 'boston', '.', '@dot', 'today', 'in', 'boston', 'it', 'is', 'cloudy', 'with', 'a', 'temperature', 'between', '70', '-80f', '.', '@dot', 'okay', ',', 'thank', 'you', '.'], ['you', 'are', 'welcome', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1718 203 1921

corresponding_kb: 18

example number: 47

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[47]): [(45, 18), (46, 18), (47, 18), (48, 19), (49, 19)]
proc_batch: batch.src: ['what', 'is', "today's", 'forecast', '@dot', 'what', 'city', 'would', 'you', 'like', "today's", 'forecast', 'for', '?', '@dot', 'please', 'check', 'for', 'boston', '.', '@dot', 'today', 'in', 'boston', 'it', 'is', 'cloudy', 'with', 'a', 'temperature', 'between', '70', '-80f', '.', '@dot', 'okay', ',', 'thank', 'you', '.']
proc_batch: batch.trg: ['you', 'are', 'welcome', '.']
proc_batch: kbkeys: [['manhattan', '<pad>', 'monday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'location', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'location', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['los', 'angeles', '<pad>', 'monday_date', '<pad>'], ['los', 'angeles', '<pad>', 'monday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'monday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'monday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'tuesday_date', '<pad>'], ['los', 'angeles', '<pad>', 'tuesday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'tuesday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'tuesday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'friday_date', '<pad>'], ['los', 'angeles', '<pad>', 'friday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'friday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'friday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'wednesday_date', '<pad>'], ['los', 'angeles', '<pad>', 'wednesday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'wednesday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'wednesday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'thursday_date', '<pad>'], ['los', 'angeles', '<pad>', 'thursday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'thursday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'thursday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'sunday_date', '<pad>'], ['los', 'angeles', '<pad>', 'sunday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'sunday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'sunday_temperature_high', '<pad>'], ['los', 'angeles', '<pad>', 'location', '<pad>'], ['los', 'angeles', '<pad>', 'saturday_date', '<pad>'], ['los', 'angeles', '<pad>', 'saturday_weather', '<pad>'], ['los', 'angeles', '<pad>', 'saturday_temperature_low', '<pad>'], ['los', 'angeles', '<pad>', 'saturday_temperature_high', '<pad>'], ['fresno', '<pad>', 'monday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'location', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'location', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['san', 'francisco', '<pad>', 'monday_date', '<pad>'], ['san', 'francisco', '<pad>', 'monday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'friday_date', '<pad>'], ['san', 'francisco', '<pad>', 'friday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_date', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_date', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'location', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_date', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'monday_date', '<pad>'], ['mountain', 'view', '<pad>', 'monday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'monday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'monday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_date', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'friday_date', '<pad>'], ['mountain', 'view', '<pad>', 'friday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'friday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'friday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_date', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_date', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_date', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'location', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_date', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_temperature_high', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['snow'], ['20F'], ['40F'], ['tuesday'], ['hot'], ['80F'], ['100F'], ['friday'], ['rain'], ['70F'], ['80F'], ['wednesday'], ['dry'], ['80F'], ['100F'], ['thursday'], ['warm'], ['90F'], ['100F'], ['sunday'], ['foggy'], ['80F'], ['100F'], ['manhattan'], ['saturday'], ['hot'], ['80F'], ['90F'], ['monday'], ['clear skies'], ['90F'], ['100F'], ['tuesday'], ['humid'], ['90F'], ['100F'], ['friday'], ['foggy'], ['20F'], ['30F'], ['wednesday'], ['cloudy'], ['30F'], ['50F'], ['thursday'], ['foggy'], ['20F'], ['40F'], ['sunday'], ['rain'], ['30F'], ['50F'], ['compton'], ['saturday'], ['clear skies'], ['20F'], ['40F'], ['monday'], ['cloudy'], ['40F'], ['50F'], ['tuesday'], ['cloudy'], ['70F'], ['80F'], ['friday'], ['foggy'], ['30F'], ['40F'], ['wednesday'], ['drizzle'], ['20F'], ['40F'], ['thursday'], ['drizzle'], ['40F'], ['60F'], ['sunday'], ['clear skies'], ['20F'], ['30F'], ['los angeles'], ['saturday'], ['rain'], ['20F'], ['30F'], ['monday'], ['rain'], ['60F'], ['80F'], ['tuesday'], ['drizzle'], ['60F'], ['80F'], ['friday'], ['raining'], ['40F'], ['50F'], ['wednesday'], ['snow'], ['40F'], ['50F'], ['thursday'], ['foggy'], ['50F'], ['70F'], ['sunday'], ['raining'], ['60F'], ['70F'], ['fresno'], ['saturday'], ['rain'], ['50F'], ['60F'], ['monday'], ['cloudy'], ['70F'], ['80F'], ['tuesday'], ['dry'], ['30F'], ['40F'], ['friday'], ['drizzle'], ['60F'], ['70F'], ['wednesday'], ['snow'], ['30F'], ['50F'], ['thursday'], ['blizzard'], ['50F'], ['60F'], ['sunday'], ['warm'], ['70F'], ['80F'], ['boston'], ['saturday'], ['foggy'], ['50F'], ['70F'], ['monday'], ['blizzard'], ['50F'], ['60F'], ['tuesday'], ['drizzle'], ['20F'], ['40F'], ['friday'], ['rain'], ['20F'], ['40F'], ['wednesday'], ['drizzle'], ['50F'], ['70F'], ['thursday'], ['blizzard'], ['50F'], ['60F'], ['sunday'], ['overcast'], ['40F'], ['60F'], ['san francisco'], ['saturday'], ['overcast'], ['70F'], ['80F'], ['monday'], ['raining'], ['70F'], ['90F'], ['tuesday'], ['snow'], ['20F'], ['40F'], ['friday'], ['overcast'], ['80F'], ['90F'], ['wednesday'], ['hot'], ['80F'], ['90F'], ['thursday'], ['cloudy'], ['30F'], ['50F'], ['sunday'], ['rain'], ['50F'], ['70F'], ['mountain view'], ['saturday'], ['rain'], ['70F'], ['80F']]
Time spent on converting arrays to sentences for current batch: 0.004701852798461914
debug: kb_true_vals :torch.Size([3, 203])
debug: kb_true_vals content:tensor([[1134, 1128, 1700, 1701, 1132, 1147, 1707, 1706, 1140, 1119, 1699, 1707,
         1138, 1169, 1707, 1706, 1136, 1166, 1705, 1706, 1139, 1154, 1707, 1706,
          996, 1142, 1147, 1707, 1705, 1134, 1702, 1705, 1706, 1132, 1160, 1705,
         1706, 1140, 1154, 1700, 1704, 1138, 1130, 1704, 1698, 1136, 1154, 1700,
         1701, 1139, 1119, 1704, 1698,  988, 1142, 1702, 1700, 1701, 1134, 1130,
         1701, 1698, 1132, 1130, 1699, 1707, 1140, 1154, 1704, 1701, 1138, 1151,
         1700, 1701, 1136, 1151, 1701, 1703, 1139, 1702, 1700, 1704, 1712, 1142,
         1119, 1700, 1704, 1134, 1119, 1703, 1707, 1132, 1151, 1703, 1707, 1140,
          147, 1701, 1698, 1138, 1128, 1701, 1698, 1136, 1154, 1698, 1699, 1139,
          147, 1703, 1699,  986, 1142, 1119, 1698, 1703, 1134, 1130, 1699, 1707,
         1132, 1169, 1704, 1701, 1140, 1151, 1703, 1699, 1138, 1128, 1704, 1698,
         1136, 1164, 1698, 1703, 1139, 1166, 1699, 1707,  980, 1142, 1154, 1698,
         1699, 1134, 1164, 1698, 1703, 1132, 1151, 1700, 1701, 1140, 1119, 1700,
         1701, 1138, 1151, 1698, 1699, 1136, 1164, 1698, 1703, 1139, 1155, 1701,
         1703, 1713, 1142, 1155, 1699, 1707, 1134,  147, 1699, 1705, 1132, 1128,
         1700, 1701, 1140, 1155, 1707, 1705, 1138, 1147, 1707, 1705, 1136, 1130,
         1704, 1698, 1139, 1119, 1698, 1699, 1714, 1142, 1119, 1699, 1707],
        [1134, 1128, 1700, 1701, 1132, 1147, 1707, 1706, 1140, 1119, 1699, 1707,
         1138, 1169, 1707, 1706, 1136, 1166, 1705, 1706, 1139, 1154, 1707, 1706,
          996, 1142, 1147, 1707, 1705, 1134, 1702, 1705, 1706, 1132, 1160, 1705,
         1706, 1140, 1154, 1700, 1704, 1138, 1130, 1704, 1698, 1136, 1154, 1700,
         1701, 1139, 1119, 1704, 1698,  988, 1142, 1702, 1700, 1701, 1134, 1130,
         1701, 1698, 1132, 1130, 1699, 1707, 1140, 1154, 1704, 1701, 1138, 1151,
         1700, 1701, 1136, 1151, 1701, 1703, 1139, 1702, 1700, 1704, 1712, 1142,
         1119, 1700, 1704, 1134, 1119, 1703, 1707, 1132, 1151, 1703, 1707, 1140,
          147, 1701, 1698, 1138, 1128, 1701, 1698, 1136, 1154, 1698, 1699, 1139,
          147, 1703, 1699,  986, 1142, 1119, 1698, 1703, 1134, 1130, 1699, 1707,
         1132, 1169, 1704, 1701, 1140, 1151, 1703, 1699, 1138, 1128, 1704, 1698,
         1136, 1164, 1698, 1703, 1139, 1166, 1699, 1707,  980, 1142, 1154, 1698,
         1699, 1134, 1164, 1698, 1703, 1132, 1151, 1700, 1701, 1140, 1119, 1700,
         1701, 1138, 1151, 1698, 1699, 1136, 1164, 1698, 1703, 1139, 1155, 1701,
         1703, 1713, 1142, 1155, 1699, 1707, 1134,  147, 1699, 1705, 1132, 1128,
         1700, 1701, 1140, 1155, 1707, 1705, 1138, 1147, 1707, 1705, 1136, 1130,
         1704, 1698, 1139, 1119, 1698, 1699, 1714, 1142, 1119, 1699, 1707],
        [1134, 1128, 1700, 1701, 1132, 1147, 1707, 1706, 1140, 1119, 1699, 1707,
         1138, 1169, 1707, 1706, 1136, 1166, 1705, 1706, 1139, 1154, 1707, 1706,
          996, 1142, 1147, 1707, 1705, 1134, 1702, 1705, 1706, 1132, 1160, 1705,
         1706, 1140, 1154, 1700, 1704, 1138, 1130, 1704, 1698, 1136, 1154, 1700,
         1701, 1139, 1119, 1704, 1698,  988, 1142, 1702, 1700, 1701, 1134, 1130,
         1701, 1698, 1132, 1130, 1699, 1707, 1140, 1154, 1704, 1701, 1138, 1151,
         1700, 1701, 1136, 1151, 1701, 1703, 1139, 1702, 1700, 1704, 1712, 1142,
         1119, 1700, 1704, 1134, 1119, 1703, 1707, 1132, 1151, 1703, 1707, 1140,
          147, 1701, 1698, 1138, 1128, 1701, 1698, 1136, 1154, 1698, 1699, 1139,
          147, 1703, 1699,  986, 1142, 1119, 1698, 1703, 1134, 1130, 1699, 1707,
         1132, 1169, 1704, 1701, 1140, 1151, 1703, 1699, 1138, 1128, 1704, 1698,
         1136, 1164, 1698, 1703, 1139, 1166, 1699, 1707,  980, 1142, 1154, 1698,
         1699, 1134, 1164, 1698, 1703, 1132, 1151, 1700, 1701, 1140, 1119, 1700,
         1701, 1138, 1151, 1698, 1699, 1136, 1164, 1698, 1703, 1139, 1155, 1701,
         1703, 1713, 1142, 1155, 1699, 1707, 1134,  147, 1699, 1705, 1132, 1128,
         1700, 1701, 1140, 1155, 1707, 1705, 1138, 1147, 1707, 1705, 1136, 1130,
         1704, 1698, 1139, 1119, 1698, 1699, 1714, 1142, 1119, 1699, 1707]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.010342121124267578
[1, 1, 29] 203 [torch.Size([3, 7, 200]), torch.Size([3, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.566478729248047
(14,) [17 10 23  3]
(tensor(-4.0691, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(11,) [ 28  27  26 971  14 961  48   4   3]
(tensor(-2.5055, device='cuda:0'), tensor([ 28,  27,  26, 971,  14, 961,   4,   3], device='cuda:0')) <class 'tuple'>
(9,) [29 35 39  8 53  6 42 15 13  3]
(tensor(-1.9568, device='cuda:0'), tensor([29, 35, 22,  8, 14, 13,  3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'city', 'do', 'you', 'want', 'the', 'weather', 'for', '?'], ['it', 'will', 'be', '@weather_attribute', 'in', '@location', 'today', '.'], ["you're", 'welcome', '!']]
['your', '@poi_type', 'is', 'at', '@poi_address', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 19

minibatch.kb length: 40
minibatch.kb:
[(['dominos', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['dominos', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['dominos', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['dominos', '<pad>', 'address'], ['@address'], ['776 Arastradero Rd']),
 (['dominos', '<pad>', 'poi'], ['@poi'], ['Dominos']),
 (['papa', 'johns', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['papa', 'johns', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['papa', 'johns', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['papa', 'johns', '<pad>', 'address'], ['@address'], ['110 Arastradero Rd']),
 (['papa', 'johns', '<pad>', 'poi'], ['@poi'], ['Papa Johns']),
 (['5677', 'springer', 'street', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['5677', 'springer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['5677', 'springer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'springer', 'street', '<pad>', 'address'], ['@address'], ['5677 springer street']),
 (['5677', 'springer', 'street', '<pad>', 'poi'], ['@poi'], ['5677 springer street']),
 (['chef', "chu's", '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['chef', "chu's", '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['chef', "chu's", '<pad>', 'poi_type'], ['@poi_type'], ['chinese restaurant']),
 (['chef', "chu's", '<pad>', 'address'], ['@address'], ['593 Arrowhead Way']),
 (['chef', "chu's", '<pad>', 'poi'], ['@poi'], ["Chef Chu's"]),
 (['home', '<pad>', 'distance'], ['@distance'], ['8 miles']),
 (['home', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['home', '<pad>', 'poi_type'], ['@poi_type'], ['home']),
 (['home', '<pad>', 'address'], ['@address'], ['10 ames street']),
 (['home', '<pad>', 'poi'], ['@poi'], ['home']),
 (['shell', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['shell', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['shell', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['shell', '<pad>', 'address'], ['@address'], ['53 University Av']),
 (['shell', '<pad>', 'poi'], ['@poi'], ['Shell']),
 (['cafe', 'venetia', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['cafe', 'venetia', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['cafe', 'venetia', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['cafe', 'venetia', '<pad>', 'address'], ['@address'], ['269 Alger Dr']),
 (['cafe', 'venetia', '<pad>', 'poi'], ['@poi'], ['Cafe Venetia']),
 (['stanford', 'oval', 'parking', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['stanford', 'oval', 'parking', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['stanford', 'oval', 'parking', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['stanford', 'oval', 'parking', '<pad>', 'address'], ['@address'], ['610 Amarillo Ave']),
 (['stanford', 'oval', 'parking', '<pad>', 'poi'], ['@poi'], ['Stanford Oval Parking'])]

minibatch.src/trg: (['car', 'i', 'need', 'to', 'get', 'home', ',', 'it', 'should', 'be', 'near', 'me', ',', 'please', 'highlight', 'its', 'position', 'on', 'the', 'map'], ['your', '@poi_type', 'is', 'at', '@poi_address', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1921 40 1961

corresponding_kb: 19

example number: 48

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[48]): [(46, 18), (47, 18), (48, 19), (49, 19), (50, 19)]
['setting', 'gps', 'to', 'avoid', 'any', '@traffic_info', '.', 'your', 'route', 'is', 'now', 'set', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 19

minibatch.kb length: 40
minibatch.kb:
[(['dominos', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['dominos', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['dominos', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['dominos', '<pad>', 'address'], ['@address'], ['776 Arastradero Rd']),
 (['dominos', '<pad>', 'poi'], ['@poi'], ['Dominos']),
 (['papa', 'johns', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['papa', 'johns', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['papa', 'johns', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['papa', 'johns', '<pad>', 'address'], ['@address'], ['110 Arastradero Rd']),
 (['papa', 'johns', '<pad>', 'poi'], ['@poi'], ['Papa Johns']),
 (['5677', 'springer', 'street', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['5677', 'springer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['5677', 'springer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'springer', 'street', '<pad>', 'address'], ['@address'], ['5677 springer street']),
 (['5677', 'springer', 'street', '<pad>', 'poi'], ['@poi'], ['5677 springer street']),
 (['chef', "chu's", '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['chef', "chu's", '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['chef', "chu's", '<pad>', 'poi_type'], ['@poi_type'], ['chinese restaurant']),
 (['chef', "chu's", '<pad>', 'address'], ['@address'], ['593 Arrowhead Way']),
 (['chef', "chu's", '<pad>', 'poi'], ['@poi'], ["Chef Chu's"]),
 (['home', '<pad>', 'distance'], ['@distance'], ['8 miles']),
 (['home', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['home', '<pad>', 'poi_type'], ['@poi_type'], ['home']),
 (['home', '<pad>', 'address'], ['@address'], ['10 ames street']),
 (['home', '<pad>', 'poi'], ['@poi'], ['home']),
 (['shell', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['shell', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['shell', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['shell', '<pad>', 'address'], ['@address'], ['53 University Av']),
 (['shell', '<pad>', 'poi'], ['@poi'], ['Shell']),
 (['cafe', 'venetia', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['cafe', 'venetia', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['cafe', 'venetia', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['cafe', 'venetia', '<pad>', 'address'], ['@address'], ['269 Alger Dr']),
 (['cafe', 'venetia', '<pad>', 'poi'], ['@poi'], ['Cafe Venetia']),
 (['stanford', 'oval', 'parking', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['stanford', 'oval', 'parking', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['stanford', 'oval', 'parking', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['stanford', 'oval', 'parking', '<pad>', 'address'], ['@address'], ['610 Amarillo Ave']),
 (['stanford', 'oval', 'parking', '<pad>', 'poi'], ['@poi'], ['Stanford Oval Parking'])]

minibatch.src/trg: (['car', 'i', 'need', 'to', 'get', 'home', ',', 'it', 'should', 'be', 'near', 'me', ',', 'please', 'highlight', 'its', 'position', 'on', 'the', 'map', '@dot', 'your', 'home', 'is', 'at', '10', 'ames', 'street', '.', '@dot', 'avoid', 'all', 'heavy', 'traffic', 'and', "let's", 'go', 'there', ',', 'thank', 'you', '!'], ['setting', 'gps', 'to', 'avoid', 'any', '@traffic_info', '.', 'your', 'route', 'is', 'now', 'set', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1921 40 1961

corresponding_kb: 19

example number: 49

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[49]): [(47, 18), (48, 19), (49, 19), (50, 19), (51, 20)]
["you're", 'welcome', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 19

minibatch.kb length: 40
minibatch.kb:
[(['dominos', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['dominos', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['dominos', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['dominos', '<pad>', 'address'], ['@address'], ['776 Arastradero Rd']),
 (['dominos', '<pad>', 'poi'], ['@poi'], ['Dominos']),
 (['papa', 'johns', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['papa', 'johns', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['papa', 'johns', '<pad>', 'poi_type'], ['@poi_type'], ['pizza restaurant']),
 (['papa', 'johns', '<pad>', 'address'], ['@address'], ['110 Arastradero Rd']),
 (['papa', 'johns', '<pad>', 'poi'], ['@poi'], ['Papa Johns']),
 (['5677', 'springer', 'street', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['5677', 'springer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['5677', 'springer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5677', 'springer', 'street', '<pad>', 'address'], ['@address'], ['5677 springer street']),
 (['5677', 'springer', 'street', '<pad>', 'poi'], ['@poi'], ['5677 springer street']),
 (['chef', "chu's", '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['chef', "chu's", '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['chef', "chu's", '<pad>', 'poi_type'], ['@poi_type'], ['chinese restaurant']),
 (['chef', "chu's", '<pad>', 'address'], ['@address'], ['593 Arrowhead Way']),
 (['chef', "chu's", '<pad>', 'poi'], ['@poi'], ["Chef Chu's"]),
 (['home', '<pad>', 'distance'], ['@distance'], ['8 miles']),
 (['home', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['home', '<pad>', 'poi_type'], ['@poi_type'], ['home']),
 (['home', '<pad>', 'address'], ['@address'], ['10 ames street']),
 (['home', '<pad>', 'poi'], ['@poi'], ['home']),
 (['shell', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['shell', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['shell', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['shell', '<pad>', 'address'], ['@address'], ['53 University Av']),
 (['shell', '<pad>', 'poi'], ['@poi'], ['Shell']),
 (['cafe', 'venetia', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['cafe', 'venetia', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['cafe', 'venetia', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['cafe', 'venetia', '<pad>', 'address'], ['@address'], ['269 Alger Dr']),
 (['cafe', 'venetia', '<pad>', 'poi'], ['@poi'], ['Cafe Venetia']),
 (['stanford', 'oval', 'parking', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['stanford', 'oval', 'parking', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['stanford', 'oval', 'parking', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['stanford', 'oval', 'parking', '<pad>', 'address'], ['@address'], ['610 Amarillo Ave']),
 (['stanford', 'oval', 'parking', '<pad>', 'poi'], ['@poi'], ['Stanford Oval Parking'])]

minibatch.src/trg: (['car', 'i', 'need', 'to', 'get', 'home', ',', 'it', 'should', 'be', 'near', 'me', ',', 'please', 'highlight', 'its', 'position', 'on', 'the', 'map', '@dot', 'your', 'home', 'is', 'at', '10', 'ames', 'street', '.', '@dot', 'avoid', 'all', 'heavy', 'traffic', 'and', "let's", 'go', 'there', ',', 'thank', 'you', '!', '@dot', 'setting', 'gps', 'to', 'avoid', 'any', 'heavy', 'traffic', '.', 'your', 'route', 'is', 'now', 'set', '.', '@dot', 'thanks', 'so', 'much', '.'], ["you're", 'welcome', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1921 40 1961

corresponding_kb: 19

example number: 50

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[50]): [(48, 19), (49, 19), (50, 19), (51, 20), (52, 20)]
proc_batch: batch.src: ['car', 'i', 'need', 'to', 'get', 'home', ',', 'it', 'should', 'be', 'near', 'me', ',', 'please', 'highlight', 'its', 'position', 'on', 'the', 'map', '@dot', 'your', 'home', 'is', 'at', '10', 'ames', 'street', '.', '@dot', 'avoid', 'all', 'heavy', 'traffic', 'and', "let's", 'go', 'there', ',', 'thank', 'you', '!', '@dot', 'setting', 'gps', 'to', 'avoid', 'any', 'heavy', 'traffic', '.', 'your', 'route', 'is', 'now', 'set', '.', '@dot', 'thanks', 'so', 'much', '.']
proc_batch: batch.trg: ["you're", 'welcome', '.']
proc_batch: kbkeys: [['dominos', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['dominos', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['papa', 'johns', '<pad>', 'distance', '<pad>', '<pad>'], ['papa', 'johns', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['papa', 'johns', '<pad>', 'poi_type', '<pad>', '<pad>'], ['papa', 'johns', '<pad>', 'address', '<pad>', '<pad>'], ['papa', 'johns', '<pad>', 'poi', '<pad>', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'distance', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'traffic_info', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'poi_type', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'address', '<pad>'], ['5677', 'springer', 'street', '<pad>', 'poi', '<pad>'], ['chef', "chu's", '<pad>', 'distance', '<pad>', '<pad>'], ['chef', "chu's", '<pad>', 'traffic_info', '<pad>', '<pad>'], ['chef', "chu's", '<pad>', 'poi_type', '<pad>', '<pad>'], ['chef', "chu's", '<pad>', 'address', '<pad>', '<pad>'], ['chef', "chu's", '<pad>', 'poi', '<pad>', '<pad>'], ['home', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['home', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['home', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['home', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['home', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['shell', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['shell', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['shell', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['shell', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['shell', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'distance', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'poi_type', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'address', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'poi', '<pad>', '<pad>'], ['stanford', 'oval', 'parking', '<pad>', 'distance', '<pad>'], ['stanford', 'oval', 'parking', '<pad>', 'traffic_info', '<pad>'], ['stanford', 'oval', 'parking', '<pad>', 'poi_type', '<pad>'], ['stanford', 'oval', 'parking', '<pad>', 'address', '<pad>'], ['stanford', 'oval', 'parking', '<pad>', 'poi', '<pad>']]
proc_batch: kbvalues: [['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi']]
debug: batch.kbtrv:[['3 miles'], ['moderate traffic'], ['pizza restaurant'], ['776 Arastradero Rd'], ['Dominos'], ['5 miles'], ['car collision nearby'], ['pizza restaurant'], ['110 Arastradero Rd'], ['Papa Johns'], ['6 miles'], ['moderate traffic'], ['certain address'], ['5677 springer street'], ['5677 springer street'], ['2 miles'], ['no traffic'], ['chinese restaurant'], ['593 Arrowhead Way'], ["Chef Chu's"], ['8 miles'], ['no traffic'], ['home'], ['10 ames street'], ['home'], ['2 miles'], ['heavy traffic'], ['gas station'], ['53 University Av'], ['Shell'], ['6 miles'], ['heavy traffic'], ['coffee or tea place'], ['269 Alger Dr'], ['Cafe Venetia'], ['2 miles'], ['car collision nearby'], ['parking garage'], ['610 Amarillo Ave'], ['Stanford Oval Parking']]
Time spent on converting arrays to sentences for current batch: 0.0044536590576171875
debug: kb_true_vals :torch.Size([3, 40])
debug: kb_true_vals content:tensor([[1664, 1640, 1649, 1668, 1669, 1672, 1636, 1649, 1725, 1726, 1631, 1640,
         1719, 1720, 1720, 1626, 1632, 1655, 1682, 1683, 1681, 1632, 1046, 1785,
         1046, 1626, 1645, 1652, 1788, 1789, 1631, 1645, 1665, 1790, 1791, 1626,
         1636, 1628, 1633, 1634],
        [1664, 1640, 1649, 1668, 1669, 1672, 1636, 1649, 1725, 1726, 1631, 1640,
         1719, 1720, 1720, 1626, 1632, 1655, 1682, 1683, 1681, 1632, 1046, 1785,
         1046, 1626, 1645, 1652, 1788, 1789, 1631, 1645, 1665, 1790, 1791, 1626,
         1636, 1628, 1633, 1634],
        [1664, 1640, 1649, 1668, 1669, 1672, 1636, 1649, 1725, 1726, 1631, 1640,
         1719, 1720, 1720, 1626, 1632, 1655, 1682, 1683, 1681, 1632, 1046, 1785,
         1046, 1626, 1645, 1652, 1788, 1789, 1631, 1645, 1665, 1790, 1791, 1626,
         1636, 1628, 1633, 1634]], device='cuda:0')
Time spent on kb_true_vals checks: 0.0022056102752685547
[1, 1, 5] 40 [torch.Size([3, 8, 200]), torch.Size([3, 5, 200])] [['distance'], ['traffic_info'], ['poi_type'], ['address'], ['poi']]
Time spent on knowledgebase attention dimensions == 2: 1.5458931922912598
(10, 4) [17 10 23  3]
(tensor(-1.8569, device='cuda:0'), tensor([17, 10, 23,  3], device='cuda:0')) <class 'tuple'>
(12,) [17 10 23  3]
(tensor(-2.7098, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
(14,) [ 20 149   5  11 974   4   3]
(tensor(-2.4434, device='cuda:0'), tensor([  6,  50,   5, 974,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['your', 'house', 'is', 'at', '@poi_address', '.'], ["you're", 'welcome', '!'], ["you're", 'welcome', '!']]
['what', 'city', 'do', 'you', 'want', 'the', 'weather', 'for', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 20

minibatch.kb length: 203
minibatch.kb:
[(['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['warm']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['hot']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['hot']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['warm']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['hot']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['hot']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['hot']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F'])]

minibatch.src/trg: (['what', 'is', 'the', 'forecast', 'for', 'today', 'and', 'tomorrow'], ['what', 'city', 'do', 'you', 'want', 'the', 'weather', 'for', '?'])

batch_with_kb: current, kb_len, current+kb_len:  1961 203 2164

corresponding_kb: 20

example number: 51

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[51]): [(49, 19), (50, 19), (51, 20), (52, 20), (53, 20)]
['there', 'will', 'be', 'no', '@weather_attribute', 'today', 'and', 'tomorrow', 'in', 'chicago', '.', 'the', 'forecast', 'for', '@date', 'is', '@weather_attribute', ',', 'low', 'of', '@temperature', ',', 'high', 'of', '@temperature', '.', 'the', 'forecast', 'for', '@date', 'will', 'be', '@weather_attribute', ',', 'low', 'of', '@temperature', ',', 'high', 'of', '@temperature', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 20

minibatch.kb length: 203
minibatch.kb:
[(['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['warm']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['hot']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['hot']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['warm']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['hot']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['hot']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['hot']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F'])]

minibatch.src/trg: (['what', 'is', 'the', 'forecast', 'for', 'today', 'and', 'tomorrow', '@dot', 'what', 'city', 'do', 'you', 'want', 'the', 'weather', 'for', '?', '@dot', 'will', 'it', 'be', 'overcast', 'in', 'downtown', 'chicago', 'today', 'or', 'tomorrow', '?'], ['there', 'will', 'be', 'no', '@weather_attribute', 'today', 'and', 'tomorrow', 'in', 'chicago', '.', 'the', 'forecast', 'for', '@date', 'is', '@weather_attribute', ',', 'low', 'of', '@temperature', ',', 'high', 'of', '@temperature', '.', 'the', 'forecast', 'for', '@date', 'will', 'be', '@weather_attribute', ',', 'low', 'of', '@temperature', ',', 'high', 'of', '@temperature', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1961 203 2164

corresponding_kb: 20

example number: 52

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[52]): [(50, 19), (51, 20), (52, 20), (53, 20), (54, 21)]
['great', 'talking', 'with', 'you', ',', 'goodbye', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 20

minibatch.kb length: 203
minibatch.kb:
[(['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['warm']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['hot']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['hot']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['warm']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['boston', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['boston', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['boston', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['boston', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['boston', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['boston', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['boston', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['boston', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['boston', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['boston', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['boston', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['boston', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['boston', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['boston', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['boston', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['boston', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['boston', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['boston', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['boston', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['boston', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['boston', '<pad>', 'location'], ['@location'], ['boston']),
 (['boston', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['boston', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['boston', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['boston', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['hot']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['hot']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['hot']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['hot']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F'])]

minibatch.src/trg: (['what', 'is', 'the', 'forecast', 'for', 'today', 'and', 'tomorrow', '@dot', 'what', 'city', 'do', 'you', 'want', 'the', 'weather', 'for', '?', '@dot', 'will', 'it', 'be', 'overcast', 'in', 'downtown', 'chicago', 'today', 'or', 'tomorrow', '?', '@dot', 'there', 'will', 'be', 'no', 'overcast', 'today', 'and', 'tomorrow', 'in', 'chicago', '.', 'the', 'forecast', 'for', 'monday', 'is', 'hot', ',', 'low', 'of', '80f', ',', 'high', 'of', '90f', '.', 'the', 'forecast', 'for', 'tuesday', 'will', 'be', 'snow', ',', 'low', 'of', '60f', ',', 'high', 'of', '70f', '.', '@dot', 'very', 'nice', 'to', 'know', ',', 'thanks', '.'], ['great', 'talking', 'with', 'you', ',', 'goodbye', '.'])

batch_with_kb: current, kb_len, current+kb_len:  1961 203 2164

corresponding_kb: 20

example number: 53

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[53]): [(51, 20), (52, 20), (53, 20), (54, 21), (55, 22)]
proc_batch: batch.src: ['what', 'is', 'the', 'forecast', 'for', 'today', 'and', 'tomorrow', '@dot', 'what', 'city', 'do', 'you', 'want', 'the', 'weather', 'for', '?', '@dot', 'will', 'it', 'be', 'overcast', 'in', 'downtown', 'chicago', 'today', 'or', 'tomorrow', '?', '@dot', 'there', 'will', 'be', 'no', 'overcast', 'today', 'and', 'tomorrow', 'in', 'chicago', '.', 'the', 'forecast', 'for', 'monday', 'is', 'hot', ',', 'low', 'of', '80f', ',', 'high', 'of', '90f', '.', 'the', 'forecast', 'for', 'tuesday', 'will', 'be', 'snow', ',', 'low', 'of', '60f', ',', 'high', 'of', '70f', '.', '@dot', 'very', 'nice', 'to', 'know', ',', 'thanks', '.']
proc_batch: batch.trg: ['great', 'talking', 'with', 'you', ',', 'goodbye', '.']
proc_batch: kbkeys: [['san', 'francisco', '<pad>', 'monday_date', '<pad>'], ['san', 'francisco', '<pad>', 'monday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'friday_date', '<pad>'], ['san', 'francisco', '<pad>', 'friday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_date', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_date', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'location', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_date', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_high', '<pad>'], ['seattle', '<pad>', 'monday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'location', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['boston', '<pad>', 'location', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['boston', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'location', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'location', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_temperature_high', '<pad>'], ['compton', '<pad>', 'monday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'location', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['menlo', 'park', '<pad>', 'monday_date', '<pad>'], ['menlo', 'park', '<pad>', 'monday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'friday_date', '<pad>'], ['menlo', 'park', '<pad>', 'friday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_date', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_date', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'location', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_date', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_high', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['snow'], ['30F'], ['40F'], ['tuesday'], ['warm'], ['40F'], ['60F'], ['friday'], ['windy'], ['80F'], ['100F'], ['wednesday'], ['cloudy'], ['30F'], ['40F'], ['thursday'], ['hot'], ['40F'], ['60F'], ['sunday'], ['hot'], ['30F'], ['40F'], ['san francisco'], ['saturday'], ['windy'], ['60F'], ['80F'], ['monday'], ['windy'], ['90F'], ['100F'], ['tuesday'], ['foggy'], ['40F'], ['60F'], ['friday'], ['foggy'], ['70F'], ['80F'], ['wednesday'], ['cloudy'], ['70F'], ['90F'], ['thursday'], ['windy'], ['40F'], ['60F'], ['sunday'], ['rain'], ['30F'], ['40F'], ['seattle'], ['saturday'], ['warm'], ['80F'], ['100F'], ['monday'], ['foggy'], ['80F'], ['90F'], ['tuesday'], ['snow'], ['70F'], ['90F'], ['friday'], ['raining'], ['30F'], ['40F'], ['wednesday'], ['foggy'], ['40F'], ['60F'], ['thursday'], ['overcast'], ['40F'], ['60F'], ['sunday'], ['clear skies'], ['60F'], ['70F'], ['boston'], ['saturday'], ['hot'], ['30F'], ['40F'], ['monday'], ['cloudy'], ['90F'], ['100F'], ['tuesday'], ['hot'], ['70F'], ['80F'], ['friday'], ['warm'], ['60F'], ['80F'], ['wednesday'], ['warm'], ['70F'], ['80F'], ['thursday'], ['warm'], ['90F'], ['100F'], ['sunday'], ['hot'], ['40F'], ['60F'], ['fresno'], ['saturday'], ['overcast'], ['80F'], ['90F'], ['monday'], ['hot'], ['80F'], ['90F'], ['tuesday'], ['snow'], ['60F'], ['70F'], ['friday'], ['clear skies'], ['90F'], ['100F'], ['wednesday'], ['windy'], ['80F'], ['90F'], ['thursday'], ['foggy'], ['30F'], ['40F'], ['sunday'], ['hot'], ['70F'], ['90F'], ['downtown chicago'], ['saturday'], ['hot'], ['60F'], ['80F'], ['monday'], ['windy'], ['60F'], ['70F'], ['tuesday'], ['raining'], ['90F'], ['100F'], ['friday'], ['clear skies'], ['40F'], ['60F'], ['wednesday'], ['warm'], ['90F'], ['100F'], ['thursday'], ['snow'], ['60F'], ['80F'], ['sunday'], ['foggy'], ['60F'], ['80F'], ['compton'], ['saturday'], ['windy'], ['80F'], ['90F'], ['monday'], ['warm'], ['40F'], ['60F'], ['tuesday'], ['clear skies'], ['70F'], ['90F'], ['friday'], ['overcast'], ['40F'], ['60F'], ['wednesday'], ['rain'], ['90F'], ['100F'], ['thursday'], ['foggy'], ['60F'], ['80F'], ['sunday'], ['rain'], ['40F'], ['60F'], ['menlo park'], ['saturday'], ['hot'], ['80F'], ['100F']]
Time spent on converting arrays to sentences for current batch: 0.004693746566772461
debug: kb_true_vals :torch.Size([3, 203])
debug: kb_true_vals content:tensor([[1134, 1128, 1704, 1701, 1132, 1166, 1701, 1703, 1140, 1163, 1707, 1706,
         1138, 1130, 1704, 1701, 1136, 1147, 1701, 1703, 1139, 1147, 1704, 1701,
         1713, 1142, 1163, 1703, 1707, 1134, 1163, 1705, 1706, 1132, 1154, 1701,
         1703, 1140, 1154, 1699, 1707, 1138, 1130, 1699, 1705, 1136, 1163, 1701,
         1703, 1139, 1119, 1704, 1701,  992, 1142, 1166, 1707, 1706, 1134, 1154,
         1707, 1705, 1132, 1128, 1699, 1705, 1140,  147, 1704, 1701, 1138, 1154,
         1701, 1703, 1136, 1155, 1701, 1703, 1139, 1702, 1703, 1699,  980, 1142,
         1147, 1704, 1701, 1134, 1130, 1705, 1706, 1132, 1147, 1699, 1707, 1140,
         1166, 1703, 1707, 1138, 1166, 1699, 1707, 1136, 1166, 1705, 1706, 1139,
         1147, 1701, 1703,  986, 1142, 1155, 1707, 1705, 1134, 1147, 1707, 1705,
         1132, 1128, 1703, 1699, 1140, 1702, 1705, 1706, 1138, 1163, 1707, 1705,
         1136, 1154, 1704, 1701, 1139, 1147, 1699, 1705, 1746, 1142, 1147, 1703,
         1707, 1134, 1163, 1703, 1699, 1132,  147, 1705, 1706, 1140, 1702, 1701,
         1703, 1138, 1166, 1705, 1706, 1136, 1128, 1703, 1707, 1139, 1154, 1703,
         1707,  988, 1142, 1163, 1707, 1705, 1134, 1166, 1701, 1703, 1132, 1702,
         1699, 1705, 1140, 1155, 1701, 1703, 1138, 1119, 1705, 1706, 1136, 1154,
         1703, 1707, 1139, 1119, 1701, 1703, 1708, 1142, 1147, 1707, 1706],
        [1134, 1128, 1704, 1701, 1132, 1166, 1701, 1703, 1140, 1163, 1707, 1706,
         1138, 1130, 1704, 1701, 1136, 1147, 1701, 1703, 1139, 1147, 1704, 1701,
         1713, 1142, 1163, 1703, 1707, 1134, 1163, 1705, 1706, 1132, 1154, 1701,
         1703, 1140, 1154, 1699, 1707, 1138, 1130, 1699, 1705, 1136, 1163, 1701,
         1703, 1139, 1119, 1704, 1701,  992, 1142, 1166, 1707, 1706, 1134, 1154,
         1707, 1705, 1132, 1128, 1699, 1705, 1140,  147, 1704, 1701, 1138, 1154,
         1701, 1703, 1136, 1155, 1701, 1703, 1139, 1702, 1703, 1699,  980, 1142,
         1147, 1704, 1701, 1134, 1130, 1705, 1706, 1132, 1147, 1699, 1707, 1140,
         1166, 1703, 1707, 1138, 1166, 1699, 1707, 1136, 1166, 1705, 1706, 1139,
         1147, 1701, 1703,  986, 1142, 1155, 1707, 1705, 1134, 1147, 1707, 1705,
         1132, 1128, 1703, 1699, 1140, 1702, 1705, 1706, 1138, 1163, 1707, 1705,
         1136, 1154, 1704, 1701, 1139, 1147, 1699, 1705, 1746, 1142, 1147, 1703,
         1707, 1134, 1163, 1703, 1699, 1132,  147, 1705, 1706, 1140, 1702, 1701,
         1703, 1138, 1166, 1705, 1706, 1136, 1128, 1703, 1707, 1139, 1154, 1703,
         1707,  988, 1142, 1163, 1707, 1705, 1134, 1166, 1701, 1703, 1132, 1702,
         1699, 1705, 1140, 1155, 1701, 1703, 1138, 1119, 1705, 1706, 1136, 1154,
         1703, 1707, 1139, 1119, 1701, 1703, 1708, 1142, 1147, 1707, 1706],
        [1134, 1128, 1704, 1701, 1132, 1166, 1701, 1703, 1140, 1163, 1707, 1706,
         1138, 1130, 1704, 1701, 1136, 1147, 1701, 1703, 1139, 1147, 1704, 1701,
         1713, 1142, 1163, 1703, 1707, 1134, 1163, 1705, 1706, 1132, 1154, 1701,
         1703, 1140, 1154, 1699, 1707, 1138, 1130, 1699, 1705, 1136, 1163, 1701,
         1703, 1139, 1119, 1704, 1701,  992, 1142, 1166, 1707, 1706, 1134, 1154,
         1707, 1705, 1132, 1128, 1699, 1705, 1140,  147, 1704, 1701, 1138, 1154,
         1701, 1703, 1136, 1155, 1701, 1703, 1139, 1702, 1703, 1699,  980, 1142,
         1147, 1704, 1701, 1134, 1130, 1705, 1706, 1132, 1147, 1699, 1707, 1140,
         1166, 1703, 1707, 1138, 1166, 1699, 1707, 1136, 1166, 1705, 1706, 1139,
         1147, 1701, 1703,  986, 1142, 1155, 1707, 1705, 1134, 1147, 1707, 1705,
         1132, 1128, 1703, 1699, 1140, 1702, 1705, 1706, 1138, 1163, 1707, 1705,
         1136, 1154, 1704, 1701, 1139, 1147, 1699, 1705, 1746, 1142, 1147, 1703,
         1707, 1134, 1163, 1703, 1699, 1132,  147, 1705, 1706, 1140, 1702, 1701,
         1703, 1138, 1166, 1705, 1706, 1136, 1128, 1703, 1707, 1139, 1154, 1703,
         1707,  988, 1142, 1163, 1707, 1705, 1134, 1166, 1701, 1703, 1132, 1702,
         1699, 1705, 1140, 1155, 1701, 1703, 1138, 1119, 1705, 1706, 1136, 1154,
         1703, 1707, 1139, 1119, 1701, 1703, 1708, 1142, 1147, 1707, 1706]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.010387659072875977
[1, 1, 29] 203 [torch.Size([3, 7, 200]), torch.Size([3, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.562401056289673
(14,) [17 10 23  3]
(tensor(-4.2493, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(11,) [ 28  27  26 971  14 961  48   4   3]
(tensor(-2.4144, device='cuda:0'), tensor([ 28,  27,  26, 971,  14, 961,   4,   3], device='cuda:0')) <class 'tuple'>
(10,) [29 35 32  8 33  6 42 15 13  3]
(tensor(-2.0467, device='cuda:0'), tensor([29, 35, 22,  8, 14, 13,  3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'city', 'would', 'you', 'like', 'the', 'weather', 'for', '?'], ['it', 'will', 'be', '@weather_attribute', 'in', '@location', 'today', '.'], ["you're", 'welcome', '!']]
['your', 'reminder', 'has', 'been', 'scheduled'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 21
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'that', 'i', 'have', 'a', 'lab', 'appointment'];
candidates are:
                    [(['lab', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['lab', 'appointment'], '@event');
r is:
['set', 'a', 'reminder', 'that', 'i', 'have', 'a', '@event']
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'that', 'i', 'have', 'a', 'lab', 'appointment', 'with', 'tom'];
candidates are:
                    [(['tom'], '@party')];
partial matches are:
                    [];
choice is:
                    (['tom'], '@party');
r is:
['set', 'a', 'reminder', 'that', 'i', 'have', 'a', '@event', 'with', '@party']
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'that', 'i', 'have', 'a', 'lab', 'appointment', 'with', 'tom', 'at', '4pm'];
candidates are:
                    [(['4pm'], '@time')];
partial matches are:
                    [];
choice is:
                    (['4pm'], '@time');
r is:
['set', 'a', 'reminder', 'that', 'i', 'have', 'a', '@event', 'with', '@party', 'at', '@time']
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'that', 'i', 'have', 'a', 'lab', 'appointment', 'with', 'tom', 'at', '4pm', 'on', 'the', '5th'];
candidates are:
                    [(['the', '5th'], '@date')];
partial matches are:
                    [(['the', '1st'], '@date', 1), (['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '12th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '5th'], '@date');
r is:
['set', 'a', 'reminder', 'that', 'i', 'have', 'a', '@event', 'with', '@party', 'at', '@time', 'on', '@date']

========================================
	Finished up Sequence
['set', 'a', 'reminder', 'that', 'i', 'have', 'a', 'lab', 'appointment', 'with', 'tom', 'at', '4pm', 'on', 'the', '5th', 'of', 'this', 'month']
and transformed it to
['set', 'a', 'reminder', 'that', 'i', 'have', 'a', '@event', 'with', '@party', 'at', '@time', 'on', '@date', 'of', 'this', 'month']
========================================


minibatch.kb length: 4
minibatch.kb:
[(['lab', 'appointment', '<pad>', 'event'], ['@event'], ['lab appointment']),
 (['lab', 'appointment', '<pad>', 'party'], ['@party'], ['tom']),
 (['lab', 'appointment', '<pad>', 'time'], ['@time'], ['4pm']),
 (['lab', 'appointment', '<pad>', 'date'], ['@date'], ['the 5th'])]

minibatch.src/trg: (['set', 'a', 'reminder', 'that', 'i', 'have', 'a', 'lab', 'appointment', 'with', 'tom', 'at', '4pm', 'on', 'the', '5th', 'of', 'this', 'month'], ['your', 'reminder', 'has', 'been', 'scheduled'])

batch_with_kb: current, kb_len, current+kb_len:  2164 0 2164

corresponding_kb: 21

example number: 54

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[54]): [(52, 20), (53, 20), (54, 21), (55, 22), (56, 22)]
matches for unk:                             []
proc_batch: batch.src: ['set', 'a', 'reminder', 'that', 'i', 'have', 'a', 'lab', 'appointment', 'with', 'tom', 'at', '4pm', 'on', 'the', '5th', 'of', 'this', 'month']
proc_batch: batch.trg: ['your', 'reminder', 'has', 'been', 'scheduled']
proc_batch: kbkeys: [['lab', 'appointment', '<pad>', 'event', '<pad>'], ['lab', 'appointment', '<pad>', 'party', '<pad>'], ['lab', 'appointment', '<pad>', 'time', '<pad>'], ['lab', 'appointment', '<pad>', 'date', '<pad>']]
proc_batch: kbvalues: [['@event'], ['@party'], ['@time'], ['@date']]
debug: batch.kbtrv:[['lab appointment'], ['tom'], ['4pm'], ['the 5th']]
Time spent on converting arrays to sentences for current batch: 0.004409313201904297
debug: kb_true_vals :torch.Size([1, 4])
debug: kb_true_vals content:tensor([[1696, 1159, 1173, 1741]], device='cuda:0')
Time spent on kb_true_vals checks: 0.0002422332763671875
[1, 1, 4] 4 [torch.Size([1, 1, 200]), torch.Size([1, 4, 200])] [['event'], ['party'], ['time'], ['date']]
Time spent on knowledgebase attention dimensions == 2: 0.26073670387268066
(11,) [ 61   7 105  18 966  21 967  15 955  11 965   4   3]
(tensor(-2.4678, device='cuda:0'), tensor([ 61,   7, 105,  18, 966,  21, 967,  15, 955,   4,   3],
       device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['okay', ',', 'scheduling', 'a', '@event', 'with', '@party', 'for', '@date', 'at', '@time', '.']]
['i', 'have', 'four', ',', 'one', 'with', '@party', 'at', '@time', 'on', '@date', ',', 'one', 'with', 'your', '@party', 'at', '@time', 'on', '@date', ',', 'one', 'with', '@party', 'on', '@date', ',', 'and', 'one', 'with', '@party', 'on', '@date', '.', 'which', 'one', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 22

minibatch.kb length: 48
minibatch.kb:
[(['optometrist', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'time'], ['@time'], ['5pm']),
 (['optometrist', 'appointment', '<pad>', 'date'], ['@date'], ['the 6th']),
 (['optometrist', 'appointment', '<pad>', 'party'], ['@party'], ['Jeff']),
 (['optometrist', 'appointment', '<pad>', 'event'], ['@event'], ['optometrist appointment']),
 (['doctor', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['doctor', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['doctor', 'appointment', '<pad>', 'time'], ['@time'], ['9am']),
 (['doctor', 'appointment', '<pad>', 'date'], ['@date'], ['the 17th']),
 (['doctor', 'appointment', '<pad>', 'party'], ['@party'], ['mother']),
 (['doctor', 'appointment', '<pad>', 'event'], ['@event'], ['doctor appointment']),
 (['optometrist', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'time'], ['@time'], ['1pm']),
 (['optometrist', 'appointment', '<pad>', 'date'], ['@date'], ['thursday']),
 (['optometrist', 'appointment', '<pad>', 'party'], ['@party'], ['Martha']),
 (['optometrist', 'appointment', '<pad>', 'event'], ['@event'], ['optometrist appointment']),
 (['swimming', 'activity', '<pad>', 'room'], ['@room'], ['-']),
 (['swimming', 'activity', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['swimming', 'activity', '<pad>', 'time'], ['@time'], ['5pm']),
 (['swimming', 'activity', '<pad>', 'date'], ['@date'], ['the 7th']),
 (['swimming', 'activity', '<pad>', 'party'], ['@party'], ['brother']),
 (['swimming', 'activity', '<pad>', 'event'], ['@event'], ['swimming activity']),
 (['dinner', '<pad>', 'room'], ['@room'], ['-']),
 (['dinner', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['dinner', '<pad>', 'time'], ['@time'], ['7pm']),
 (['dinner', '<pad>', 'date'], ['@date'], ['the 19th']),
 (['dinner', '<pad>', 'party'], ['@party'], ['Martha']),
 (['dinner', '<pad>', 'event'], ['@event'], ['dinner']),
 (['meeting', '<pad>', 'room'], ['@room'], ['conference room 102']),
 (['meeting', '<pad>', 'agenda'], ['@agenda'], ['go over budget']),
 (['meeting', '<pad>', 'time'], ['@time'], ['9am']),
 (['meeting', '<pad>', 'date'], ['@date'], ['the 11th']),
 (['meeting', '<pad>', 'party'], ['@party'], ['executive team']),
 (['meeting', '<pad>', 'event'], ['@event'], ['meeting']),
 (['optometrist', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'time'], ['@time'], ['5pm']),
 (['optometrist', 'appointment', '<pad>', 'date'], ['@date'], ['saturday']),
 (['optometrist', 'appointment', '<pad>', 'party'], ['@party'], ['Alex']),
 (['optometrist', 'appointment', '<pad>', 'event'], ['@event'], ['optometrist appointment']),
 (['optometrist', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'time'], ['@time'], ['2pm']),
 (['optometrist', 'appointment', '<pad>', 'date'], ['@date'], ['the 5th']),
 (['optometrist', 'appointment', '<pad>', 'party'], ['@party'], ['sister']),
 (['optometrist', 'appointment', '<pad>', 'event'], ['@event'], ['optometrist appointment'])]

minibatch.src/trg: (['can', 'you', 'find', 'out', 'the', 'parties', 'attending', 'and', 'time', 'for', 'my', 'optometrist', 'appointment', '?'], ['i', 'have', 'four', ',', 'one', 'with', '@party', 'at', '@time', 'on', '@date', ',', 'one', 'with', 'your', '@party', 'at', '@time', 'on', '@date', ',', 'one', 'with', '@party', 'on', '@date', ',', 'and', 'one', 'with', '@party', 'on', '@date', '.', 'which', 'one', '?'])

batch_with_kb: current, kb_len, current+kb_len:  2164 48 2212

corresponding_kb: 22

example number: 55

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[55]): [(53, 20), (54, 21), (55, 22), (56, 22), (57, 23)]
['you', 'are', 'welcome', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 22

minibatch.kb length: 48
minibatch.kb:
[(['optometrist', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'time'], ['@time'], ['5pm']),
 (['optometrist', 'appointment', '<pad>', 'date'], ['@date'], ['the 6th']),
 (['optometrist', 'appointment', '<pad>', 'party'], ['@party'], ['Jeff']),
 (['optometrist', 'appointment', '<pad>', 'event'], ['@event'], ['optometrist appointment']),
 (['doctor', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['doctor', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['doctor', 'appointment', '<pad>', 'time'], ['@time'], ['9am']),
 (['doctor', 'appointment', '<pad>', 'date'], ['@date'], ['the 17th']),
 (['doctor', 'appointment', '<pad>', 'party'], ['@party'], ['mother']),
 (['doctor', 'appointment', '<pad>', 'event'], ['@event'], ['doctor appointment']),
 (['optometrist', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'time'], ['@time'], ['1pm']),
 (['optometrist', 'appointment', '<pad>', 'date'], ['@date'], ['thursday']),
 (['optometrist', 'appointment', '<pad>', 'party'], ['@party'], ['Martha']),
 (['optometrist', 'appointment', '<pad>', 'event'], ['@event'], ['optometrist appointment']),
 (['swimming', 'activity', '<pad>', 'room'], ['@room'], ['-']),
 (['swimming', 'activity', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['swimming', 'activity', '<pad>', 'time'], ['@time'], ['5pm']),
 (['swimming', 'activity', '<pad>', 'date'], ['@date'], ['the 7th']),
 (['swimming', 'activity', '<pad>', 'party'], ['@party'], ['brother']),
 (['swimming', 'activity', '<pad>', 'event'], ['@event'], ['swimming activity']),
 (['dinner', '<pad>', 'room'], ['@room'], ['-']),
 (['dinner', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['dinner', '<pad>', 'time'], ['@time'], ['7pm']),
 (['dinner', '<pad>', 'date'], ['@date'], ['the 19th']),
 (['dinner', '<pad>', 'party'], ['@party'], ['Martha']),
 (['dinner', '<pad>', 'event'], ['@event'], ['dinner']),
 (['meeting', '<pad>', 'room'], ['@room'], ['conference room 102']),
 (['meeting', '<pad>', 'agenda'], ['@agenda'], ['go over budget']),
 (['meeting', '<pad>', 'time'], ['@time'], ['9am']),
 (['meeting', '<pad>', 'date'], ['@date'], ['the 11th']),
 (['meeting', '<pad>', 'party'], ['@party'], ['executive team']),
 (['meeting', '<pad>', 'event'], ['@event'], ['meeting']),
 (['optometrist', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'time'], ['@time'], ['5pm']),
 (['optometrist', 'appointment', '<pad>', 'date'], ['@date'], ['saturday']),
 (['optometrist', 'appointment', '<pad>', 'party'], ['@party'], ['Alex']),
 (['optometrist', 'appointment', '<pad>', 'event'], ['@event'], ['optometrist appointment']),
 (['optometrist', 'appointment', '<pad>', 'room'], ['@room'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'agenda'], ['@agenda'], ['-']),
 (['optometrist', 'appointment', '<pad>', 'time'], ['@time'], ['2pm']),
 (['optometrist', 'appointment', '<pad>', 'date'], ['@date'], ['the 5th']),
 (['optometrist', 'appointment', '<pad>', 'party'], ['@party'], ['sister']),
 (['optometrist', 'appointment', '<pad>', 'event'], ['@event'], ['optometrist appointment'])]

minibatch.src/trg: (['can', 'you', 'find', 'out', 'the', 'parties', 'attending', 'and', 'time', 'for', 'my', 'optometrist', 'appointment', '?', '@dot', 'i', 'have', 'four', ',', 'one', 'with', 'alex', 'at', '5pm', 'on', 'saturday', ',', 'one', 'with', 'your', 'sister', 'at', '2pm', 'on', 'the', '5th', ',', 'one', 'with', 'jeff', 'on', 'the', '6th', ',', 'and', 'one', 'with', 'martha', 'on', 'thursday', '.', 'which', 'one', '?', '@dot', 'that', 'will', 'do', ',', 'thank', 'you', 'kindly', '.'], ['you', 'are', 'welcome', '.'])

batch_with_kb: current, kb_len, current+kb_len:  2164 48 2212

corresponding_kb: 22

example number: 56

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[56]): [(54, 21), (55, 22), (56, 22), (57, 23), (58, 23)]
proc_batch: batch.src: ['can', 'you', 'find', 'out', 'the', 'parties', 'attending', 'and', 'time', 'for', 'my', 'optometrist', 'appointment', '?', '@dot', 'i', 'have', 'four', ',', 'one', 'with', 'alex', 'at', '5pm', 'on', 'saturday', ',', 'one', 'with', 'your', 'sister', 'at', '2pm', 'on', 'the', '5th', ',', 'one', 'with', 'jeff', 'on', 'the', '6th', ',', 'and', 'one', 'with', 'martha', 'on', 'thursday', '.', 'which', 'one', '?', '@dot', 'that', 'will', 'do', ',', 'thank', 'you', 'kindly', '.']
proc_batch: batch.trg: ['you', 'are', 'welcome', '.']
proc_batch: kbkeys: [['optometrist', 'appointment', '<pad>', 'room', '<pad>'], ['optometrist', 'appointment', '<pad>', 'agenda', '<pad>'], ['optometrist', 'appointment', '<pad>', 'time', '<pad>'], ['optometrist', 'appointment', '<pad>', 'date', '<pad>'], ['optometrist', 'appointment', '<pad>', 'party', '<pad>'], ['optometrist', 'appointment', '<pad>', 'event', '<pad>'], ['doctor', 'appointment', '<pad>', 'room', '<pad>'], ['doctor', 'appointment', '<pad>', 'agenda', '<pad>'], ['doctor', 'appointment', '<pad>', 'time', '<pad>'], ['doctor', 'appointment', '<pad>', 'date', '<pad>'], ['doctor', 'appointment', '<pad>', 'party', '<pad>'], ['doctor', 'appointment', '<pad>', 'event', '<pad>'], ['optometrist', 'appointment', '<pad>', 'room', '<pad>'], ['optometrist', 'appointment', '<pad>', 'agenda', '<pad>'], ['optometrist', 'appointment', '<pad>', 'time', '<pad>'], ['optometrist', 'appointment', '<pad>', 'date', '<pad>'], ['optometrist', 'appointment', '<pad>', 'party', '<pad>'], ['optometrist', 'appointment', '<pad>', 'event', '<pad>'], ['swimming', 'activity', '<pad>', 'room', '<pad>'], ['swimming', 'activity', '<pad>', 'agenda', '<pad>'], ['swimming', 'activity', '<pad>', 'time', '<pad>'], ['swimming', 'activity', '<pad>', 'date', '<pad>'], ['swimming', 'activity', '<pad>', 'party', '<pad>'], ['swimming', 'activity', '<pad>', 'event', '<pad>'], ['dinner', '<pad>', 'room', '<pad>', '<pad>'], ['dinner', '<pad>', 'agenda', '<pad>', '<pad>'], ['dinner', '<pad>', 'time', '<pad>', '<pad>'], ['dinner', '<pad>', 'date', '<pad>', '<pad>'], ['dinner', '<pad>', 'party', '<pad>', '<pad>'], ['dinner', '<pad>', 'event', '<pad>', '<pad>'], ['meeting', '<pad>', 'room', '<pad>', '<pad>'], ['meeting', '<pad>', 'agenda', '<pad>', '<pad>'], ['meeting', '<pad>', 'time', '<pad>', '<pad>'], ['meeting', '<pad>', 'date', '<pad>', '<pad>'], ['meeting', '<pad>', 'party', '<pad>', '<pad>'], ['meeting', '<pad>', 'event', '<pad>', '<pad>'], ['optometrist', 'appointment', '<pad>', 'room', '<pad>'], ['optometrist', 'appointment', '<pad>', 'agenda', '<pad>'], ['optometrist', 'appointment', '<pad>', 'time', '<pad>'], ['optometrist', 'appointment', '<pad>', 'date', '<pad>'], ['optometrist', 'appointment', '<pad>', 'party', '<pad>'], ['optometrist', 'appointment', '<pad>', 'event', '<pad>'], ['optometrist', 'appointment', '<pad>', 'room', '<pad>'], ['optometrist', 'appointment', '<pad>', 'agenda', '<pad>'], ['optometrist', 'appointment', '<pad>', 'time', '<pad>'], ['optometrist', 'appointment', '<pad>', 'date', '<pad>'], ['optometrist', 'appointment', '<pad>', 'party', '<pad>'], ['optometrist', 'appointment', '<pad>', 'event', '<pad>']]
proc_batch: kbvalues: [['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event'], ['@room'], ['@agenda'], ['@time'], ['@date'], ['@party'], ['@event']]
debug: batch.kbtrv:[['-'], ['-'], ['5pm'], ['the 6th'], ['Jeff'], ['optometrist appointment'], ['-'], ['-'], ['9am'], ['the 17th'], ['mother'], ['doctor appointment'], ['-'], ['-'], ['1pm'], ['thursday'], ['Martha'], ['optometrist appointment'], ['-'], ['-'], ['5pm'], ['the 7th'], ['brother'], ['swimming activity'], ['-'], ['-'], ['7pm'], ['the 19th'], ['Martha'], ['dinner'], ['conference room 102'], ['go over budget'], ['9am'], ['the 11th'], ['executive team'], ['meeting'], ['-'], ['-'], ['5pm'], ['saturday'], ['Alex'], ['optometrist appointment'], ['-'], ['-'], ['2pm'], ['the 5th'], ['sister'], ['optometrist appointment']]
Time spent on converting arrays to sentences for current batch: 0.0044367313385009766
debug: kb_true_vals :torch.Size([2, 48])
debug: kb_true_vals content:tensor([[  63,   63, 1168, 1758, 1738, 1808,   63,   63, 1242, 1825, 1204, 1739,
           63,   63, 1156, 1136, 1740, 1808,   63,   63, 1168, 1733, 1185, 1776,
           63,   63, 1180, 1821, 1740, 1057, 1781, 1828, 1242, 1810, 1783, 1047,
           63,   63, 1168, 1142, 1691, 1808,   63,   63, 1172, 1741, 1183, 1808],
        [  63,   63, 1168, 1758, 1738, 1808,   63,   63, 1242, 1825, 1204, 1739,
           63,   63, 1156, 1136, 1740, 1808,   63,   63, 1168, 1733, 1185, 1776,
           63,   63, 1180, 1821, 1740, 1057, 1781, 1828, 1242, 1810, 1783, 1047,
           63,   63, 1168, 1142, 1691, 1808,   63,   63, 1172, 1741, 1183, 1808]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.0019464492797851562
[1, 1, 6] 48 [torch.Size([2, 8, 200]), torch.Size([2, 6, 200])] [['room'], ['agenda'], ['time'], ['date'], ['party'], ['event']]
Time spent on knowledgebase attention dimensions == 2: 1.830615758895874
(18,) [ 8 22 10  4  3]
(tensor(-1.5132, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
(18,) [ 20  57 966   5   9 955  11 965   4   3]
(tensor(-2.4084, device='cuda:0'), tensor([  8,  31,  79, 966, 165,  64,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['your', 'next', '@event', 'is', 'on', '@date', 'at', '@time', '.'], ['you', 'are', 'welcome', '.']]
['for', 'what', 'city', 'would', 'you', 'like', 'the', 'forecast', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 23

minibatch.kb length: 203
minibatch.kb:
[(['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['warm']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['grand', 'rapids', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['grand', 'rapids', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['grand', 'rapids', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['grand', 'rapids', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['grand', 'rapids', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['grand', 'rapids', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['grand', 'rapids', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['grand', 'rapids', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['grand', 'rapids', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['grand', 'rapids', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['grand', 'rapids', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['grand', 'rapids', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['grand', 'rapids', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['grand', 'rapids', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['grand', 'rapids', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['grand', 'rapids', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['grand', 'rapids', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['grand', 'rapids', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['grand', 'rapids', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['grand', 'rapids', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['grand', 'rapids', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['grand', 'rapids', '<pad>', 'sunday_weather'], ['@weather'], ['hot']),
 (['grand', 'rapids', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['grand', 'rapids', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['grand', 'rapids', '<pad>', 'location'], ['@location'], ['grand rapids']),
 (['grand', 'rapids', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['grand', 'rapids', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['grand', 'rapids', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['grand', 'rapids', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['exeter', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['exeter', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['exeter', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['exeter', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['exeter', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['exeter', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['exeter', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['exeter', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['exeter', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['exeter', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['exeter', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['exeter', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['exeter', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['exeter', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['exeter', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['exeter', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['exeter', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['exeter', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['exeter', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['exeter', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['exeter', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['exeter', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['exeter', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['exeter', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['exeter', '<pad>', 'location'], ['@location'], ['exeter']),
 (['exeter', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['exeter', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['exeter', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['exeter', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['hot']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['hot']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['oakland', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['oakland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['oakland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['oakland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['oakland', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['oakland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['oakland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['oakland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['oakland', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['oakland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['oakland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['oakland', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['oakland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['oakland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['oakland', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['oakland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['oakland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['oakland', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['oakland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['oakland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'location'], ['@location'], ['oakland']),
 (['oakland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['oakland', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['oakland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['oakland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['windy']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F'])]

minibatch.src/trg: (['is', 'it', 'going', 'to', 'be', 'cloudy', 'in', 'the', 'next', '7', 'days'], ['for', 'what', 'city', 'would', 'you', 'like', 'the', 'forecast', '?'])

batch_with_kb: current, kb_len, current+kb_len:  2212 203 2415

corresponding_kb: 23

example number: 57

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[57]): [(55, 22), (56, 22), (57, 23), (58, 23), (59, 24)]
['the', 'weather', 'in', 'chicago', 'will', 'be', 'mainly', 'rainy', 'and', '@weather_attribute', 'over', 'the', 'next', 'few', 'days', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 23

minibatch.kb length: 203
minibatch.kb:
[(['downtown', 'chicago', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['downtown', 'chicago', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['downtown', 'chicago', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['downtown', 'chicago', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['downtown', 'chicago', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['downtown', 'chicago', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['downtown', 'chicago', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['downtown', 'chicago', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['downtown', 'chicago', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['downtown', 'chicago', '<pad>', 'sunday_weather'], ['@weather'], ['clear skies']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['downtown', 'chicago', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['downtown', 'chicago', '<pad>', 'location'], ['@location'], ['downtown chicago']),
 (['downtown', 'chicago', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['downtown', 'chicago', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['downtown', 'chicago', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['warm']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['grand', 'rapids', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['grand', 'rapids', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['grand', 'rapids', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['grand', 'rapids', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['grand', 'rapids', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['grand', 'rapids', '<pad>', 'tuesday_weather'], ['@weather'], ['hot']),
 (['grand', 'rapids', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['grand', 'rapids', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['grand', 'rapids', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['grand', 'rapids', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['grand', 'rapids', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['grand', 'rapids', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['grand', 'rapids', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['grand', 'rapids', '<pad>', 'wednesday_weather'], ['@weather'], ['warm']),
 (['grand', 'rapids', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['grand', 'rapids', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['grand', 'rapids', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['grand', 'rapids', '<pad>', 'thursday_weather'], ['@weather'], ['overcast']),
 (['grand', 'rapids', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['grand', 'rapids', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['grand', 'rapids', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['grand', 'rapids', '<pad>', 'sunday_weather'], ['@weather'], ['hot']),
 (['grand', 'rapids', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['grand', 'rapids', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['grand', 'rapids', '<pad>', 'location'], ['@location'], ['grand rapids']),
 (['grand', 'rapids', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['grand', 'rapids', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['grand', 'rapids', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['grand', 'rapids', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['exeter', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['exeter', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['exeter', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['exeter', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['exeter', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['exeter', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['exeter', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['exeter', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['exeter', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['exeter', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['exeter', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['exeter', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['exeter', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['exeter', '<pad>', 'wednesday_weather'], ['@weather'], ['overcast']),
 (['exeter', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['exeter', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['exeter', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['exeter', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['exeter', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['exeter', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['exeter', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['exeter', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['exeter', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['exeter', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['exeter', '<pad>', 'location'], ['@location'], ['exeter']),
 (['exeter', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['exeter', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['exeter', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['exeter', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['hot']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['hot']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['oakland', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['oakland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['oakland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['oakland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['oakland', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['oakland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['oakland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['oakland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['oakland', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['oakland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['oakland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['oakland', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['oakland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['oakland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['oakland', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['oakland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['oakland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['oakland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['oakland', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['oakland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['oakland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['oakland', '<pad>', 'location'], ['@location'], ['oakland']),
 (['oakland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['oakland', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['oakland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['oakland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['windy']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F'])]

minibatch.src/trg: (['is', 'it', 'going', 'to', 'be', 'cloudy', 'in', 'the', 'next', '7', 'days', '@dot', 'for', 'what', 'city', 'would', 'you', 'like', 'the', 'forecast', '?', '@dot', 'chicago', 'please', '.'], ['the', 'weather', 'in', 'chicago', 'will', 'be', 'mainly', 'rainy', 'and', '@weather_attribute', 'over', 'the', 'next', 'few', 'days', '.'])

batch_with_kb: current, kb_len, current+kb_len:  2212 203 2415

corresponding_kb: 23

example number: 58

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[58]): [(56, 22), (57, 23), (58, 23), (59, 24), (60, 24)]
proc_batch: batch.src: ['is', 'it', 'going', 'to', 'be', 'cloudy', 'in', 'the', 'next', '7', 'days', '@dot', 'for', 'what', 'city', 'would', 'you', 'like', 'the', 'forecast', '?', '@dot', 'chicago', 'please', '.']
proc_batch: batch.trg: ['the', 'weather', 'in', 'chicago', 'will', 'be', '<unk>', 'rainy', 'and', '@weather_attribute', 'over', 'the', 'next', 'few', 'days', '.']
proc_batch: kbkeys: [['downtown', 'chicago', '<pad>', 'monday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'monday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'tuesday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'friday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'wednesday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'thursday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'sunday_temperature_high', '<pad>'], ['downtown', 'chicago', '<pad>', 'location', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_date', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_weather', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_temperature_low', '<pad>'], ['downtown', 'chicago', '<pad>', 'saturday_temperature_high', '<pad>'], ['manhattan', '<pad>', 'monday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'location', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['grand', 'rapids', '<pad>', 'monday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'monday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'monday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'monday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'tuesday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'tuesday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'tuesday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'tuesday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'friday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'friday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'friday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'friday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'wednesday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'wednesday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'wednesday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'wednesday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'thursday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'thursday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'thursday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'thursday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'sunday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'sunday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'sunday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'sunday_temperature_high', '<pad>'], ['grand', 'rapids', '<pad>', 'location', '<pad>'], ['grand', 'rapids', '<pad>', 'saturday_date', '<pad>'], ['grand', 'rapids', '<pad>', 'saturday_weather', '<pad>'], ['grand', 'rapids', '<pad>', 'saturday_temperature_low', '<pad>'], ['grand', 'rapids', '<pad>', 'saturday_temperature_high', '<pad>'], ['exeter', '<pad>', 'monday_date', '<pad>', '<pad>'], ['exeter', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['exeter', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['exeter', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['exeter', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['exeter', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['exeter', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['exeter', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['exeter', '<pad>', 'friday_date', '<pad>', '<pad>'], ['exeter', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['exeter', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['exeter', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['exeter', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['exeter', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['exeter', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['exeter', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['exeter', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['exeter', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['exeter', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['exeter', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['exeter', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['exeter', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['exeter', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['exeter', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['exeter', '<pad>', 'location', '<pad>', '<pad>'], ['exeter', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['exeter', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['exeter', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['exeter', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'location', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['oakland', '<pad>', 'location', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['oakland', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['menlo', 'park', '<pad>', 'monday_date', '<pad>'], ['menlo', 'park', '<pad>', 'monday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'friday_date', '<pad>'], ['menlo', 'park', '<pad>', 'friday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_date', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_date', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'location', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_date', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_high', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['cloudy'], ['40F'], ['60F'], ['tuesday'], ['hot'], ['30F'], ['40F'], ['friday'], ['windy'], ['70F'], ['90F'], ['wednesday'], ['raining'], ['40F'], ['60F'], ['thursday'], ['raining'], ['70F'], ['90F'], ['sunday'], ['clear skies'], ['60F'], ['80F'], ['downtown chicago'], ['saturday'], ['raining'], ['40F'], ['60F'], ['monday'], ['warm'], ['60F'], ['80F'], ['tuesday'], ['rain'], ['90F'], ['100F'], ['friday'], ['rain'], ['90F'], ['100F'], ['wednesday'], ['windy'], ['60F'], ['80F'], ['thursday'], ['warm'], ['30F'], ['40F'], ['sunday'], ['snow'], ['70F'], ['90F'], ['manhattan'], ['saturday'], ['overcast'], ['90F'], ['100F'], ['monday'], ['foggy'], ['80F'], ['100F'], ['tuesday'], ['hot'], ['70F'], ['80F'], ['friday'], ['cloudy'], ['60F'], ['80F'], ['wednesday'], ['warm'], ['70F'], ['90F'], ['thursday'], ['overcast'], ['40F'], ['60F'], ['sunday'], ['hot'], ['60F'], ['70F'], ['grand rapids'], ['saturday'], ['rain'], ['90F'], ['100F'], ['monday'], ['warm'], ['40F'], ['60F'], ['tuesday'], ['cloudy'], ['40F'], ['60F'], ['friday'], ['overcast'], ['40F'], ['60F'], ['wednesday'], ['overcast'], ['60F'], ['80F'], ['thursday'], ['clear skies'], ['30F'], ['40F'], ['sunday'], ['rain'], ['30F'], ['40F'], ['exeter'], ['saturday'], ['clear skies'], ['30F'], ['40F'], ['monday'], ['hot'], ['70F'], ['90F'], ['tuesday'], ['raining'], ['90F'], ['100F'], ['friday'], ['hot'], ['60F'], ['80F'], ['wednesday'], ['clear skies'], ['40F'], ['60F'], ['thursday'], ['clear skies'], ['60F'], ['80F'], ['sunday'], ['warm'], ['70F'], ['80F'], ['fresno'], ['saturday'], ['overcast'], ['60F'], ['80F'], ['monday'], ['warm'], ['40F'], ['60F'], ['tuesday'], ['cloudy'], ['40F'], ['60F'], ['friday'], ['foggy'], ['30F'], ['40F'], ['wednesday'], ['rain'], ['70F'], ['80F'], ['thursday'], ['snow'], ['30F'], ['40F'], ['sunday'], ['foggy'], ['60F'], ['80F'], ['oakland'], ['saturday'], ['foggy'], ['70F'], ['80F'], ['monday'], ['windy'], ['40F'], ['60F'], ['tuesday'], ['windy'], ['30F'], ['40F'], ['friday'], ['raining'], ['30F'], ['40F'], ['wednesday'], ['foggy'], ['80F'], ['100F'], ['thursday'], ['rain'], ['40F'], ['60F'], ['sunday'], ['snow'], ['90F'], ['100F'], ['menlo park'], ['saturday'], ['foggy'], ['40F'], ['60F']]
Time spent on converting arrays to sentences for current batch: 0.004699230194091797
debug: kb_true_vals :torch.Size([2, 203])
debug: kb_true_vals content:tensor([[1134, 1130, 1701, 1703, 1132, 1147, 1704, 1701, 1140, 1163, 1699, 1705,
         1138,  147, 1701, 1703, 1136,  147, 1699, 1705, 1139, 1702, 1703, 1707,
         1746, 1142,  147, 1701, 1703, 1134, 1166, 1703, 1707, 1132, 1119, 1705,
         1706, 1140, 1119, 1705, 1706, 1138, 1163, 1703, 1707, 1136, 1166, 1704,
         1701, 1139, 1128, 1699, 1705,  996, 1142, 1155, 1705, 1706, 1134, 1154,
         1707, 1706, 1132, 1147, 1699, 1707, 1140, 1130, 1703, 1707, 1138, 1166,
         1699, 1705, 1136, 1155, 1701, 1703, 1139, 1147, 1703, 1699, 1710, 1142,
         1119, 1705, 1706, 1134, 1166, 1701, 1703, 1132, 1130, 1701, 1703, 1140,
         1155, 1701, 1703, 1138, 1155, 1703, 1707, 1136, 1702, 1704, 1701, 1139,
         1119, 1704, 1701, 1002, 1142, 1702, 1704, 1701, 1134, 1147, 1699, 1705,
         1132,  147, 1705, 1706, 1140, 1147, 1703, 1707, 1138, 1702, 1701, 1703,
         1136, 1702, 1703, 1707, 1139, 1166, 1699, 1707,  986, 1142, 1155, 1703,
         1707, 1134, 1166, 1701, 1703, 1132, 1130, 1701, 1703, 1140, 1154, 1704,
         1701, 1138, 1119, 1699, 1707, 1136, 1128, 1704, 1701, 1139, 1154, 1703,
         1707,  993, 1142, 1154, 1699, 1707, 1134, 1163, 1701, 1703, 1132, 1163,
         1704, 1701, 1140,  147, 1704, 1701, 1138, 1154, 1707, 1706, 1136, 1119,
         1701, 1703, 1139, 1128, 1705, 1706, 1708, 1142, 1154, 1701, 1703],
        [1134, 1130, 1701, 1703, 1132, 1147, 1704, 1701, 1140, 1163, 1699, 1705,
         1138,  147, 1701, 1703, 1136,  147, 1699, 1705, 1139, 1702, 1703, 1707,
         1746, 1142,  147, 1701, 1703, 1134, 1166, 1703, 1707, 1132, 1119, 1705,
         1706, 1140, 1119, 1705, 1706, 1138, 1163, 1703, 1707, 1136, 1166, 1704,
         1701, 1139, 1128, 1699, 1705,  996, 1142, 1155, 1705, 1706, 1134, 1154,
         1707, 1706, 1132, 1147, 1699, 1707, 1140, 1130, 1703, 1707, 1138, 1166,
         1699, 1705, 1136, 1155, 1701, 1703, 1139, 1147, 1703, 1699, 1710, 1142,
         1119, 1705, 1706, 1134, 1166, 1701, 1703, 1132, 1130, 1701, 1703, 1140,
         1155, 1701, 1703, 1138, 1155, 1703, 1707, 1136, 1702, 1704, 1701, 1139,
         1119, 1704, 1701, 1002, 1142, 1702, 1704, 1701, 1134, 1147, 1699, 1705,
         1132,  147, 1705, 1706, 1140, 1147, 1703, 1707, 1138, 1702, 1701, 1703,
         1136, 1702, 1703, 1707, 1139, 1166, 1699, 1707,  986, 1142, 1155, 1703,
         1707, 1134, 1166, 1701, 1703, 1132, 1130, 1701, 1703, 1140, 1154, 1704,
         1701, 1138, 1119, 1699, 1707, 1136, 1128, 1704, 1701, 1139, 1154, 1703,
         1707,  993, 1142, 1154, 1699, 1707, 1134, 1163, 1701, 1703, 1132, 1163,
         1704, 1701, 1140,  147, 1704, 1701, 1138, 1154, 1707, 1706, 1136, 1119,
         1701, 1703, 1139, 1128, 1705, 1706, 1708, 1142, 1154, 1701, 1703]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.007015705108642578
[1, 1, 29] 203 [torch.Size([2, 7, 200]), torch.Size([2, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.563770532608032
(11,) [ 28  27  26 971  14 961   4   3]
(tensor(-2.1908, device='cuda:0'), tensor([ 28,  27,  26, 971,  14, 961,   4,   3], device='cuda:0')) <class 'tuple'>
(13,) [29 35 39  8 53  6 42 15 13  3]
(tensor(-2.0951, device='cuda:0'), tensor([29, 35, 22,  8, 14, 13,  3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'city', 'do', 'you', 'want', 'the', 'weather', 'for', '?'], ['it', 'will', 'be', '@weather_attribute', 'in', '@location', '.']]
['okay', ',', 'for', 'what', 'time', 'and', 'day', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 24
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming'];
candidates are:
                    [];
partial matches are:
                    [(['swimming', 'activity'], '@event', 1)];
choice is:
                    (['swimming', 'activity'], '@event');
r is:
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event']

========================================
	Finished up Sequence
['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons']
and transformed it to
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event', 'lessons']
========================================


minibatch.kb length: 1
minibatch.kb:
[(['swimming', '<pad>', 'event'], ['@event'], ['swimming'])]

minibatch.src/trg: (['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons'], ['okay', ',', 'for', 'what', 'time', 'and', 'day', '?'])

batch_with_kb: current, kb_len, current+kb_len:  2415 0 2415

corresponding_kb: 24

example number: 59

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[59]): [(57, 23), (58, 23), (59, 24), (60, 24), (61, 24)]
['i', 'am', 'setting', 'a', 'reminder', 'for', '@event', 'lessons', 'at', '@time', 'on', '@date', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 24
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming'];
candidates are:
                    [];
partial matches are:
                    [(['swimming', 'activity'], '@event', 1)];
choice is:
                    (['swimming', 'activity'], '@event');
r is:
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event']
Warning: Omitting possible match ['7', 'miles']; only matched with first token!
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7'];
candidates are:
                    [];
partial matches are:
                    [(['7', 'miles'], '@poi_distance', 1)];
choice is:
                    (['7', 'miles'], '@poi_distance');
r is:
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7']
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', 'the', '1st'];
candidates are:
                    [(['the', '1st'], '@date')];
partial matches are:
                    [(['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '5th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '12th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '1st'], '@date');
r is:
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', '@date']

========================================
	Finished up Sequence
['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', 'the', '1st', '.']
and transformed it to
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', '@date', '.']
========================================


minibatch.kb length: 2
minibatch.kb:
[(['swimming', '<pad>', 'event'], ['@event'], ['swimming']),
 (['swimming', '<pad>', 'date'], ['@date'], ['the 1st'])]

minibatch.src/trg: (['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', 'the', '1st', '.'], ['i', 'am', 'setting', 'a', 'reminder', 'for', '@event', 'lessons', 'at', '@time', 'on', '@date', '.'])

batch_with_kb: current, kb_len, current+kb_len:  2415 0 2415

corresponding_kb: 24

example number: 60

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[60]): [(58, 23), (59, 24), (60, 24), (61, 24), (62, 25)]
['you', 'are', 'welcome', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 24
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming'];
candidates are:
                    [];
partial matches are:
                    [(['swimming', 'activity'], '@event', 1)];
choice is:
                    (['swimming', 'activity'], '@event');
r is:
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event']
Warning: Omitting possible match ['7', 'miles']; only matched with first token!
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7'];
candidates are:
                    [];
partial matches are:
                    [(['7', 'miles'], '@poi_distance', 1)];
choice is:
                    (['7', 'miles'], '@poi_distance');
r is:
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7']
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', 'the', '1st'];
candidates are:
                    [(['the', '1st'], '@date')];
partial matches are:
                    [(['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '5th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '12th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '1st'], '@date');
r is:
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', '@date']
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', 'the', '1st', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', 'swimming'];
candidates are:
                    [];
partial matches are:
                    [(['swimming', 'activity'], '@event', 1)];
choice is:
                    (['swimming', 'activity'], '@event');
r is:
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', '@date', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', '@event']
Warning: Omitting possible match ['7', 'miles']; only matched with first token!
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', 'the', '1st', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', 'swimming', 'lessons', 'at', '7'];
candidates are:
                    [];
partial matches are:
                    [(['7', 'miles'], '@poi_distance', 1)];
choice is:
                    (['7', 'miles'], '@poi_distance');
r is:
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', '@date', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', '@event', 'lessons', 'at', '7']
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', 'the', '1st', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', 'swimming', 'lessons', 'at', '7', 'pm', 'on', 'the', '1st'];
candidates are:
                    [(['the', '1st'], '@date')];
partial matches are:
                    [(['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '5th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '12th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '1st'], '@date');
r is:
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', '@date', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', '@event', 'lessons', 'at', '7', 'pm', 'on', '@date']
Warning: Omitting possible match ['car', 'collision']; only matched with first token!
Made entity classification for seq up to here:
                    ['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', 'the', '1st', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', 'swimming', 'lessons', 'at', '7', 'pm', 'on', 'the', '1st', '.', '@dot', 'thank', 'you', 'car'];
candidates are:
                    [];
partial matches are:
                    [(['car', 'collision'], '@traffic_info', 1)];
choice is:
                    (['car', 'collision'], '@traffic_info');
r is:
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', '@date', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', '@event', 'lessons', 'at', '7', 'pm', 'on', '@date', '.', '@dot', 'thank', 'you', '@traffic_info']

========================================
	Finished up Sequence
['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', 'the', '1st', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', 'swimming', 'lessons', 'at', '7', 'pm', 'on', 'the', '1st', '.', '@dot', 'thank', 'you', 'car', '.']
and transformed it to
['set', 'a', 'reminder', 'for', 'my', "daughter's", '@event', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', '@date', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', '@event', 'lessons', 'at', '7', 'pm', 'on', '@date', '.', '@dot', 'thank', 'you', '@traffic_info', '.']
========================================


minibatch.kb length: 3
minibatch.kb:
[(['swimming', '<pad>', 'event'], ['@event'], ['swimming']),
 (['swimming', '<pad>', 'date'], ['@date'], ['the 1st']),
 (['swimming', '<pad>', 'traffic_info'], ['@traffic_info'], ['car'])]

minibatch.src/trg: (['set', 'a', 'reminder', 'for', 'my', "daughter's", 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', 'the', '1st', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', 'swimming', 'lessons', 'at', '7', 'pm', 'on', 'the', '1st', '.', '@dot', 'thank', 'you', 'car', '.'], ['you', 'are', 'welcome', '.'])

batch_with_kb: current, kb_len, current+kb_len:  2415 0 2415

corresponding_kb: 24

example number: 61

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[61]): [(59, 24), (60, 24), (61, 24), (62, 25), (63, 25)]
matches for unk:                             []
proc_batch: batch.src: ['set', 'a', 'reminder', 'for', 'my', '<unk>', 'swimming', 'lessons', '@dot', 'okay', ',', 'for', 'what', 'time', 'and', 'day', '?', '@dot', 'i', 'need', 'it', 'to', 'be', 'set', 'for', '7', 'pm', 'on', 'the', '1st', '.', '@dot', 'i', 'am', 'setting', 'a', 'reminder', 'for', 'swimming', 'lessons', 'at', '7', 'pm', 'on', 'the', '1st', '.', '@dot', 'thank', 'you', 'car', '.']
proc_batch: batch.trg: ['you', 'are', 'welcome', '.']
proc_batch: kbkeys: [['swimming', '<pad>', 'event', '<pad>'], ['swimming', '<pad>', 'date', '<pad>'], ['swimming', '<pad>', 'traffic_info', '<pad>']]
proc_batch: kbvalues: [['@event'], ['@date'], ['@traffic_info']]
debug: batch.kbtrv:[['swimming'], ['the 1st'], ['car']]
Time spent on converting arrays to sentences for current batch: 0.004384517669677734
debug: kb_true_vals :torch.Size([3, 3])
debug: kb_true_vals content:tensor([[1051, 1811, 1066],
        [1051, 1811, 1066],
        [1051, 1811, 1066]], device='cuda:0')
Time spent on kb_true_vals checks: 0.00037860870361328125
[1, 1, 3] 3 [torch.Size([3, 1, 200]), torch.Size([3, 3, 200])] [['event'], ['date'], ['traffic_info']]
Time spent on knowledgebase attention dimensions == 2: 0.18384099006652832
(19,) [ 8 22 10  4  3]
(tensor(-1.5864, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
(10,) [ 29  77   5  20 966  13   3]
(tensor(-2.2500, device='cuda:0'), tensor([ 29,  77,   5,  20, 966,  13,   3], device='cuda:0')) <class 'tuple'>
(10, 10) [ 47  37  15 966   9 955  11 965   4   3]
(tensor(-2.2668, device='cuda:0'), tensor([ 47,  37,  15, 966,   9, 955,  11, 965,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'time', 'is', 'your', '@event', '?'], ['reminder', 'set', 'for', '@event', 'on', '@date', 'at', '@time', '.'], ['you', 'are', 'welcome', '.']]
['okay', 'great', ',', 'would', 'you', 'like', 'to', 'set', 'a', 'reminder', 'for', 'it', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 25
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment'];
candidates are:
                    [(['lab', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['lab', 'appointment'], '@event');
r is:
['i', 'have', 'a', '@event']
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex'];
candidates are:
                    [(['alex'], '@party')];
partial matches are:
                    [];
choice is:
                    (['alex'], '@party');
r is:
['i', 'have', 'a', '@event', 'with', '@party']
Warning: Omitting possible match ['2', 'miles']; only matched with first token!
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2'];
candidates are:
                    [];
partial matches are:
                    [(['2', 'miles'], '@poi_distance', 1)];
choice is:
                    (['2', 'miles'], '@poi_distance');
r is:
['i', 'have', 'a', '@event', 'with', '@party', 'at', '2']
Warning: Omitting possible match ['the', '1st']; only matched with first token!
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2', 'at', 'the'];
candidates are:
                    [];
partial matches are:
                    [(['the', '1st'], '@date', 1), (['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '5th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '12th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '1st'], '@date');
r is:
['i', 'have', 'a', '@event', 'with', '@party', 'at', '2', 'at', 'the']

========================================
	Finished up Sequence
['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2', 'at', 'the', 'end', 'of', 'march']
and transformed it to
['i', 'have', 'a', '@event', 'with', '@party', 'at', '2', 'at', 'the', 'end', 'of', 'march']
========================================


minibatch.kb length: 2
minibatch.kb:
[(['lab', 'appointment', '<pad>', 'event'], ['@event'], ['lab appointment']),
 (['lab', 'appointment', '<pad>', 'party'], ['@party'], ['alex'])]

minibatch.src/trg: (['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2', 'at', 'the', 'end', 'of', 'march'], ['okay', 'great', ',', 'would', 'you', 'like', 'to', 'set', 'a', 'reminder', 'for', 'it', '?'])

batch_with_kb: current, kb_len, current+kb_len:  2415 0 2415

corresponding_kb: 25

example number: 62

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[62]): [(60, 24), (61, 24), (62, 25), (63, 25), (64, 25)]
['okay', ',', 'i', 'just', 'set', 'that', 'reminder', 'for', 'you', '.', 'can', 'i', 'help', 'with', 'anything', 'else', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 25
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment'];
candidates are:
                    [(['lab', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['lab', 'appointment'], '@event');
r is:
['i', 'have', 'a', '@event']
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex'];
candidates are:
                    [(['alex'], '@party')];
partial matches are:
                    [];
choice is:
                    (['alex'], '@party');
r is:
['i', 'have', 'a', '@event', 'with', '@party']
Warning: Omitting possible match ['2', 'miles']; only matched with first token!
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2'];
candidates are:
                    [];
partial matches are:
                    [(['2', 'miles'], '@poi_distance', 1)];
choice is:
                    (['2', 'miles'], '@poi_distance');
r is:
['i', 'have', 'a', '@event', 'with', '@party', 'at', '2']
Warning: Omitting possible match ['the', '1st']; only matched with first token!
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2', 'at', 'the'];
candidates are:
                    [];
partial matches are:
                    [(['the', '1st'], '@date', 1), (['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '5th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '12th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '1st'], '@date');
r is:
['i', 'have', 'a', '@event', 'with', '@party', 'at', '2', 'at', 'the']

========================================
	Finished up Sequence
['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2', 'at', 'the', 'end', 'of', 'march', '@dot', 'okay', 'great', ',', 'would', 'you', 'like', 'to', 'set', 'a', 'reminder', 'for', 'it', '?', '@dot', 'yes', ',', 'please', '.']
and transformed it to
['i', 'have', 'a', '@event', 'with', '@party', 'at', '2', 'at', 'the', 'end', 'of', 'march', '@dot', 'okay', 'great', ',', 'would', 'you', 'like', 'to', 'set', 'a', 'reminder', 'for', 'it', '?', '@dot', 'yes', ',', 'please', '.']
========================================


minibatch.kb length: 2
minibatch.kb:
[(['lab', 'appointment', '<pad>', 'event'], ['@event'], ['lab appointment']),
 (['lab', 'appointment', '<pad>', 'party'], ['@party'], ['alex'])]

minibatch.src/trg: (['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2', 'at', 'the', 'end', 'of', 'march', '@dot', 'okay', 'great', ',', 'would', 'you', 'like', 'to', 'set', 'a', 'reminder', 'for', 'it', '?', '@dot', 'yes', ',', 'please', '.'], ['okay', ',', 'i', 'just', 'set', 'that', 'reminder', 'for', 'you', '.', 'can', 'i', 'help', 'with', 'anything', 'else', '?'])

batch_with_kb: current, kb_len, current+kb_len:  2415 0 2415

corresponding_kb: 25

example number: 63

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[63]): [(61, 24), (62, 25), (63, 25), (64, 25), (65, 26)]
['no', 'problem'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 25
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment'];
candidates are:
                    [(['lab', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['lab', 'appointment'], '@event');
r is:
['i', 'have', 'a', '@event']
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex'];
candidates are:
                    [(['alex'], '@party')];
partial matches are:
                    [];
choice is:
                    (['alex'], '@party');
r is:
['i', 'have', 'a', '@event', 'with', '@party']
Warning: Omitting possible match ['2', 'miles']; only matched with first token!
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2'];
candidates are:
                    [];
partial matches are:
                    [(['2', 'miles'], '@poi_distance', 1)];
choice is:
                    (['2', 'miles'], '@poi_distance');
r is:
['i', 'have', 'a', '@event', 'with', '@party', 'at', '2']
Warning: Omitting possible match ['the', '1st']; only matched with first token!
Made entity classification for seq up to here:
                    ['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2', 'at', 'the'];
candidates are:
                    [];
partial matches are:
                    [(['the', '1st'], '@date', 1), (['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '5th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '12th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '1st'], '@date');
r is:
['i', 'have', 'a', '@event', 'with', '@party', 'at', '2', 'at', 'the']

========================================
	Finished up Sequence
['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2', 'at', 'the', 'end', 'of', 'march', '@dot', 'okay', 'great', ',', 'would', 'you', 'like', 'to', 'set', 'a', 'reminder', 'for', 'it', '?', '@dot', 'yes', ',', 'please', '.', '@dot', 'okay', ',', 'i', 'just', 'set', 'that', 'reminder', 'for', 'you', '.', 'can', 'i', 'help', 'with', 'anything', 'else', '?', '@dot', 'thank', 'you']
and transformed it to
['i', 'have', 'a', '@event', 'with', '@party', 'at', '2', 'at', 'the', 'end', 'of', 'march', '@dot', 'okay', 'great', ',', 'would', 'you', 'like', 'to', 'set', 'a', 'reminder', 'for', 'it', '?', '@dot', 'yes', ',', 'please', '.', '@dot', 'okay', ',', 'i', 'just', 'set', 'that', 'reminder', 'for', 'you', '.', 'can', 'i', 'help', 'with', 'anything', 'else', '?', '@dot', 'thank', 'you']
========================================


minibatch.kb length: 2
minibatch.kb:
[(['lab', 'appointment', '<pad>', 'event'], ['@event'], ['lab appointment']),
 (['lab', 'appointment', '<pad>', 'party'], ['@party'], ['alex'])]

minibatch.src/trg: (['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2', 'at', 'the', 'end', 'of', 'march', '@dot', 'okay', 'great', ',', 'would', 'you', 'like', 'to', 'set', 'a', 'reminder', 'for', 'it', '?', '@dot', 'yes', ',', 'please', '.', '@dot', 'okay', ',', 'i', 'just', 'set', 'that', 'reminder', 'for', 'you', '.', 'can', 'i', 'help', 'with', 'anything', 'else', '?', '@dot', 'thank', 'you'], ['no', 'problem'])

batch_with_kb: current, kb_len, current+kb_len:  2415 0 2415

corresponding_kb: 25

example number: 64

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[64]): [(62, 25), (63, 25), (64, 25), (65, 26), (66, 26)]
matches for unk:                             []
proc_batch: batch.src: ['i', 'have', 'a', 'lab', 'appointment', 'with', 'alex', 'at', '2', 'at', 'the', 'end', 'of', 'march', '@dot', 'okay', 'great', ',', 'would', 'you', 'like', 'to', 'set', 'a', 'reminder', 'for', 'it', '?', '@dot', 'yes', ',', 'please', '.', '@dot', 'okay', ',', 'i', 'just', 'set', 'that', 'reminder', 'for', 'you', '.', 'can', 'i', 'help', 'with', 'anything', 'else', '?', '@dot', 'thank', 'you']
proc_batch: batch.trg: ['no', 'problem']
proc_batch: kbkeys: [['lab', 'appointment', '<pad>', 'event', '<pad>'], ['lab', 'appointment', '<pad>', 'party', '<pad>']]
proc_batch: kbvalues: [['@event'], ['@party']]
debug: batch.kbtrv:[['lab appointment'], ['alex']]
Time spent on converting arrays to sentences for current batch: 0.004397153854370117
debug: kb_true_vals :torch.Size([3, 2])
debug: kb_true_vals content:tensor([[1696, 1184],
        [1696, 1184],
        [1696, 1184]], device='cuda:0')
Time spent on kb_true_vals checks: 0.00033545494079589844
[1, 2, 2] 2 [torch.Size([3, 2, 200]), torch.Size([3, 1, 200])] [['event']]
Time spent on knowledgebase attention dimensions == 2: 0.08303713798522949
(19,) [ 8 22 10  4  3]
(tensor(-1.6042, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
(11,) [ 61   7  43  18  47  15 966  21 967   4   3]
(tensor(-2.8656, device='cuda:0'), tensor([ 61,   7,  43,  18,  47,  15, 966,  21, 967,   4,   3],
       device='cuda:0')) <class 'tuple'>
(16,) [ 61   7  43  18  47  15  20 966  21 967   9 161 308 143  11 965   4   3]
(tensor(-2.6364, device='cuda:0'), tensor([ 61,   7,  43,  18,  47,  15,  20, 966,  21, 967,  11, 965,   4,   3],
       device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['okay', ',', 'setting', 'a', 'reminder', 'for', '@event', 'with', '@party', '.'], ['okay', ',', 'setting', 'a', 'reminder', 'for', 'your', '@event', 'with', '@party', 'on', 'august', '14', 'th', 'at', '@time', '.'], ['you', 'are', 'welcome', '.']]
['which', 'city', 'would', 'you', 'like', 'to', 'find', 'out', 'if', "it's", 'snowing', 'in', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 26

minibatch.kb length: 203
minibatch.kb:
[(['camarillo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['camarillo', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['camarillo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['camarillo', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['camarillo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['camarillo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['camarillo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['camarillo', '<pad>', 'friday_weather'], ['@weather'], ['blizzard']),
 (['camarillo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['camarillo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['camarillo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['camarillo', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['camarillo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['camarillo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['camarillo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['camarillo', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['camarillo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['camarillo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['camarillo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['camarillo', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['camarillo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['camarillo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['camarillo', '<pad>', 'location'], ['@location'], ['camarillo']),
 (['camarillo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['camarillo', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['camarillo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['camarillo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['dry']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['carson', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['carson', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['carson', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['carson', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['carson', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['carson', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['carson', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['carson', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['carson', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['carson', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['carson', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['carson', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['carson', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['carson', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['carson', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['carson', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['carson', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['carson', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['carson', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['carson', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['carson', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['carson', '<pad>', 'location'], ['@location'], ['carson']),
 (['carson', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['carson', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['carson', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['danville', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['danville', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['danville', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['danville', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['danville', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['danville', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['danville', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['danville', '<pad>', 'friday_weather'], ['@weather'], ['stormy']),
 (['danville', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['danville', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['danville', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['danville', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['danville', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['danville', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['danville', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['danville', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['danville', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['danville', '<pad>', 'location'], ['@location'], ['danville']),
 (['danville', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['danville', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['danville', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['danville', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['cleveland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['cleveland', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['cleveland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['cleveland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['cleveland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['cleveland', '<pad>', 'tuesday_weather'], ['@weather'], ['dry']),
 (['cleveland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['cleveland', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['cleveland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['cleveland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['cleveland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['cleveland', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['cleveland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['cleveland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['cleveland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['cleveland', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['cleveland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['cleveland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['cleveland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['cleveland', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['cleveland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['cleveland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['cleveland', '<pad>', 'location'], ['@location'], ['cleveland']),
 (['cleveland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['cleveland', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['cleveland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['cleveland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['blizzard']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['hail']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['hail']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['hail']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F'])]

minibatch.src/trg: (['will', 'it', 'snow', 'this', 'week'], ['which', 'city', 'would', 'you', 'like', 'to', 'find', 'out', 'if', "it's", 'snowing', 'in', '?'])

batch_with_kb: current, kb_len, current+kb_len:  2415 203 2618

corresponding_kb: 26

example number: 65

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[65]): [(63, 25), (64, 25), (65, 26), (66, 26), (67, 26)]
['@weather_attribute', 'is', 'predicted', 'to', 'fall', 'in', '@location', 'today', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 26

minibatch.kb length: 203
minibatch.kb:
[(['camarillo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['camarillo', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['camarillo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['camarillo', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['camarillo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['camarillo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['camarillo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['camarillo', '<pad>', 'friday_weather'], ['@weather'], ['blizzard']),
 (['camarillo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['camarillo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['camarillo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['camarillo', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['camarillo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['camarillo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['camarillo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['camarillo', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['camarillo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['camarillo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['camarillo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['camarillo', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['camarillo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['camarillo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['camarillo', '<pad>', 'location'], ['@location'], ['camarillo']),
 (['camarillo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['camarillo', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['camarillo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['camarillo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['dry']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['carson', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['carson', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['carson', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['carson', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['carson', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['carson', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['carson', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['carson', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['carson', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['carson', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['carson', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['carson', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['carson', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['carson', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['carson', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['carson', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['carson', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['carson', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['carson', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['carson', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['carson', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['carson', '<pad>', 'location'], ['@location'], ['carson']),
 (['carson', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['carson', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['carson', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['danville', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['danville', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['danville', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['danville', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['danville', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['danville', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['danville', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['danville', '<pad>', 'friday_weather'], ['@weather'], ['stormy']),
 (['danville', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['danville', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['danville', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['danville', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['danville', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['danville', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['danville', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['danville', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['danville', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['danville', '<pad>', 'location'], ['@location'], ['danville']),
 (['danville', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['danville', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['danville', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['danville', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['cleveland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['cleveland', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['cleveland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['cleveland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['cleveland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['cleveland', '<pad>', 'tuesday_weather'], ['@weather'], ['dry']),
 (['cleveland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['cleveland', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['cleveland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['cleveland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['cleveland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['cleveland', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['cleveland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['cleveland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['cleveland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['cleveland', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['cleveland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['cleveland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['cleveland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['cleveland', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['cleveland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['cleveland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['cleveland', '<pad>', 'location'], ['@location'], ['cleveland']),
 (['cleveland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['cleveland', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['cleveland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['cleveland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['blizzard']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['hail']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['hail']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['hail']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F'])]

minibatch.src/trg: (['will', 'it', 'snow', 'this', 'week', '@dot', 'which', 'city', 'would', 'you', 'like', 'to', 'find', 'out', 'if', "it's", 'snowing', 'in', '?', '@dot', 'cleveland'], ['@weather_attribute', 'is', 'predicted', 'to', 'fall', 'in', '@location', 'today', '.'])

batch_with_kb: current, kb_len, current+kb_len:  2415 203 2618

corresponding_kb: 26

example number: 66

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[66]): [(64, 25), (65, 26), (66, 26), (67, 26), (68, 27)]
["you're", 'welcome', '!'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 26

minibatch.kb length: 203
minibatch.kb:
[(['camarillo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['camarillo', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['camarillo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['camarillo', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['camarillo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['camarillo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['camarillo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['camarillo', '<pad>', 'friday_weather'], ['@weather'], ['blizzard']),
 (['camarillo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['camarillo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['camarillo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['camarillo', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['camarillo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['camarillo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['camarillo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['camarillo', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['camarillo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['camarillo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['camarillo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['camarillo', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['camarillo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['camarillo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['camarillo', '<pad>', 'location'], ['@location'], ['camarillo']),
 (['camarillo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['camarillo', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['camarillo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['camarillo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['overcast']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['dry']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['carson', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['carson', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['carson', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['carson', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['carson', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['carson', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['carson', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['carson', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['carson', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['carson', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['carson', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['carson', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['carson', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['carson', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['carson', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['carson', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['carson', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['carson', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['carson', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['carson', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['carson', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['carson', '<pad>', 'location'], ['@location'], ['carson']),
 (['carson', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['carson', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['carson', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['carson', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['danville', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['danville', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['danville', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['danville', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['danville', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['danville', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['danville', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['danville', '<pad>', 'friday_weather'], ['@weather'], ['stormy']),
 (['danville', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['danville', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['danville', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['danville', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['danville', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['danville', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['danville', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['danville', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['danville', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['danville', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['danville', '<pad>', 'location'], ['@location'], ['danville']),
 (['danville', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['danville', '<pad>', 'saturday_weather'], ['@weather'], ['clear skies']),
 (['danville', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['danville', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['cleveland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['cleveland', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['cleveland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['cleveland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['cleveland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['cleveland', '<pad>', 'tuesday_weather'], ['@weather'], ['dry']),
 (['cleveland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['cleveland', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['cleveland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['cleveland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['cleveland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['cleveland', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['cleveland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['cleveland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['cleveland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['cleveland', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['cleveland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['cleveland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['cleveland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['cleveland', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['cleveland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['cleveland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['cleveland', '<pad>', 'location'], ['@location'], ['cleveland']),
 (['cleveland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['cleveland', '<pad>', 'saturday_weather'], ['@weather'], ['foggy']),
 (['cleveland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['cleveland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['blizzard']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['hail']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['hail']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['hail']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['cloudy']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F'])]

minibatch.src/trg: (['will', 'it', 'snow', 'this', 'week', '@dot', 'which', 'city', 'would', 'you', 'like', 'to', 'find', 'out', 'if', "it's", 'snowing', 'in', '?', '@dot', 'cleveland', '@dot', 'snow', 'is', 'predicted', 'to', 'fall', 'in', 'cleveland', 'today', '.', '@dot', 'thank', 'you', 'car', '.'], ["you're", 'welcome', '!'])

batch_with_kb: current, kb_len, current+kb_len:  2415 203 2618

corresponding_kb: 26

example number: 67

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[67]): [(65, 26), (66, 26), (67, 26), (68, 27), (69, 27)]
proc_batch: batch.src: ['will', 'it', 'snow', 'this', 'week', '@dot', 'which', 'city', 'would', 'you', 'like', 'to', 'find', 'out', 'if', "it's", 'snowing', 'in', '?', '@dot', 'cleveland', '@dot', 'snow', 'is', 'predicted', 'to', 'fall', 'in', 'cleveland', 'today', '.', '@dot', 'thank', 'you', 'car', '.']
proc_batch: batch.trg: ["you're", 'welcome', '!']
proc_batch: kbkeys: [['camarillo', '<pad>', 'monday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'location', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'location', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'monday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'friday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['carson', '<pad>', 'location', '<pad>', '<pad>'], ['carson', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['carson', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['carson', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['carson', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'monday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'location', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'monday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'location', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['mountain', 'view', '<pad>', 'monday_date', '<pad>'], ['mountain', 'view', '<pad>', 'monday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'monday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'monday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_date', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'friday_date', '<pad>'], ['mountain', 'view', '<pad>', 'friday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'friday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'friday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_date', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_date', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_date', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'location', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_date', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_temperature_high', '<pad>'], ['manhattan', '<pad>', 'monday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'location', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['stormy'], ['40F'], ['60F'], ['tuesday'], ['snow'], ['70F'], ['90F'], ['friday'], ['blizzard'], ['20F'], ['40F'], ['wednesday'], ['snow'], ['20F'], ['30F'], ['thursday'], ['rain'], ['80F'], ['90F'], ['sunday'], ['rain'], ['80F'], ['90F'], ['camarillo'], ['saturday'], ['foggy'], ['20F'], ['40F'], ['monday'], ['clear skies'], ['60F'], ['70F'], ['tuesday'], ['overcast'], ['40F'], ['60F'], ['friday'], ['overcast'], ['20F'], ['40F'], ['wednesday'], ['dry'], ['40F'], ['60F'], ['thursday'], ['raining'], ['50F'], ['60F'], ['sunday'], ['cloudy'], ['30F'], ['50F'], ['brentwood'], ['saturday'], ['dry'], ['20F'], ['40F'], ['monday'], ['warm'], ['60F'], ['80F'], ['tuesday'], ['overcast'], ['60F'], ['80F'], ['friday'], ['windy'], ['80F'], ['90F'], ['wednesday'], ['rain'], ['80F'], ['90F'], ['thursday'], ['stormy'], ['60F'], ['70F'], ['sunday'], ['rain'], ['90F'], ['100F'], ['carson'], ['saturday'], ['raining'], ['60F'], ['70F'], ['monday'], ['windy'], ['60F'], ['80F'], ['tuesday'], ['raining'], ['90F'], ['100F'], ['friday'], ['stormy'], ['60F'], ['80F'], ['wednesday'], ['drizzle'], ['60F'], ['70F'], ['thursday'], ['windy'], ['60F'], ['70F'], ['sunday'], ['stormy'], ['90F'], ['100F'], ['danville'], ['saturday'], ['clear skies'], ['40F'], ['60F'], ['monday'], ['snow'], ['40F'], ['60F'], ['tuesday'], ['dry'], ['30F'], ['50F'], ['friday'], ['rain'], ['20F'], ['30F'], ['wednesday'], ['cloudy'], ['80F'], ['90F'], ['thursday'], ['raining'], ['50F'], ['70F'], ['sunday'], ['foggy'], ['90F'], ['100F'], ['cleveland'], ['saturday'], ['foggy'], ['20F'], ['40F'], ['monday'], ['foggy'], ['50F'], ['60F'], ['tuesday'], ['hail'], ['80F'], ['100F'], ['friday'], ['cloudy'], ['80F'], ['100F'], ['wednesday'], ['foggy'], ['30F'], ['40F'], ['thursday'], ['rain'], ['60F'], ['70F'], ['sunday'], ['cloudy'], ['20F'], ['30F'], ['mountain view'], ['saturday'], ['blizzard'], ['20F'], ['40F'], ['monday'], ['hail'], ['70F'], ['90F'], ['tuesday'], ['drizzle'], ['50F'], ['70F'], ['friday'], ['hail'], ['80F'], ['90F'], ['wednesday'], ['hail'], ['60F'], ['80F'], ['thursday'], ['cloudy'], ['70F'], ['90F'], ['sunday'], ['foggy'], ['50F'], ['70F'], ['manhattan'], ['saturday'], ['rain'], ['70F'], ['80F']]
Time spent on converting arrays to sentences for current batch: 0.004706144332885742
debug: kb_true_vals :torch.Size([3, 203])
debug: kb_true_vals content:tensor([[1134, 1190, 1701, 1703, 1132, 1128, 1699, 1705, 1140, 1164, 1700, 1701,
         1138, 1128, 1700, 1704, 1136, 1119, 1707, 1705, 1139, 1119, 1707, 1705,
         1038, 1142, 1154, 1700, 1701, 1134, 1702, 1703, 1699, 1132, 1155, 1701,
         1703, 1140, 1155, 1700, 1701, 1138, 1169, 1701, 1703, 1136,  147, 1698,
         1703, 1139, 1130, 1704, 1698, 1032, 1142, 1169, 1700, 1701, 1134, 1166,
         1703, 1707, 1132, 1155, 1703, 1707, 1140, 1163, 1707, 1705, 1138, 1119,
         1707, 1705, 1136, 1190, 1703, 1699, 1139, 1119, 1705, 1706, 1035, 1142,
          147, 1703, 1699, 1134, 1163, 1703, 1707, 1132,  147, 1705, 1706, 1140,
         1190, 1703, 1707, 1138, 1151, 1703, 1699, 1136, 1163, 1703, 1699, 1139,
         1190, 1705, 1706, 1031, 1142, 1702, 1701, 1703, 1134, 1128, 1701, 1703,
         1132, 1169, 1704, 1698, 1140, 1119, 1700, 1704, 1138, 1130, 1707, 1705,
         1136,  147, 1698, 1699, 1139, 1154, 1705, 1706,  995, 1142, 1154, 1700,
         1701, 1134, 1154, 1698, 1703, 1132, 1165, 1707, 1706, 1140, 1130, 1707,
         1706, 1138, 1154, 1704, 1701, 1136, 1119, 1703, 1699, 1139, 1130, 1700,
         1704, 1714, 1142, 1164, 1700, 1701, 1134, 1165, 1699, 1705, 1132, 1151,
         1698, 1699, 1140, 1165, 1707, 1705, 1138, 1165, 1703, 1707, 1136, 1130,
         1699, 1705, 1139, 1154, 1698, 1699,  996, 1142, 1119, 1699, 1707],
        [1134, 1190, 1701, 1703, 1132, 1128, 1699, 1705, 1140, 1164, 1700, 1701,
         1138, 1128, 1700, 1704, 1136, 1119, 1707, 1705, 1139, 1119, 1707, 1705,
         1038, 1142, 1154, 1700, 1701, 1134, 1702, 1703, 1699, 1132, 1155, 1701,
         1703, 1140, 1155, 1700, 1701, 1138, 1169, 1701, 1703, 1136,  147, 1698,
         1703, 1139, 1130, 1704, 1698, 1032, 1142, 1169, 1700, 1701, 1134, 1166,
         1703, 1707, 1132, 1155, 1703, 1707, 1140, 1163, 1707, 1705, 1138, 1119,
         1707, 1705, 1136, 1190, 1703, 1699, 1139, 1119, 1705, 1706, 1035, 1142,
          147, 1703, 1699, 1134, 1163, 1703, 1707, 1132,  147, 1705, 1706, 1140,
         1190, 1703, 1707, 1138, 1151, 1703, 1699, 1136, 1163, 1703, 1699, 1139,
         1190, 1705, 1706, 1031, 1142, 1702, 1701, 1703, 1134, 1128, 1701, 1703,
         1132, 1169, 1704, 1698, 1140, 1119, 1700, 1704, 1138, 1130, 1707, 1705,
         1136,  147, 1698, 1699, 1139, 1154, 1705, 1706,  995, 1142, 1154, 1700,
         1701, 1134, 1154, 1698, 1703, 1132, 1165, 1707, 1706, 1140, 1130, 1707,
         1706, 1138, 1154, 1704, 1701, 1136, 1119, 1703, 1699, 1139, 1130, 1700,
         1704, 1714, 1142, 1164, 1700, 1701, 1134, 1165, 1699, 1705, 1132, 1151,
         1698, 1699, 1140, 1165, 1707, 1705, 1138, 1165, 1703, 1707, 1136, 1130,
         1699, 1705, 1139, 1154, 1698, 1699,  996, 1142, 1119, 1699, 1707],
        [1134, 1190, 1701, 1703, 1132, 1128, 1699, 1705, 1140, 1164, 1700, 1701,
         1138, 1128, 1700, 1704, 1136, 1119, 1707, 1705, 1139, 1119, 1707, 1705,
         1038, 1142, 1154, 1700, 1701, 1134, 1702, 1703, 1699, 1132, 1155, 1701,
         1703, 1140, 1155, 1700, 1701, 1138, 1169, 1701, 1703, 1136,  147, 1698,
         1703, 1139, 1130, 1704, 1698, 1032, 1142, 1169, 1700, 1701, 1134, 1166,
         1703, 1707, 1132, 1155, 1703, 1707, 1140, 1163, 1707, 1705, 1138, 1119,
         1707, 1705, 1136, 1190, 1703, 1699, 1139, 1119, 1705, 1706, 1035, 1142,
          147, 1703, 1699, 1134, 1163, 1703, 1707, 1132,  147, 1705, 1706, 1140,
         1190, 1703, 1707, 1138, 1151, 1703, 1699, 1136, 1163, 1703, 1699, 1139,
         1190, 1705, 1706, 1031, 1142, 1702, 1701, 1703, 1134, 1128, 1701, 1703,
         1132, 1169, 1704, 1698, 1140, 1119, 1700, 1704, 1138, 1130, 1707, 1705,
         1136,  147, 1698, 1699, 1139, 1154, 1705, 1706,  995, 1142, 1154, 1700,
         1701, 1134, 1154, 1698, 1703, 1132, 1165, 1707, 1706, 1140, 1130, 1707,
         1706, 1138, 1154, 1704, 1701, 1136, 1119, 1703, 1699, 1139, 1130, 1700,
         1704, 1714, 1142, 1164, 1700, 1701, 1134, 1165, 1699, 1705, 1132, 1151,
         1698, 1699, 1140, 1165, 1707, 1705, 1138, 1165, 1703, 1707, 1136, 1130,
         1699, 1705, 1139, 1154, 1698, 1699,  996, 1142, 1119, 1699, 1707]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.011038780212402344
[1, 1, 29] 203 [torch.Size([3, 7, 200]), torch.Size([3, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.435805082321167
(20,) [ 8 22 10  4  3]
(tensor(-3.4937, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(14,) [ 29  35  22   8 217  73  13   3]
(tensor(-2.3036, device='cuda:0'), tensor([29, 35, 22,  8, 14, 13,  3], device='cuda:0')) <class 'tuple'>
(18,) [ 28  27  41  26 971  14 961   9 955   4   3]
(tensor(-1.9844, device='cuda:0'), tensor([ 28,  27,  41,  26, 971,  14, 961,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'city', 'are', 'you', 'inquiring', 'about', '?'], ['it', 'will', 'not', 'be', '@weather_attribute', 'in', '@location', 'on', '@date', '.'], ['you', 'are', 'welcome', '.']]
['@poi_name', 'and', '@poi_name', 'are', 'close', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 27

minibatch.kb length: 35
minibatch.kb:
[(['civic', 'center', 'garage', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['civic', 'center', 'garage', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['civic', 'center', 'garage', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['civic', 'center', 'garage', '<pad>', 'address'], ['@address'], ['270 Altaire Walk']),
 (['civic', 'center', 'garage', '<pad>', 'poi'], ['@poi'], ['Civic Center Garage']),
 (['stanford', 'express', 'care', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['stanford', 'express', 'care', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['stanford', 'express', 'care', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'express', 'care', '<pad>', 'address'], ['@address'], ['214 El Camino Real']),
 (['stanford', 'express', 'care', '<pad>', 'poi'], ['@poi'], ['Stanford Express Care']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'address'], ['@address'], ['611 Ames Ave']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi'], ['@poi'], ['Palo Alto Medical Foundation']),
 (['5672', 'barringer', 'street', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['5672', 'barringer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['5672', 'barringer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5672', 'barringer', 'street', '<pad>', 'address'], ['@address'], ['5672 barringer street']),
 (['5672', 'barringer', 'street', '<pad>', 'poi'], ['@poi'], ['5672 barringer street']),
 (['webster', 'garage', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['webster', 'garage', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['webster', 'garage', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['webster', 'garage', '<pad>', 'address'], ['@address'], ['880 Ames Ct']),
 (['webster', 'garage', '<pad>', 'poi'], ['@poi'], ['Webster Garage']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market'])]

minibatch.src/trg: (['what', 'hospital', 'is', 'nearby', '?'], ['@poi_name', 'and', '@poi_name', 'are', 'close', '.'])

batch_with_kb: current, kb_len, current+kb_len:  2618 35 2653

corresponding_kb: 27

example number: 68

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[68]): [(66, 26), (67, 26), (68, 27), (69, 27), (70, 27)]
['@poi_name', 'is', 'just', '@poi_distance', 'away', 'and', 'there', 'is', 'less', 'traffic', 'on', 'its', 'way', 'than', 'on', 'the', 'other', '@poi_type', '.', 'do', 'you', 'want', 'me', 'to', 'set', 'the', 'navigation', 'to', 'go', 'there', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 27

minibatch.kb length: 35
minibatch.kb:
[(['civic', 'center', 'garage', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['civic', 'center', 'garage', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['civic', 'center', 'garage', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['civic', 'center', 'garage', '<pad>', 'address'], ['@address'], ['270 Altaire Walk']),
 (['civic', 'center', 'garage', '<pad>', 'poi'], ['@poi'], ['Civic Center Garage']),
 (['stanford', 'express', 'care', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['stanford', 'express', 'care', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['stanford', 'express', 'care', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'express', 'care', '<pad>', 'address'], ['@address'], ['214 El Camino Real']),
 (['stanford', 'express', 'care', '<pad>', 'poi'], ['@poi'], ['Stanford Express Care']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'address'], ['@address'], ['611 Ames Ave']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi'], ['@poi'], ['Palo Alto Medical Foundation']),
 (['5672', 'barringer', 'street', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['5672', 'barringer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['5672', 'barringer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5672', 'barringer', 'street', '<pad>', 'address'], ['@address'], ['5672 barringer street']),
 (['5672', 'barringer', 'street', '<pad>', 'poi'], ['@poi'], ['5672 barringer street']),
 (['webster', 'garage', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['webster', 'garage', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['webster', 'garage', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['webster', 'garage', '<pad>', 'address'], ['@address'], ['880 Ames Ct']),
 (['webster', 'garage', '<pad>', 'poi'], ['@poi'], ['Webster Garage']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market'])]

minibatch.src/trg: (['what', 'hospital', 'is', 'nearby', '?', '@dot', 'palo', 'alto', 'medical', 'foundation', 'and', 'stanford', 'express', 'care', 'are', 'close', '.', '@dot', 'which', 'one', 'is', 'quickest', 'to', 'reach', '?'], ['@poi_name', 'is', 'just', '@poi_distance', 'away', 'and', 'there', 'is', 'less', 'traffic', 'on', 'its', 'way', 'than', 'on', 'the', 'other', '@poi_type', '.', 'do', 'you', 'want', 'me', 'to', 'set', 'the', 'navigation', 'to', 'go', 'there', '?'])

batch_with_kb: current, kb_len, current+kb_len:  2618 35 2653

corresponding_kb: 27

example number: 69

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[69]): [(67, 26), (68, 27), (69, 27), (70, 27), (71, 28)]
["you're", 'welcome', ',', 'glad', 'to', 'help', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 27

minibatch.kb length: 35
minibatch.kb:
[(['civic', 'center', 'garage', '<pad>', 'distance'], ['@distance'], ['6 miles']),
 (['civic', 'center', 'garage', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['civic', 'center', 'garage', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['civic', 'center', 'garage', '<pad>', 'address'], ['@address'], ['270 Altaire Walk']),
 (['civic', 'center', 'garage', '<pad>', 'poi'], ['@poi'], ['Civic Center Garage']),
 (['stanford', 'express', 'care', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['stanford', 'express', 'care', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['stanford', 'express', 'care', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'express', 'care', '<pad>', 'address'], ['@address'], ['214 El Camino Real']),
 (['stanford', 'express', 'care', '<pad>', 'poi'], ['@poi'], ['Stanford Express Care']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'address'], ['@address'], ['611 Ames Ave']),
 (['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi'], ['@poi'], ['Palo Alto Medical Foundation']),
 (['5672', 'barringer', 'street', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['5672', 'barringer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['5672', 'barringer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5672', 'barringer', 'street', '<pad>', 'address'], ['@address'], ['5672 barringer street']),
 (['5672', 'barringer', 'street', '<pad>', 'poi'], ['@poi'], ['5672 barringer street']),
 (['webster', 'garage', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['webster', 'garage', '<pad>', 'traffic_info'], ['@traffic_info'], ['heavy traffic']),
 (['webster', 'garage', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['webster', 'garage', '<pad>', 'address'], ['@address'], ['880 Ames Ct']),
 (['webster', 'garage', '<pad>', 'poi'], ['@poi'], ['Webster Garage']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market'])]

minibatch.src/trg: (['what', 'hospital', 'is', 'nearby', '?', '@dot', 'palo', 'alto', 'medical', 'foundation', 'and', 'stanford', 'express', 'care', 'are', 'close', '.', '@dot', 'which', 'one', 'is', 'quickest', 'to', 'reach', '?', '@dot', 'stanford', 'express', 'care', 'is', 'just', '3', 'miles', 'away', 'and', 'there', 'is', 'less', 'traffic', 'on', 'its', 'way', 'than', 'on', 'the', 'other', 'hospital', '.', 'do', 'you', 'want', 'me', 'to', 'set', 'the', 'navigation', 'to', 'go', 'there', '?', '@dot', 'sure', ',', 'thank', 'you', '!'], ["you're", 'welcome', ',', 'glad', 'to', 'help', '.'])

batch_with_kb: current, kb_len, current+kb_len:  2618 35 2653

corresponding_kb: 27

example number: 70

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[70]): [(68, 27), (69, 27), (70, 27), (71, 28), (72, 28)]
proc_batch: batch.src: ['what', 'hospital', 'is', 'nearby', '?', '@dot', 'palo', 'alto', 'medical', 'foundation', 'and', 'stanford', 'express', 'care', 'are', 'close', '.', '@dot', 'which', 'one', 'is', 'quickest', 'to', 'reach', '?', '@dot', 'stanford', 'express', 'care', 'is', 'just', '3', 'miles', 'away', 'and', 'there', 'is', 'less', 'traffic', 'on', 'its', 'way', 'than', 'on', 'the', 'other', 'hospital', '.', 'do', 'you', 'want', 'me', 'to', 'set', 'the', 'navigation', 'to', 'go', 'there', '?', '@dot', 'sure', ',', 'thank', 'you', '!']
proc_batch: batch.trg: ["you're", 'welcome', ',', 'glad', 'to', 'help', '.']
proc_batch: kbkeys: [['civic', 'center', 'garage', '<pad>', 'distance', '<pad>', '<pad>'], ['civic', 'center', 'garage', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['civic', 'center', 'garage', '<pad>', 'poi_type', '<pad>', '<pad>'], ['civic', 'center', 'garage', '<pad>', 'address', '<pad>', '<pad>'], ['civic', 'center', 'garage', '<pad>', 'poi', '<pad>', '<pad>'], ['stanford', 'express', 'care', '<pad>', 'distance', '<pad>', '<pad>'], ['stanford', 'express', 'care', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['stanford', 'express', 'care', '<pad>', 'poi_type', '<pad>', '<pad>'], ['stanford', 'express', 'care', '<pad>', 'address', '<pad>', '<pad>'], ['stanford', 'express', 'care', '<pad>', 'poi', '<pad>', '<pad>'], ['palo', 'alto', 'medical', 'foundation', '<pad>', 'distance', '<pad>'], ['palo', 'alto', 'medical', 'foundation', '<pad>', 'traffic_info', '<pad>'], ['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi_type', '<pad>'], ['palo', 'alto', 'medical', 'foundation', '<pad>', 'address', '<pad>'], ['palo', 'alto', 'medical', 'foundation', '<pad>', 'poi', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'distance', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'poi_type', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'address', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'poi', '<pad>', '<pad>'], ['webster', 'garage', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['webster', 'garage', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['webster', 'garage', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['webster', 'garage', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['webster', 'garage', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'distance', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'address', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'poi', '<pad>', '<pad>', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'distance', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'poi_type', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'address', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'poi', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi']]
debug: batch.kbtrv:[['6 miles'], ['heavy traffic'], ['parking garage'], ['270 Altaire Walk'], ['Civic Center Garage'], ['3 miles'], ['moderate traffic'], ['hospital'], ['214 El Camino Real'], ['Stanford Express Care'], ['5 miles'], ['heavy traffic'], ['hospital'], ['611 Ames Ave'], ['Palo Alto Medical Foundation'], ['1 miles'], ['moderate traffic'], ['certain address'], ['5672 barringer street'], ['5672 barringer street'], ['5 miles'], ['heavy traffic'], ['parking garage'], ['880 Ames Ct'], ['Webster Garage'], ['1 miles'], ['no traffic'], ['gas station'], ['200 Alester Ave'], ['Valero'], ['1 miles'], ['no traffic'], ['grocery store'], ['638 Amherst St'], ['Sigona Farmers Market']]
Time spent on converting arrays to sentences for current batch: 0.004430294036865234
debug: kb_true_vals :torch.Size([3, 35])
debug: kb_true_vals content:tensor([[1631, 1645, 1628, 1805, 1804, 1664, 1640, 1143, 1673, 1674, 1672, 1645,
         1143, 1675, 1676, 1644, 1640, 1719, 1784, 1784, 1672, 1645, 1628, 1796,
         1797, 1644, 1632, 1652, 1653, 1654, 1644, 1632, 1637, 1756, 1755],
        [1631, 1645, 1628, 1805, 1804, 1664, 1640, 1143, 1673, 1674, 1672, 1645,
         1143, 1675, 1676, 1644, 1640, 1719, 1784, 1784, 1672, 1645, 1628, 1796,
         1797, 1644, 1632, 1652, 1653, 1654, 1644, 1632, 1637, 1756, 1755],
        [1631, 1645, 1628, 1805, 1804, 1664, 1640, 1143, 1673, 1674, 1672, 1645,
         1143, 1675, 1676, 1644, 1640, 1719, 1784, 1784, 1672, 1645, 1628, 1796,
         1797, 1644, 1632, 1652, 1653, 1654, 1644, 1632, 1637, 1756, 1755]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.0020732879638671875
[1, 1, 5] 35 [torch.Size([3, 7, 200]), torch.Size([3, 5, 200])] [['distance'], ['traffic_info'], ['poi_type'], ['address'], ['poi']]
Time spent on knowledgebase attention dimensions == 2: 1.4516232013702393
(12,) [17 10 23  3]
(tensor(-2.6391, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
(10, 6) [970   5 973  24   4   3]
(tensor(-2.0665, device='cuda:0'), tensor([970,   5, 973,  24,   4,   3], device='cuda:0')) <class 'tuple'>
(14,) [970   5  49  11 974   4   3]
(tensor(-1.4906, device='cuda:0'), tensor([970,   5,  11, 974,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['@poi_name', 'is', '@poi_distance', 'away', '.'], ['@poi_name', 'is', 'located', 'at', '@poi_address', '.'], ["you're", 'welcome', '!']]
['the', 'forecast', 'does', 'not', 'predict', '@weather_attribute', 'in', '@location', 'today', 'or', 'tomorrow'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 28

minibatch.kb length: 203
minibatch.kb:
[(['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['hail']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['30F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['humid']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['dew']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['humid']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['atherton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['atherton', '<pad>', 'monday_weather'], ['@weather'], ['drizzle']),
 (['atherton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['atherton', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['atherton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['atherton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['atherton', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['atherton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['atherton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['atherton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['atherton', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['atherton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['atherton', '<pad>', 'thursday_weather'], ['@weather'], ['blizzard']),
 (['atherton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['atherton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['atherton', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['atherton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['atherton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['atherton', '<pad>', 'location'], ['@location'], ['atherton']),
 (['atherton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['atherton', '<pad>', 'saturday_weather'], ['@weather'], ['warm']),
 (['atherton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['stormy']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['hail']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['dry']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['dew']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['dry']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['camarillo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['camarillo', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['camarillo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['camarillo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['camarillo', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['camarillo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['camarillo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['camarillo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['camarillo', '<pad>', 'friday_weather'], ['@weather'], ['misty']),
 (['camarillo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['camarillo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['camarillo', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['camarillo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['camarillo', '<pad>', 'thursday_weather'], ['@weather'], ['blizzard']),
 (['camarillo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['camarillo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['camarillo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['camarillo', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['camarillo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['camarillo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'location'], ['@location'], ['camarillo']),
 (['camarillo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['camarillo', '<pad>', 'saturday_weather'], ['@weather'], ['stormy']),
 (['camarillo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['camarillo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['dew']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['30F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['windy']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['frost']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F'])]

minibatch.src/trg: (['is', 'it', 'gonna', 'rain', 'in', 'camarillo', 'today', 'and', 'tomorrow', '?'], ['the', 'forecast', 'does', 'not', 'predict', '@weather_attribute', 'in', '@location', 'today', 'or', 'tomorrow'])

batch_with_kb: current, kb_len, current+kb_len:  2653 203 2856

corresponding_kb: 28

example number: 71

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[71]): [(69, 27), (70, 27), (71, 28), (72, 28), (73, 29)]
["you're", 'welcome', ',', 'have', 'a', 'great', 'day', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 28

minibatch.kb length: 203
minibatch.kb:
[(['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['hail']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['30F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'mateo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'mateo', '<pad>', 'monday_weather'], ['@weather'], ['humid']),
 (['san', 'mateo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'mateo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['san', 'mateo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'mateo', '<pad>', 'tuesday_weather'], ['@weather'], ['dew']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'mateo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'mateo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'mateo', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['san', 'mateo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['san', 'mateo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'mateo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'mateo', '<pad>', 'wednesday_weather'], ['@weather'], ['foggy']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'mateo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'mateo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'mateo', '<pad>', 'thursday_weather'], ['@weather'], ['humid']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'mateo', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['san', 'mateo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['san', 'mateo', '<pad>', 'location'], ['@location'], ['san mateo']),
 (['san', 'mateo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'mateo', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'mateo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['atherton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['atherton', '<pad>', 'monday_weather'], ['@weather'], ['drizzle']),
 (['atherton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['atherton', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['atherton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['atherton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['atherton', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['atherton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['atherton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['atherton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['atherton', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['atherton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['atherton', '<pad>', 'thursday_weather'], ['@weather'], ['blizzard']),
 (['atherton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['atherton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['atherton', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['atherton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['atherton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['atherton', '<pad>', 'location'], ['@location'], ['atherton']),
 (['atherton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['atherton', '<pad>', 'saturday_weather'], ['@weather'], ['warm']),
 (['atherton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['stormy']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['clear skies']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['hail']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['snow']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['dry']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['seattle', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['seattle', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['seattle', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['seattle', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['seattle', '<pad>', 'tuesday_weather'], ['@weather'], ['dew']),
 (['seattle', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['seattle', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['seattle', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['seattle', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['seattle', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['seattle', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['seattle', '<pad>', 'wednesday_weather'], ['@weather'], ['snow']),
 (['seattle', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['seattle', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['seattle', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['seattle', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['seattle', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['seattle', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['seattle', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['seattle', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['seattle', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['seattle', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['seattle', '<pad>', 'location'], ['@location'], ['seattle']),
 (['seattle', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['seattle', '<pad>', 'saturday_weather'], ['@weather'], ['dry']),
 (['seattle', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['seattle', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['camarillo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['camarillo', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['camarillo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['50F']),
 (['camarillo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['camarillo', '<pad>', 'tuesday_weather'], ['@weather'], ['snow']),
 (['camarillo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['camarillo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['camarillo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['camarillo', '<pad>', 'friday_weather'], ['@weather'], ['misty']),
 (['camarillo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['camarillo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['camarillo', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['camarillo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['camarillo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['camarillo', '<pad>', 'thursday_weather'], ['@weather'], ['blizzard']),
 (['camarillo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['camarillo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['camarillo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['camarillo', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['camarillo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['camarillo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'location'], ['@location'], ['camarillo']),
 (['camarillo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['camarillo', '<pad>', 'saturday_weather'], ['@weather'], ['stormy']),
 (['camarillo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['camarillo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['dew']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['30F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['windy']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['frost']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F'])]

minibatch.src/trg: (['is', 'it', 'gonna', 'rain', 'in', 'camarillo', 'today', 'and', 'tomorrow', '?', '@dot', 'the', 'forecast', 'does', 'not', 'predict', 'rain', 'in', 'camarillo', 'today', 'or', 'tomorrow', '@dot', 'thanks', '.'], ["you're", 'welcome', ',', 'have', 'a', 'great', 'day', '.'])

batch_with_kb: current, kb_len, current+kb_len:  2653 203 2856

corresponding_kb: 28

example number: 72

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[72]): [(70, 27), (71, 28), (72, 28), (73, 29), (74, 29)]
proc_batch: batch.src: ['is', 'it', 'gonna', 'rain', 'in', 'camarillo', 'today', 'and', 'tomorrow', '?', '@dot', 'the', 'forecast', 'does', 'not', 'predict', 'rain', 'in', 'camarillo', 'today', 'or', 'tomorrow', '@dot', 'thanks', '.']
proc_batch: batch.trg: ["you're", 'welcome', ',', 'have', 'a', 'great', 'day', '.']
proc_batch: kbkeys: [['compton', '<pad>', 'monday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'location', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['san', 'mateo', '<pad>', 'monday_date', '<pad>'], ['san', 'mateo', '<pad>', 'monday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_date', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'friday_date', '<pad>'], ['san', 'mateo', '<pad>', 'friday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_date', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_date', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_date', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'mateo', '<pad>', 'location', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_date', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_weather', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'mateo', '<pad>', 'saturday_temperature_high', '<pad>'], ['atherton', '<pad>', 'monday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'location', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'location', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['seattle', '<pad>', 'location', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['seattle', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'location', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'location', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['hail'], ['50F'], ['70F'], ['tuesday'], ['hail'], ['70F'], ['90F'], ['friday'], ['dry'], ['50F'], ['60F'], ['wednesday'], ['cloudy'], ['60F'], ['70F'], ['thursday'], ['drizzle'], ['20F'], ['30F'], ['sunday'], ['warm'], ['60F'], ['70F'], ['compton'], ['saturday'], ['windy'], ['90F'], ['100F'], ['monday'], ['humid'], ['60F'], ['70F'], ['tuesday'], ['dew'], ['50F'], ['60F'], ['friday'], ['cloudy'], ['40F'], ['50F'], ['wednesday'], ['foggy'], ['30F'], ['40F'], ['thursday'], ['humid'], ['70F'], ['90F'], ['sunday'], ['cloudy'], ['70F'], ['90F'], ['san mateo'], ['saturday'], ['overcast'], ['20F'], ['40F'], ['monday'], ['drizzle'], ['80F'], ['100F'], ['tuesday'], ['snow'], ['30F'], ['50F'], ['friday'], ['dry'], ['20F'], ['30F'], ['wednesday'], ['dry'], ['80F'], ['100F'], ['thursday'], ['blizzard'], ['30F'], ['40F'], ['sunday'], ['cloudy'], ['70F'], ['90F'], ['atherton'], ['saturday'], ['warm'], ['80F'], ['90F'], ['monday'], ['foggy'], ['90F'], ['100F'], ['tuesday'], ['stormy'], ['50F'], ['70F'], ['friday'], ['clear skies'], ['70F'], ['80F'], ['wednesday'], ['hail'], ['80F'], ['90F'], ['thursday'], ['stormy'], ['50F'], ['70F'], ['sunday'], ['snow'], ['30F'], ['50F'], ['fresno'], ['saturday'], ['dry'], ['70F'], ['90F'], ['monday'], ['dry'], ['80F'], ['100F'], ['tuesday'], ['dew'], ['70F'], ['80F'], ['friday'], ['raining'], ['30F'], ['40F'], ['wednesday'], ['snow'], ['30F'], ['40F'], ['thursday'], ['drizzle'], ['90F'], ['100F'], ['sunday'], ['overcast'], ['20F'], ['40F'], ['seattle'], ['saturday'], ['dry'], ['20F'], ['40F'], ['monday'], ['dry'], ['40F'], ['50F'], ['tuesday'], ['snow'], ['90F'], ['100F'], ['friday'], ['misty'], ['40F'], ['50F'], ['wednesday'], ['clear skies'], ['40F'], ['60F'], ['thursday'], ['blizzard'], ['30F'], ['50F'], ['sunday'], ['foggy'], ['50F'], ['60F'], ['camarillo'], ['saturday'], ['stormy'], ['60F'], ['70F'], ['monday'], ['dew'], ['20F'], ['30F'], ['tuesday'], ['windy'], ['40F'], ['50F'], ['friday'], ['foggy'], ['80F'], ['100F'], ['wednesday'], ['dry'], ['90F'], ['100F'], ['thursday'], ['clear skies'], ['80F'], ['100F'], ['sunday'], ['frost'], ['30F'], ['50F'], ['brentwood'], ['saturday'], ['rain'], ['60F'], ['70F']]
Time spent on converting arrays to sentences for current batch: 0.004709720611572266
debug: kb_true_vals :torch.Size([2, 203])
debug: kb_true_vals content:tensor([[1134, 1165, 1698, 1699, 1132, 1165, 1699, 1705, 1140, 1169, 1698, 1703,
         1138, 1130, 1703, 1699, 1136, 1151, 1700, 1704, 1139, 1166, 1703, 1699,
          988, 1142, 1163, 1705, 1706, 1134, 1160, 1703, 1699, 1132, 1215, 1698,
         1703, 1140, 1130, 1701, 1698, 1138, 1154, 1704, 1701, 1136, 1160, 1699,
         1705, 1139, 1130, 1699, 1705, 1715, 1142, 1155, 1700, 1701, 1134, 1151,
         1707, 1706, 1132, 1128, 1704, 1698, 1140, 1169, 1700, 1704, 1138, 1169,
         1707, 1706, 1136, 1164, 1704, 1701, 1139, 1130, 1699, 1705, 1036, 1142,
         1166, 1707, 1705, 1134, 1154, 1705, 1706, 1132, 1190, 1698, 1699, 1140,
         1702, 1699, 1707, 1138, 1165, 1707, 1705, 1136, 1190, 1698, 1699, 1139,
         1128, 1704, 1698,  986, 1142, 1169, 1699, 1705, 1134, 1169, 1707, 1706,
         1132, 1215, 1699, 1707, 1140,  147, 1704, 1701, 1138, 1128, 1704, 1701,
         1136, 1151, 1705, 1706, 1139, 1155, 1700, 1701,  992, 1142, 1169, 1700,
         1701, 1134, 1169, 1701, 1698, 1132, 1128, 1705, 1706, 1140, 1200, 1701,
         1698, 1138, 1702, 1701, 1703, 1136, 1164, 1704, 1698, 1139, 1154, 1698,
         1703, 1038, 1142, 1190, 1703, 1699, 1134, 1215, 1700, 1704, 1132, 1163,
         1701, 1698, 1140, 1154, 1707, 1706, 1138, 1169, 1705, 1706, 1136, 1702,
         1707, 1706, 1139, 1158, 1704, 1698, 1032, 1142, 1119, 1703, 1699],
        [1134, 1165, 1698, 1699, 1132, 1165, 1699, 1705, 1140, 1169, 1698, 1703,
         1138, 1130, 1703, 1699, 1136, 1151, 1700, 1704, 1139, 1166, 1703, 1699,
          988, 1142, 1163, 1705, 1706, 1134, 1160, 1703, 1699, 1132, 1215, 1698,
         1703, 1140, 1130, 1701, 1698, 1138, 1154, 1704, 1701, 1136, 1160, 1699,
         1705, 1139, 1130, 1699, 1705, 1715, 1142, 1155, 1700, 1701, 1134, 1151,
         1707, 1706, 1132, 1128, 1704, 1698, 1140, 1169, 1700, 1704, 1138, 1169,
         1707, 1706, 1136, 1164, 1704, 1701, 1139, 1130, 1699, 1705, 1036, 1142,
         1166, 1707, 1705, 1134, 1154, 1705, 1706, 1132, 1190, 1698, 1699, 1140,
         1702, 1699, 1707, 1138, 1165, 1707, 1705, 1136, 1190, 1698, 1699, 1139,
         1128, 1704, 1698,  986, 1142, 1169, 1699, 1705, 1134, 1169, 1707, 1706,
         1132, 1215, 1699, 1707, 1140,  147, 1704, 1701, 1138, 1128, 1704, 1701,
         1136, 1151, 1705, 1706, 1139, 1155, 1700, 1701,  992, 1142, 1169, 1700,
         1701, 1134, 1169, 1701, 1698, 1132, 1128, 1705, 1706, 1140, 1200, 1701,
         1698, 1138, 1702, 1701, 1703, 1136, 1164, 1704, 1698, 1139, 1154, 1698,
         1703, 1038, 1142, 1190, 1703, 1699, 1134, 1215, 1700, 1704, 1132, 1163,
         1701, 1698, 1140, 1154, 1707, 1706, 1138, 1169, 1705, 1706, 1136, 1702,
         1707, 1706, 1139, 1158, 1704, 1698, 1032, 1142, 1119, 1703, 1699]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.00701904296875
[1, 1, 29] 203 [torch.Size([2, 7, 200]), torch.Size([2, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.433946132659912
(20,) [ 8 22 10  4  3]
(tensor(-3.4013, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(11,) [ 19  27  26 971  14 961  48   4   3]
(tensor(-2.5962, device='cuda:0'), tensor([ 28,  27,  41,  26, 971,  14, 961,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['there', 'will', 'be', '@weather_attribute', 'in', '@location', 'today', '.'], ['you', 'are', 'welcome', '.']]
['what', 'city', 'should', 'i', 'check', 'for', '@weather_attribute', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 29

minibatch.kb length: 203
minibatch.kb:
[(['alameda', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alameda', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['alameda', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alameda', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alameda', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alameda', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['alameda', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alameda', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alameda', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alameda', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['alameda', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alameda', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alameda', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alameda', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['alameda', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alameda', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alameda', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alameda', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['alameda', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alameda', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alameda', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alameda', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['alameda', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alameda', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alameda', '<pad>', 'location'], ['@location'], ['alameda']),
 (['alameda', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alameda', '<pad>', 'saturday_weather'], ['@weather'], ['frost']),
 (['alameda', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alameda', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['frost']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['frost']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['hail']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['blizzard']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['frost']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['blizzard']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['drizzle']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['redwood', 'city', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['redwood', 'city', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['redwood', 'city', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['redwood', 'city', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['redwood', 'city', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['redwood', 'city', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['redwood', 'city', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['redwood', 'city', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['redwood', 'city', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['redwood', 'city', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['redwood', 'city', '<pad>', 'thursday_weather'], ['@weather'], ['hot']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['redwood', 'city', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['redwood', 'city', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'location'], ['@location'], ['redwood city']),
 (['redwood', 'city', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['redwood', 'city', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['durham', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['durham', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['durham', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['durham', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['durham', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['durham', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['durham', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['durham', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['durham', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['durham', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['durham', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['durham', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['durham', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['durham', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['durham', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['durham', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['durham', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['durham', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['durham', '<pad>', 'location'], ['@location'], ['durham']),
 (['durham', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['durham', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['durham', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F'])]

minibatch.src/trg: (['car', 'is', 'it', 'going', 'to', 'snow', 'today'], ['what', 'city', 'should', 'i', 'check', 'for', '@weather_attribute', '?'])

batch_with_kb: current, kb_len, current+kb_len:  2856 203 3059

corresponding_kb: 29

example number: 73

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[73]): [(71, 28), (72, 28), (73, 29), (74, 29), (75, 29)]
['it', 'will', 'not', 'be', 'snowing', 'in', '@location', 'today', '.', 'it', 'will', 'be', '@weather_attribute', 'with', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 29

minibatch.kb length: 203
minibatch.kb:
[(['alameda', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alameda', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['alameda', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alameda', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alameda', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alameda', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['alameda', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alameda', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alameda', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alameda', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['alameda', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alameda', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alameda', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alameda', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['alameda', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alameda', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alameda', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alameda', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['alameda', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alameda', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alameda', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alameda', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['alameda', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alameda', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alameda', '<pad>', 'location'], ['@location'], ['alameda']),
 (['alameda', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alameda', '<pad>', 'saturday_weather'], ['@weather'], ['frost']),
 (['alameda', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alameda', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['frost']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['frost']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['hail']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['blizzard']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['frost']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['blizzard']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['drizzle']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['redwood', 'city', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['redwood', 'city', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['redwood', 'city', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['redwood', 'city', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['redwood', 'city', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['redwood', 'city', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['redwood', 'city', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['redwood', 'city', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['redwood', 'city', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['redwood', 'city', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['redwood', 'city', '<pad>', 'thursday_weather'], ['@weather'], ['hot']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['redwood', 'city', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['redwood', 'city', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'location'], ['@location'], ['redwood city']),
 (['redwood', 'city', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['redwood', 'city', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['durham', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['durham', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['durham', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['durham', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['durham', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['durham', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['durham', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['durham', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['durham', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['durham', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['durham', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['durham', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['durham', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['durham', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['durham', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['durham', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['durham', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['durham', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['durham', '<pad>', 'location'], ['@location'], ['durham']),
 (['durham', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['durham', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['durham', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F'])]

minibatch.src/trg: (['car', 'is', 'it', 'going', 'to', 'snow', 'today', '@dot', 'what', 'city', 'should', 'i', 'check', 'for', 'snow', '?', '@dot', 'durham', '.'], ['it', 'will', 'not', 'be', 'snowing', 'in', '@location', 'today', '.', 'it', 'will', 'be', '@weather_attribute', 'with', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', '.'])

batch_with_kb: current, kb_len, current+kb_len:  2856 203 3059

corresponding_kb: 29

example number: 74

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[74]): [(72, 28), (73, 29), (74, 29), (75, 29), (76, 30)]
["you're", 'welcome', '!'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 29

minibatch.kb length: 203
minibatch.kb:
[(['alameda', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alameda', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['alameda', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alameda', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alameda', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alameda', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['alameda', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alameda', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alameda', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alameda', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['alameda', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alameda', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alameda', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alameda', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['alameda', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alameda', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alameda', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alameda', '<pad>', 'thursday_weather'], ['@weather'], ['snow']),
 (['alameda', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alameda', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['alameda', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alameda', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['alameda', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alameda', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alameda', '<pad>', 'location'], ['@location'], ['alameda']),
 (['alameda', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alameda', '<pad>', 'saturday_weather'], ['@weather'], ['frost']),
 (['alameda', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alameda', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['mountain', 'view', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['mountain', 'view', '<pad>', 'monday_weather'], ['@weather'], ['dry']),
 (['mountain', 'view', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['mountain', 'view', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['mountain', 'view', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['mountain', 'view', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['mountain', 'view', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['mountain', 'view', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['mountain', 'view', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['mountain', 'view', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['mountain', 'view', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['mountain', 'view', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['mountain', 'view', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['mountain', 'view', '<pad>', 'sunday_weather'], ['@weather'], ['frost']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['mountain', 'view', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['mountain', 'view', '<pad>', 'location'], ['@location'], ['mountain view']),
 (['mountain', 'view', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['mountain', 'view', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['mountain', 'view', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['frost']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['hail']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['90F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['blizzard']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['frost']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['rain']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['70F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['stormy']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['blizzard']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['warm']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['drizzle']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['redwood', 'city', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['redwood', 'city', '<pad>', 'monday_weather'], ['@weather'], ['clear skies']),
 (['redwood', 'city', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['redwood', 'city', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['redwood', 'city', '<pad>', 'tuesday_weather'], ['@weather'], ['hail']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['redwood', 'city', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['redwood', 'city', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['redwood', 'city', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['redwood', 'city', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['redwood', 'city', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['redwood', 'city', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['redwood', 'city', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['redwood', 'city', '<pad>', 'thursday_weather'], ['@weather'], ['hot']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['redwood', 'city', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['70F']),
 (['redwood', 'city', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['redwood', 'city', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['redwood', 'city', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['redwood', 'city', '<pad>', 'location'], ['@location'], ['redwood city']),
 (['redwood', 'city', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['redwood', 'city', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['redwood', 'city', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['durham', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['durham', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['durham', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['durham', '<pad>', 'tuesday_weather'], ['@weather'], ['foggy']),
 (['durham', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['durham', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['durham', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['durham', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['durham', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['durham', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['durham', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['durham', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['durham', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['durham', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['durham', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['durham', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['durham', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['durham', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['durham', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['durham', '<pad>', 'sunday_weather'], ['@weather'], ['overcast']),
 (['durham', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['durham', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['durham', '<pad>', 'location'], ['@location'], ['durham']),
 (['durham', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['durham', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['durham', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['40F']),
 (['durham', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F'])]

minibatch.src/trg: (['car', 'is', 'it', 'going', 'to', 'snow', 'today', '@dot', 'what', 'city', 'should', 'i', 'check', 'for', 'snow', '?', '@dot', 'durham', '.', '@dot', 'it', 'will', 'not', 'be', 'snowing', 'in', 'durham', 'today', '.', 'it', 'will', 'be', 'windy', 'with', 'a', 'low', 'of', '50f', 'and', 'a', 'high', 'of', '70f', '.', '@dot', 'thank', 'you', 'car', '!'], ["you're", 'welcome', '!'])

batch_with_kb: current, kb_len, current+kb_len:  2856 203 3059

corresponding_kb: 29

example number: 75

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[75]): [(73, 29), (74, 29), (75, 29), (76, 30), (77, 30)]
proc_batch: batch.src: ['car', 'is', 'it', 'going', 'to', 'snow', 'today', '@dot', 'what', 'city', 'should', 'i', 'check', 'for', 'snow', '?', '@dot', 'durham', '.', '@dot', 'it', 'will', 'not', 'be', 'snowing', 'in', 'durham', 'today', '.', 'it', 'will', 'be', 'windy', 'with', 'a', 'low', 'of', '50f', 'and', 'a', 'high', 'of', '70f', '.', '@dot', 'thank', 'you', 'car', '!']
proc_batch: batch.trg: ["you're", 'welcome', '!']
proc_batch: kbkeys: [['alameda', '<pad>', 'monday_date', '<pad>', '<pad>'], ['alameda', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['alameda', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['alameda', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['alameda', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['alameda', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['alameda', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['alameda', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['alameda', '<pad>', 'friday_date', '<pad>', '<pad>'], ['alameda', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['alameda', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['alameda', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['alameda', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['alameda', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['alameda', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['alameda', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['alameda', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['alameda', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['alameda', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['alameda', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['alameda', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['alameda', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['alameda', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['alameda', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['alameda', '<pad>', 'location', '<pad>', '<pad>'], ['alameda', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['alameda', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['alameda', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['alameda', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['mountain', 'view', '<pad>', 'monday_date', '<pad>'], ['mountain', 'view', '<pad>', 'monday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'monday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'monday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_date', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'tuesday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'friday_date', '<pad>'], ['mountain', 'view', '<pad>', 'friday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'friday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'friday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_date', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'wednesday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_date', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'thursday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_date', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'sunday_temperature_high', '<pad>'], ['mountain', 'view', '<pad>', 'location', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_date', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_weather', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_temperature_low', '<pad>'], ['mountain', 'view', '<pad>', 'saturday_temperature_high', '<pad>'], ['alhambra', '<pad>', 'monday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'location', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'location', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'location', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['redwood', 'city', '<pad>', 'monday_date', '<pad>'], ['redwood', 'city', '<pad>', 'monday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'monday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'monday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_date', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'tuesday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'friday_date', '<pad>'], ['redwood', 'city', '<pad>', 'friday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'friday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'friday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_date', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'wednesday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_date', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'thursday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_date', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'sunday_temperature_high', '<pad>'], ['redwood', 'city', '<pad>', 'location', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_date', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_weather', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_temperature_low', '<pad>'], ['redwood', 'city', '<pad>', 'saturday_temperature_high', '<pad>'], ['durham', '<pad>', 'monday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['durham', '<pad>', 'location', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['durham', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['rain'], ['60F'], ['70F'], ['tuesday'], ['hail'], ['40F'], ['50F'], ['friday'], ['cloudy'], ['30F'], ['50F'], ['wednesday'], ['cloudy'], ['70F'], ['80F'], ['thursday'], ['snow'], ['60F'], ['70F'], ['sunday'], ['overcast'], ['70F'], ['90F'], ['alameda'], ['saturday'], ['frost'], ['40F'], ['60F'], ['monday'], ['dry'], ['90F'], ['100F'], ['tuesday'], ['clear skies'], ['20F'], ['40F'], ['friday'], ['rain'], ['80F'], ['100F'], ['wednesday'], ['rain'], ['50F'], ['70F'], ['thursday'], ['rain'], ['50F'], ['70F'], ['sunday'], ['frost'], ['40F'], ['60F'], ['mountain view'], ['saturday'], ['rain'], ['20F'], ['40F'], ['monday'], ['overcast'], ['90F'], ['100F'], ['tuesday'], ['frost'], ['50F'], ['60F'], ['friday'], ['hail'], ['40F'], ['50F'], ['wednesday'], ['rain'], ['70F'], ['90F'], ['thursday'], ['raining'], ['30F'], ['40F'], ['sunday'], ['drizzle'], ['20F'], ['30F'], ['alhambra'], ['saturday'], ['raining'], ['30F'], ['50F'], ['monday'], ['warm'], ['50F'], ['70F'], ['tuesday'], ['clear skies'], ['30F'], ['40F'], ['friday'], ['blizzard'], ['40F'], ['50F'], ['wednesday'], ['frost'], ['50F'], ['60F'], ['thursday'], ['rain'], ['30F'], ['40F'], ['sunday'], ['stormy'], ['20F'], ['30F'], ['brentwood'], ['saturday'], ['windy'], ['70F'], ['80F'], ['monday'], ['stormy'], ['90F'], ['100F'], ['tuesday'], ['hail'], ['20F'], ['40F'], ['friday'], ['blizzard'], ['40F'], ['60F'], ['wednesday'], ['dry'], ['90F'], ['100F'], ['thursday'], ['stormy'], ['80F'], ['100F'], ['sunday'], ['warm'], ['90F'], ['100F'], ['compton'], ['saturday'], ['drizzle'], ['60F'], ['70F'], ['monday'], ['clear skies'], ['80F'], ['100F'], ['tuesday'], ['hail'], ['90F'], ['100F'], ['friday'], ['rain'], ['70F'], ['90F'], ['wednesday'], ['clear skies'], ['70F'], ['80F'], ['thursday'], ['hot'], ['60F'], ['70F'], ['sunday'], ['windy'], ['80F'], ['100F'], ['redwood city'], ['saturday'], ['cloudy'], ['50F'], ['70F'], ['monday'], ['windy'], ['50F'], ['70F'], ['tuesday'], ['foggy'], ['20F'], ['30F'], ['friday'], ['rain'], ['20F'], ['40F'], ['wednesday'], ['rain'], ['60F'], ['70F'], ['thursday'], ['drizzle'], ['80F'], ['100F'], ['sunday'], ['overcast'], ['30F'], ['40F'], ['durham'], ['saturday'], ['rain'], ['40F'], ['60F']]
Time spent on converting arrays to sentences for current batch: 0.004691600799560547
debug: kb_true_vals :torch.Size([3, 203])
debug: kb_true_vals content:tensor([[1134, 1119, 1703, 1699, 1132, 1165, 1701, 1698, 1140, 1130, 1704, 1698,
         1138, 1130, 1699, 1707, 1136, 1128, 1703, 1699, 1139, 1155, 1699, 1705,
         1037, 1142, 1158, 1701, 1703, 1134, 1169, 1705, 1706, 1132, 1702, 1700,
         1701, 1140, 1119, 1707, 1706, 1138, 1119, 1698, 1699, 1136, 1119, 1698,
         1699, 1139, 1158, 1701, 1703, 1714, 1142, 1119, 1700, 1701, 1134, 1155,
         1705, 1706, 1132, 1158, 1698, 1703, 1140, 1165, 1701, 1698, 1138, 1119,
         1699, 1705, 1136,  147, 1704, 1701, 1139, 1151, 1700, 1704, 1033, 1142,
          147, 1704, 1698, 1134, 1166, 1698, 1699, 1132, 1702, 1704, 1701, 1140,
         1164, 1701, 1698, 1138, 1158, 1698, 1703, 1136, 1119, 1704, 1701, 1139,
         1190, 1700, 1704, 1032, 1142, 1163, 1699, 1707, 1134, 1190, 1705, 1706,
         1132, 1165, 1700, 1701, 1140, 1164, 1701, 1703, 1138, 1169, 1705, 1706,
         1136, 1190, 1707, 1706, 1139, 1166, 1705, 1706,  988, 1142, 1151, 1703,
         1699, 1134, 1702, 1707, 1706, 1132, 1165, 1705, 1706, 1140, 1119, 1699,
         1705, 1138, 1702, 1699, 1707, 1136, 1147, 1703, 1699, 1139, 1163, 1707,
         1706, 1716, 1142, 1130, 1698, 1699, 1134, 1163, 1698, 1699, 1132, 1154,
         1700, 1704, 1140, 1119, 1700, 1701, 1138, 1119, 1703, 1699, 1136, 1151,
         1707, 1706, 1139, 1155, 1704, 1701,  990, 1142, 1119, 1701, 1703],
        [1134, 1119, 1703, 1699, 1132, 1165, 1701, 1698, 1140, 1130, 1704, 1698,
         1138, 1130, 1699, 1707, 1136, 1128, 1703, 1699, 1139, 1155, 1699, 1705,
         1037, 1142, 1158, 1701, 1703, 1134, 1169, 1705, 1706, 1132, 1702, 1700,
         1701, 1140, 1119, 1707, 1706, 1138, 1119, 1698, 1699, 1136, 1119, 1698,
         1699, 1139, 1158, 1701, 1703, 1714, 1142, 1119, 1700, 1701, 1134, 1155,
         1705, 1706, 1132, 1158, 1698, 1703, 1140, 1165, 1701, 1698, 1138, 1119,
         1699, 1705, 1136,  147, 1704, 1701, 1139, 1151, 1700, 1704, 1033, 1142,
          147, 1704, 1698, 1134, 1166, 1698, 1699, 1132, 1702, 1704, 1701, 1140,
         1164, 1701, 1698, 1138, 1158, 1698, 1703, 1136, 1119, 1704, 1701, 1139,
         1190, 1700, 1704, 1032, 1142, 1163, 1699, 1707, 1134, 1190, 1705, 1706,
         1132, 1165, 1700, 1701, 1140, 1164, 1701, 1703, 1138, 1169, 1705, 1706,
         1136, 1190, 1707, 1706, 1139, 1166, 1705, 1706,  988, 1142, 1151, 1703,
         1699, 1134, 1702, 1707, 1706, 1132, 1165, 1705, 1706, 1140, 1119, 1699,
         1705, 1138, 1702, 1699, 1707, 1136, 1147, 1703, 1699, 1139, 1163, 1707,
         1706, 1716, 1142, 1130, 1698, 1699, 1134, 1163, 1698, 1699, 1132, 1154,
         1700, 1704, 1140, 1119, 1700, 1701, 1138, 1119, 1703, 1699, 1136, 1151,
         1707, 1706, 1139, 1155, 1704, 1701,  990, 1142, 1119, 1701, 1703],
        [1134, 1119, 1703, 1699, 1132, 1165, 1701, 1698, 1140, 1130, 1704, 1698,
         1138, 1130, 1699, 1707, 1136, 1128, 1703, 1699, 1139, 1155, 1699, 1705,
         1037, 1142, 1158, 1701, 1703, 1134, 1169, 1705, 1706, 1132, 1702, 1700,
         1701, 1140, 1119, 1707, 1706, 1138, 1119, 1698, 1699, 1136, 1119, 1698,
         1699, 1139, 1158, 1701, 1703, 1714, 1142, 1119, 1700, 1701, 1134, 1155,
         1705, 1706, 1132, 1158, 1698, 1703, 1140, 1165, 1701, 1698, 1138, 1119,
         1699, 1705, 1136,  147, 1704, 1701, 1139, 1151, 1700, 1704, 1033, 1142,
          147, 1704, 1698, 1134, 1166, 1698, 1699, 1132, 1702, 1704, 1701, 1140,
         1164, 1701, 1698, 1138, 1158, 1698, 1703, 1136, 1119, 1704, 1701, 1139,
         1190, 1700, 1704, 1032, 1142, 1163, 1699, 1707, 1134, 1190, 1705, 1706,
         1132, 1165, 1700, 1701, 1140, 1164, 1701, 1703, 1138, 1169, 1705, 1706,
         1136, 1190, 1707, 1706, 1139, 1166, 1705, 1706,  988, 1142, 1151, 1703,
         1699, 1134, 1702, 1707, 1706, 1132, 1165, 1705, 1706, 1140, 1119, 1699,
         1705, 1138, 1702, 1699, 1707, 1136, 1147, 1703, 1699, 1139, 1163, 1707,
         1706, 1716, 1142, 1130, 1698, 1699, 1134, 1163, 1698, 1699, 1132, 1154,
         1700, 1704, 1140, 1119, 1700, 1701, 1138, 1119, 1703, 1699, 1136, 1151,
         1707, 1706, 1139, 1155, 1704, 1701,  990, 1142, 1119, 1701, 1703]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.010624408721923828
[1, 1, 29] 203 [torch.Size([3, 7, 200]), torch.Size([3, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.50264310836792
(15,) [17 10 23  3]
(tensor(-3.7733, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(12,) [ 28  27  26 971  14 961  48   4   3]
(tensor(-2.1810, device='cuda:0'), tensor([ 28,  27,  26, 971,  14, 961,   4,   3], device='cuda:0')) <class 'tuple'>
(12,) [ 29  35  22   8 217  73  13   3]
(tensor(-2.2141, device='cuda:0'), tensor([29, 35, 22,  8, 14, 13,  3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'city', 'are', 'you', 'inquiring', 'about', '?'], ['it', 'will', 'be', '@weather_attribute', 'in', '@location', 'today', '.'], ["you're", 'welcome', '!']]
['okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '@time', 'with', 'your', '@party', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 30
Warning: Omitting possible match ['10', 'ames']; only matched with first token!
Made entity classification for seq up to here:
                    ['schedule', 'my', '10'];
candidates are:
                    [];
partial matches are:
                    [(['10', 'ames'], '@poi_address', 1)];
choice is:
                    (['10', 'ames'], '@poi_address');
r is:
['schedule', 'my', '10']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment'];
candidates are:
                    [(['dentist', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['dentist', 'appointment'], '@event');
r is:
['schedule', 'my', '10', 'am', '@event']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday'];
candidates are:
                    [(['friday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['friday'], '@date');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father'];
candidates are:
                    [(['father'], '@party')];
partial matches are:
                    [];
choice is:
                    (['father'], '@party');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party']

========================================
	Finished up Sequence
['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.']
and transformed it to
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.']
========================================


minibatch.kb length: 3
minibatch.kb:
[(['dentist', 'appointment', '<pad>', 'event'], ['@event'], ['dentist appointment']),
 (['dentist', 'appointment', '<pad>', 'date'], ['@date'], ['friday']),
 (['dentist', 'appointment', '<pad>', 'party'], ['@party'], ['father'])]

minibatch.src/trg: (['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.'], ['okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '@time', 'with', 'your', '@party', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?'])

batch_with_kb: current, kb_len, current+kb_len:  3059 0 3059

corresponding_kb: 30

example number: 76

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[76]): [(74, 29), (75, 29), (76, 30), (77, 30), (78, 30)]
['current', 'schedule', 'is', 'empty'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 30
Warning: Omitting possible match ['10', 'ames']; only matched with first token!
Made entity classification for seq up to here:
                    ['schedule', 'my', '10'];
candidates are:
                    [];
partial matches are:
                    [(['10', 'ames'], '@poi_address', 1)];
choice is:
                    (['10', 'ames'], '@poi_address');
r is:
['schedule', 'my', '10']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment'];
candidates are:
                    [(['dentist', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['dentist', 'appointment'], '@event');
r is:
['schedule', 'my', '10', 'am', '@event']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday'];
candidates are:
                    [(['friday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['friday'], '@date');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father'];
candidates are:
                    [(['father'], '@party')];
partial matches are:
                    [];
choice is:
                    (['father'], '@party');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment'];
candidates are:
                    [(['dentist', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['dentist', 'appointment'], '@event');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday'];
candidates are:
                    [(['friday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['friday'], '@date');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date']
Warning: Omitting possible match ['10', 'ames']; only matched with first token!
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10'];
candidates are:
                    [];
partial matches are:
                    [(['10', 'ames'], '@poi_address', 1)];
choice is:
                    (['10', 'ames'], '@poi_address');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father'];
candidates are:
                    [(['father'], '@party')];
partial matches are:
                    [];
choice is:
                    (['father'], '@party');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party']

========================================
	Finished up Sequence
['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.']
and transformed it to
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.']
========================================


minibatch.kb length: 3
minibatch.kb:
[(['dentist', 'appointment', '<pad>', 'event'], ['@event'], ['dentist appointment']),
 (['dentist', 'appointment', '<pad>', 'date'], ['@date'], ['friday']),
 (['dentist', 'appointment', '<pad>', 'party'], ['@party'], ['father'])]

minibatch.src/trg: (['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.'], ['current', 'schedule', 'is', 'empty'])

batch_with_kb: current, kb_len, current+kb_len:  3059 0 3059

corresponding_kb: 30

example number: 77

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[77]): [(75, 29), (76, 30), (77, 30), (78, 30), (79, 30)]
['okay', ',', 'you', 'have', 'a', '@event', 'with', 'your', '@party', ',', 'at', '@time', 'on', '@date', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 30
Warning: Omitting possible match ['10', 'ames']; only matched with first token!
Made entity classification for seq up to here:
                    ['schedule', 'my', '10'];
candidates are:
                    [];
partial matches are:
                    [(['10', 'ames'], '@poi_address', 1)];
choice is:
                    (['10', 'ames'], '@poi_address');
r is:
['schedule', 'my', '10']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment'];
candidates are:
                    [(['dentist', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['dentist', 'appointment'], '@event');
r is:
['schedule', 'my', '10', 'am', '@event']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday'];
candidates are:
                    [(['friday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['friday'], '@date');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father'];
candidates are:
                    [(['father'], '@party')];
partial matches are:
                    [];
choice is:
                    (['father'], '@party');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment'];
candidates are:
                    [(['dentist', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['dentist', 'appointment'], '@event');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday'];
candidates are:
                    [(['friday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['friday'], '@date');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date']
Warning: Omitting possible match ['10', 'ames']; only matched with first token!
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10'];
candidates are:
                    [];
partial matches are:
                    [(['10', 'ames'], '@poi_address', 1)];
choice is:
                    (['10', 'ames'], '@poi_address');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father'];
candidates are:
                    [(['father'], '@party')];
partial matches are:
                    [];
choice is:
                    (['father'], '@party');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', 'friday'];
candidates are:
                    [(['friday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['friday'], '@date');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', '@date']

========================================
	Finished up Sequence
['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', 'friday', '.']
and transformed it to
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', '@date', '.']
========================================


minibatch.kb length: 3
minibatch.kb:
[(['dentist', 'appointment', '<pad>', 'event'], ['@event'], ['dentist appointment']),
 (['dentist', 'appointment', '<pad>', 'date'], ['@date'], ['friday']),
 (['dentist', 'appointment', '<pad>', 'party'], ['@party'], ['father'])]

minibatch.src/trg: (['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', 'friday', '.'], ['okay', ',', 'you', 'have', 'a', '@event', 'with', 'your', '@party', ',', 'at', '@time', 'on', '@date', '.'])

batch_with_kb: current, kb_len, current+kb_len:  3059 0 3059

corresponding_kb: 30

example number: 78

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[78]): [(76, 30), (77, 30), (78, 30), (79, 30), (80, 31)]
['happy', 'to', 'help'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 30
Warning: Omitting possible match ['10', 'ames']; only matched with first token!
Made entity classification for seq up to here:
                    ['schedule', 'my', '10'];
candidates are:
                    [];
partial matches are:
                    [(['10', 'ames'], '@poi_address', 1)];
choice is:
                    (['10', 'ames'], '@poi_address');
r is:
['schedule', 'my', '10']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment'];
candidates are:
                    [(['dentist', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['dentist', 'appointment'], '@event');
r is:
['schedule', 'my', '10', 'am', '@event']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday'];
candidates are:
                    [(['friday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['friday'], '@date');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father'];
candidates are:
                    [(['father'], '@party')];
partial matches are:
                    [];
choice is:
                    (['father'], '@party');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment'];
candidates are:
                    [(['dentist', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['dentist', 'appointment'], '@event');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday'];
candidates are:
                    [(['friday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['friday'], '@date');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date']
Warning: Omitting possible match ['10', 'ames']; only matched with first token!
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10'];
candidates are:
                    [];
partial matches are:
                    [(['10', 'ames'], '@poi_address', 1)];
choice is:
                    (['10', 'ames'], '@poi_address');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father'];
candidates are:
                    [(['father'], '@party')];
partial matches are:
                    [];
choice is:
                    (['father'], '@party');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', 'friday'];
candidates are:
                    [(['friday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['friday'], '@date');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', '@date']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', 'friday', '.', '@dot', 'okay', ',', 'you', 'have', 'a', 'dentist', 'appointment'];
candidates are:
                    [(['dentist', 'appointment'], '@event')];
partial matches are:
                    [];
choice is:
                    (['dentist', 'appointment'], '@event');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', '@date', '.', '@dot', 'okay', ',', 'you', 'have', 'a', '@event']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', 'friday', '.', '@dot', 'okay', ',', 'you', 'have', 'a', 'dentist', 'appointment', 'with', 'your', 'father'];
candidates are:
                    [(['father'], '@party')];
partial matches are:
                    [];
choice is:
                    (['father'], '@party');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', '@date', '.', '@dot', 'okay', ',', 'you', 'have', 'a', '@event', 'with', 'your', '@party']
Warning: Omitting possible match ['10', 'ames']; only matched with first token!
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', 'friday', '.', '@dot', 'okay', ',', 'you', 'have', 'a', 'dentist', 'appointment', 'with', 'your', 'father', ',', 'at', '10'];
candidates are:
                    [];
partial matches are:
                    [(['10', 'ames'], '@poi_address', 1)];
choice is:
                    (['10', 'ames'], '@poi_address');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', '@date', '.', '@dot', 'okay', ',', 'you', 'have', 'a', '@event', 'with', 'your', '@party', ',', 'at', '10']
Made entity classification for seq up to here:
                    ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', 'friday', '.', '@dot', 'okay', ',', 'you', 'have', 'a', 'dentist', 'appointment', 'with', 'your', 'father', ',', 'at', '10', 'am', 'on', 'friday'];
candidates are:
                    [(['friday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['friday'], '@date');
r is:
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', '@date', '.', '@dot', 'okay', ',', 'you', 'have', 'a', '@event', 'with', 'your', '@party', ',', 'at', '10', 'am', 'on', '@date']

========================================
	Finished up Sequence
['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', 'friday', '.', '@dot', 'okay', ',', 'you', 'have', 'a', 'dentist', 'appointment', 'with', 'your', 'father', ',', 'at', '10', 'am', 'on', 'friday', '.', '@dot', 'thank', 'you', 'so', 'much', '!']
and transformed it to
['schedule', 'my', '10', 'am', '@event', 'on', '@date', 'with', 'my', '@party', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', '@event', 'for', 'this', '@date', 'at', '10', 'am', 'with', 'your', '@party', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', '@date', '.', '@dot', 'okay', ',', 'you', 'have', 'a', '@event', 'with', 'your', '@party', ',', 'at', '10', 'am', 'on', '@date', '.', '@dot', 'thank', 'you', 'so', 'much', '!']
========================================


minibatch.kb length: 3
minibatch.kb:
[(['dentist', 'appointment', '<pad>', 'event'], ['@event'], ['dentist appointment']),
 (['dentist', 'appointment', '<pad>', 'date'], ['@date'], ['friday']),
 (['dentist', 'appointment', '<pad>', 'party'], ['@party'], ['father'])]

minibatch.src/trg: (['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', 'friday', '.', '@dot', 'okay', ',', 'you', 'have', 'a', 'dentist', 'appointment', 'with', 'your', 'father', ',', 'at', '10', 'am', 'on', 'friday', '.', '@dot', 'thank', 'you', 'so', 'much', '!'], ['happy', 'to', 'help'])

batch_with_kb: current, kb_len, current+kb_len:  3059 0 3059

corresponding_kb: 30

example number: 79

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[79]): [(77, 30), (78, 30), (79, 30), (80, 31), (81, 31)]
matches for unk:                             []
proc_batch: batch.src: ['schedule', 'my', '10', 'am', 'dentist', 'appointment', 'on', 'friday', 'with', 'my', 'father', '.', '@dot', 'okay', ',', 'i', 'have', 'scheduled', 'your', 'dentist', 'appointment', 'for', 'this', 'friday', 'at', '10', 'am', 'with', 'your', 'father', '.', 'anything', 'else', 'i', 'can', 'help', 'with', '?', '@dot', 'list', 'my', 'current', 'schedule', '.', '@dot', 'current', 'schedule', 'is', 'empty', '@dot', 'list', 'my', 'schedule', 'for', 'friday', '.', '@dot', 'okay', ',', 'you', 'have', 'a', 'dentist', 'appointment', 'with', 'your', 'father', ',', 'at', '10', 'am', 'on', 'friday', '.', '@dot', 'thank', 'you', 'so', 'much', '!']
proc_batch: batch.trg: ['happy', 'to', 'help']
proc_batch: kbkeys: [['dentist', 'appointment', '<pad>', 'event', '<pad>'], ['dentist', 'appointment', '<pad>', 'date', '<pad>'], ['dentist', 'appointment', '<pad>', 'party', '<pad>']]
proc_batch: kbvalues: [['@event'], ['@date'], ['@party']]
debug: batch.kbtrv:[['dentist appointment'], ['friday'], ['father']]
Time spent on converting arrays to sentences for current batch: 0.004395484924316406
debug: kb_true_vals :torch.Size([4, 3])
debug: kb_true_vals content:tensor([[1688, 1140, 1182],
        [1688, 1140, 1182],
        [1688, 1140, 1182],
        [1688, 1140, 1182]], device='cuda:0')
Time spent on kb_true_vals checks: 0.0004527568817138672
[1, 1, 3] 3 [torch.Size([4, 1, 200]), torch.Size([4, 3, 200])] [['event'], ['date'], ['party']]
Time spent on knowledgebase attention dimensions == 2: 0.19041919708251953
(18,) [ 8 22 10  4  3]
(tensor(-1.5476, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
(12,) [ 61   7 105  18 966  21  20 967  15 955  11 965   4   3]
(tensor(-1.8832, device='cuda:0'), tensor([ 61,   7, 105,  18, 966,  21, 967,  15, 955,  11, 965,   4,   3],
       device='cuda:0')) <class 'tuple'>
(11,) [ 61   7 105  18 966  21  20 967  15 955  11 965   4   3]
(tensor(-2.3187, device='cuda:0'), tensor([ 61,   7, 105,  18, 966,  21, 967,   9, 955,  11, 965,   4,   3],
       device='cuda:0')) <class 'tuple'>
(16,) [ 25  31  37  18  47  15  20 966   9 955  11 965   4   3]
(tensor(-2.6675, device='cuda:0'), tensor([ 47,  37,  15, 955,  11, 965,   4,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['okay', ',', 'scheduling', 'a', '@event', 'with', 'your', '@party', 'for', '@date', 'at', '@time', '.'], ['okay', ',', 'scheduling', 'a', '@event', 'with', 'your', '@party', 'for', '@date', 'at', '@time', '.'], ['i', 'have', 'set', 'a', 'reminder', 'for', 'your', '@event', 'on', '@date', 'at', '@time', '.'], ['you', 'are', 'welcome', '.']]
['what', 'city', 'do', 'you', 'want', 'the', 'temperature', 'for', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 31

minibatch.kb length: 203
minibatch.kb:
[(['cleveland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['cleveland', '<pad>', 'monday_weather'], ['@weather'], ['hail']),
 (['cleveland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['cleveland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['cleveland', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['cleveland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['cleveland', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['cleveland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['cleveland', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['cleveland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['cleveland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['cleveland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['cleveland', '<pad>', 'thursday_weather'], ['@weather'], ['humid']),
 (['cleveland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['cleveland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['cleveland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['cleveland', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['cleveland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['cleveland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['cleveland', '<pad>', 'location'], ['@location'], ['cleveland']),
 (['cleveland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['cleveland', '<pad>', 'saturday_weather'], ['@weather'], ['humid']),
 (['cleveland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['cleveland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['stormy']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['humid']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['humid']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['humid']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['humid']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['hail']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['frost']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['hail']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['camarillo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['camarillo', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['camarillo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['camarillo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['camarillo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['camarillo', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['camarillo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['camarillo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['camarillo', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['camarillo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['camarillo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['camarillo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['camarillo', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['camarillo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['camarillo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['camarillo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['camarillo', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['camarillo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['camarillo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['camarillo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['camarillo', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['camarillo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['camarillo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['camarillo', '<pad>', 'location'], ['@location'], ['camarillo']),
 (['camarillo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['camarillo', '<pad>', 'saturday_weather'], ['@weather'], ['hail']),
 (['camarillo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['camarillo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F'])]

minibatch.src/trg: (['what', 'will', 'the', 'temperature', 'be', 'for', 'the', 'next', 'week'], ['what', 'city', 'do', 'you', 'want', 'the', 'temperature', 'for', '?'])

batch_with_kb: current, kb_len, current+kb_len:  3059 203 3262

corresponding_kb: 31

example number: 80

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[80]): [(78, 30), (79, 30), (80, 31), (81, 31), (82, 31)]
['next', 'week', 'the', 'temperatures', 'in', '@location', 'will', 'be', 'as', 'follows', ':', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'and', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 31

minibatch.kb length: 203
minibatch.kb:
[(['cleveland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['cleveland', '<pad>', 'monday_weather'], ['@weather'], ['hail']),
 (['cleveland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['cleveland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['cleveland', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['cleveland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['cleveland', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['cleveland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['cleveland', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['cleveland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['cleveland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['cleveland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['cleveland', '<pad>', 'thursday_weather'], ['@weather'], ['humid']),
 (['cleveland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['cleveland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['cleveland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['cleveland', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['cleveland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['cleveland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['cleveland', '<pad>', 'location'], ['@location'], ['cleveland']),
 (['cleveland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['cleveland', '<pad>', 'saturday_weather'], ['@weather'], ['humid']),
 (['cleveland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['cleveland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['stormy']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['humid']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['humid']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['humid']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['humid']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['hail']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['frost']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['hail']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['camarillo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['camarillo', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['camarillo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['camarillo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['camarillo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['camarillo', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['camarillo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['camarillo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['camarillo', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['camarillo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['camarillo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['camarillo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['camarillo', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['camarillo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['camarillo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['camarillo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['camarillo', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['camarillo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['camarillo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['camarillo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['camarillo', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['camarillo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['camarillo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['camarillo', '<pad>', 'location'], ['@location'], ['camarillo']),
 (['camarillo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['camarillo', '<pad>', 'saturday_weather'], ['@weather'], ['hail']),
 (['camarillo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['camarillo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F'])]

minibatch.src/trg: (['what', 'will', 'the', 'temperature', 'be', 'for', 'the', 'next', 'week', '@dot', 'what', 'city', 'do', 'you', 'want', 'the', 'temperature', 'for', '?', '@dot', 'i', 'would', 'like', 'the', 'temperature', 'for', 'alhambra', 'please'], ['next', 'week', 'the', 'temperatures', 'in', '@location', 'will', 'be', 'as', 'follows', ':', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date', ',', 'and', 'a', 'low', 'of', '@temperature', 'and', 'a', 'high', 'of', '@temperature', 'on', '@date'])

batch_with_kb: current, kb_len, current+kb_len:  3059 203 3262

corresponding_kb: 31

example number: 81

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[81]): [(79, 30), (80, 31), (81, 31), (82, 31), (83, 32)]
['you', 'are', 'very', 'welcome', '!'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 31

minibatch.kb length: 203
minibatch.kb:
[(['cleveland', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['cleveland', '<pad>', 'monday_weather'], ['@weather'], ['hail']),
 (['cleveland', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['cleveland', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['cleveland', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['cleveland', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['cleveland', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['cleveland', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['30F']),
 (['cleveland', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['cleveland', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['cleveland', '<pad>', 'wednesday_weather'], ['@weather'], ['dry']),
 (['cleveland', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['cleveland', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['cleveland', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['cleveland', '<pad>', 'thursday_weather'], ['@weather'], ['humid']),
 (['cleveland', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['cleveland', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['cleveland', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['cleveland', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['cleveland', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['cleveland', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['80F']),
 (['cleveland', '<pad>', 'location'], ['@location'], ['cleveland']),
 (['cleveland', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['cleveland', '<pad>', 'saturday_weather'], ['@weather'], ['humid']),
 (['cleveland', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['cleveland', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['overcast']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['windy']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['stormy']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['30F']),
 (['fresno', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['fresno', '<pad>', 'monday_weather'], ['@weather'], ['humid']),
 (['fresno', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['fresno', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['fresno', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['fresno', '<pad>', 'tuesday_weather'], ['@weather'], ['cloudy']),
 (['fresno', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['fresno', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['fresno', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['fresno', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['fresno', '<pad>', 'wednesday_weather'], ['@weather'], ['windy']),
 (['fresno', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['70F']),
 (['fresno', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['fresno', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['fresno', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['40F']),
 (['fresno', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['50F']),
 (['fresno', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['fresno', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['fresno', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['fresno', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['fresno', '<pad>', 'location'], ['@location'], ['fresno']),
 (['fresno', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['fresno', '<pad>', 'saturday_weather'], ['@weather'], ['humid']),
 (['fresno', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['fresno', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['compton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['compton', '<pad>', 'monday_weather'], ['@weather'], ['rain']),
 (['compton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['compton', '<pad>', 'tuesday_weather'], ['@weather'], ['humid']),
 (['compton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['compton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['compton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['compton', '<pad>', 'friday_weather'], ['@weather'], ['humid']),
 (['compton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['compton', '<pad>', 'wednesday_weather'], ['@weather'], ['raining']),
 (['compton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['compton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['compton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['compton', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['compton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['compton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['compton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['compton', '<pad>', 'sunday_weather'], ['@weather'], ['windy']),
 (['compton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['compton', '<pad>', 'location'], ['@location'], ['compton']),
 (['compton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['compton', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['compton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['compton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['alhambra', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['alhambra', '<pad>', 'monday_weather'], ['@weather'], ['warm']),
 (['alhambra', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['alhambra', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['alhambra', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['alhambra', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['alhambra', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['alhambra', '<pad>', 'friday_weather'], ['@weather'], ['windy']),
 (['alhambra', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alhambra', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alhambra', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['alhambra', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['alhambra', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['40F']),
 (['alhambra', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['alhambra', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['alhambra', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['50F']),
 (['alhambra', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['60F']),
 (['alhambra', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['alhambra', '<pad>', 'sunday_weather'], ['@weather'], ['hail']),
 (['alhambra', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['80F']),
 (['alhambra', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['100F']),
 (['alhambra', '<pad>', 'location'], ['@location'], ['alhambra']),
 (['alhambra', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['alhambra', '<pad>', 'saturday_weather'], ['@weather'], ['raining']),
 (['alhambra', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['alhambra', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['raining']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['frost']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['hail']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['camarillo', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['camarillo', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['camarillo', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['camarillo', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['camarillo', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['camarillo', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['camarillo', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['camarillo', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['camarillo', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['camarillo', '<pad>', 'friday_weather'], ['@weather'], ['foggy']),
 (['camarillo', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['70F']),
 (['camarillo', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['80F']),
 (['camarillo', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['camarillo', '<pad>', 'wednesday_weather'], ['@weather'], ['cloudy']),
 (['camarillo', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['camarillo', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['camarillo', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['camarillo', '<pad>', 'thursday_weather'], ['@weather'], ['raining']),
 (['camarillo', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['90F']),
 (['camarillo', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['camarillo', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['camarillo', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['camarillo', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['camarillo', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['camarillo', '<pad>', 'location'], ['@location'], ['camarillo']),
 (['camarillo', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['camarillo', '<pad>', 'saturday_weather'], ['@weather'], ['hail']),
 (['camarillo', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['90F']),
 (['camarillo', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F'])]

minibatch.src/trg: (['what', 'will', 'the', 'temperature', 'be', 'for', 'the', 'next', 'week', '@dot', 'what', 'city', 'do', 'you', 'want', 'the', 'temperature', 'for', '?', '@dot', 'i', 'would', 'like', 'the', 'temperature', 'for', 'alhambra', 'please', '@dot', 'next', 'week', 'the', 'temperatures', 'in', 'alhambra', 'will', 'be', 'as', 'follows', ':', 'a', 'low', 'of', '80f', 'and', 'a', 'high', 'of', '100f', 'on', 'monday', ',', 'a', 'low', 'of', '30f', 'and', 'a', 'high', 'of', '40f', 'on', 'tuesday', ',', 'a', 'low', 'of', '40f', 'and', 'a', 'high', 'of', '50f', 'on', 'wednesday', ',', 'a', 'low', 'of', '50f', 'and', 'a', 'high', 'of', '60f', 'on', 'thursday', ',', 'a', 'low', 'of', '40f', 'and', 'a', 'high', 'of', '50f', 'on', 'friday', ',', 'a', 'low', 'of', '60f', 'and', 'a', 'high', 'of', '70f', 'on', 'saturday', ',', 'and', 'a', 'low', 'of', '80f', 'and', 'a', 'high', 'of', '100f', 'on', 'sunday', '@dot', 'thank', 'you', 'very', 'much', '!'], ['you', 'are', 'very', 'welcome', '!'])

batch_with_kb: current, kb_len, current+kb_len:  3059 203 3262

corresponding_kb: 31

example number: 82

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[82]): [(80, 31), (81, 31), (82, 31), (83, 32), (84, 32)]
proc_batch: batch.src: ['what', 'will', 'the', 'temperature', 'be', 'for', 'the', 'next', 'week', '@dot', 'what', 'city', 'do', 'you', 'want', 'the', 'temperature', 'for', '?', '@dot', 'i', 'would', 'like', 'the', 'temperature', 'for', 'alhambra', 'please', '@dot', 'next', 'week', 'the', 'temperatures', 'in', 'alhambra', 'will', 'be', 'as', 'follows', ':', 'a', 'low', 'of', '80f', 'and', 'a', 'high', 'of', '100f', 'on', 'monday', ',', 'a', 'low', 'of', '30f', 'and', 'a', 'high', 'of', '40f', 'on', 'tuesday', ',', 'a', 'low', 'of', '40f', 'and', 'a', 'high', 'of', '50f', 'on', 'wednesday', ',', 'a', 'low', 'of', '50f', 'and', 'a', 'high', 'of', '60f', 'on', 'thursday', ',', 'a', 'low', 'of', '40f', 'and', 'a', 'high', 'of', '50f', 'on', 'friday', ',', 'a', 'low', 'of', '60f', 'and', 'a', 'high', 'of', '70f', 'on', 'saturday', ',', 'and', 'a', 'low', 'of', '80f', 'and', 'a', 'high', 'of', '100f', 'on', 'sunday', '@dot', 'thank', 'you', 'very', 'much', '!']
proc_batch: batch.trg: ['you', 'are', 'very', 'welcome', '!']
proc_batch: kbkeys: [['cleveland', '<pad>', 'monday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['cleveland', '<pad>', 'location', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['cleveland', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'location', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['fresno', '<pad>', 'location', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['fresno', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['compton', '<pad>', 'location', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['compton', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['alhambra', '<pad>', 'location', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['alhambra', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['menlo', 'park', '<pad>', 'monday_date', '<pad>'], ['menlo', 'park', '<pad>', 'monday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'friday_date', '<pad>'], ['menlo', 'park', '<pad>', 'friday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_date', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_date', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'location', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_date', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_high', '<pad>'], ['camarillo', '<pad>', 'monday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['camarillo', '<pad>', 'location', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['camarillo', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['hail'], ['30F'], ['40F'], ['tuesday'], ['drizzle'], ['30F'], ['50F'], ['friday'], ['dry'], ['30F'], ['50F'], ['wednesday'], ['dry'], ['40F'], ['60F'], ['thursday'], ['humid'], ['80F'], ['90F'], ['sunday'], ['windy'], ['70F'], ['80F'], ['cleveland'], ['saturday'], ['humid'], ['60F'], ['70F'], ['monday'], ['overcast'], ['50F'], ['70F'], ['tuesday'], ['drizzle'], ['70F'], ['80F'], ['friday'], ['rain'], ['20F'], ['40F'], ['wednesday'], ['rain'], ['30F'], ['50F'], ['thursday'], ['windy'], ['60F'], ['80F'], ['sunday'], ['rain'], ['40F'], ['50F'], ['manhattan'], ['saturday'], ['stormy'], ['20F'], ['30F'], ['monday'], ['humid'], ['80F'], ['90F'], ['tuesday'], ['cloudy'], ['60F'], ['70F'], ['friday'], ['foggy'], ['40F'], ['60F'], ['wednesday'], ['windy'], ['60F'], ['70F'], ['thursday'], ['raining'], ['40F'], ['50F'], ['sunday'], ['drizzle'], ['20F'], ['40F'], ['fresno'], ['saturday'], ['humid'], ['60F'], ['80F'], ['monday'], ['rain'], ['90F'], ['100F'], ['tuesday'], ['humid'], ['90F'], ['100F'], ['friday'], ['humid'], ['60F'], ['70F'], ['wednesday'], ['raining'], ['50F'], ['60F'], ['thursday'], ['raining'], ['80F'], ['90F'], ['sunday'], ['windy'], ['60F'], ['70F'], ['compton'], ['saturday'], ['cloudy'], ['60F'], ['80F'], ['monday'], ['warm'], ['80F'], ['100F'], ['tuesday'], ['rain'], ['30F'], ['40F'], ['friday'], ['windy'], ['40F'], ['50F'], ['wednesday'], ['drizzle'], ['40F'], ['50F'], ['thursday'], ['raining'], ['50F'], ['60F'], ['sunday'], ['hail'], ['80F'], ['100F'], ['alhambra'], ['saturday'], ['raining'], ['60F'], ['70F'], ['monday'], ['cloudy'], ['80F'], ['100F'], ['tuesday'], ['drizzle'], ['80F'], ['100F'], ['friday'], ['raining'], ['40F'], ['60F'], ['wednesday'], ['clear skies'], ['30F'], ['40F'], ['thursday'], ['foggy'], ['70F'], ['80F'], ['sunday'], ['frost'], ['20F'], ['30F'], ['menlo park'], ['saturday'], ['hail'], ['60F'], ['70F'], ['monday'], ['windy'], ['50F'], ['70F'], ['tuesday'], ['clear skies'], ['50F'], ['60F'], ['friday'], ['foggy'], ['70F'], ['80F'], ['wednesday'], ['cloudy'], ['80F'], ['100F'], ['thursday'], ['raining'], ['90F'], ['100F'], ['sunday'], ['drizzle'], ['30F'], ['40F'], ['camarillo'], ['saturday'], ['hail'], ['90F'], ['100F']]
Time spent on converting arrays to sentences for current batch: 0.004693269729614258
debug: kb_true_vals :torch.Size([3, 203])
debug: kb_true_vals content:tensor([[1134, 1165, 1704, 1701, 1132, 1151, 1704, 1698, 1140, 1169, 1704, 1698,
         1138, 1169, 1701, 1703, 1136, 1160, 1707, 1705, 1139, 1163, 1699, 1707,
          995, 1142, 1160, 1703, 1699, 1134, 1155, 1698, 1699, 1132, 1151, 1699,
         1707, 1140, 1119, 1700, 1701, 1138, 1119, 1704, 1698, 1136, 1163, 1703,
         1707, 1139, 1119, 1701, 1698,  996, 1142, 1190, 1700, 1704, 1134, 1160,
         1707, 1705, 1132, 1130, 1703, 1699, 1140, 1154, 1701, 1703, 1138, 1163,
         1703, 1699, 1136,  147, 1701, 1698, 1139, 1151, 1700, 1701,  986, 1142,
         1160, 1703, 1707, 1134, 1119, 1705, 1706, 1132, 1160, 1705, 1706, 1140,
         1160, 1703, 1699, 1138,  147, 1698, 1703, 1136,  147, 1707, 1705, 1139,
         1163, 1703, 1699,  988, 1142, 1130, 1703, 1707, 1134, 1166, 1707, 1706,
         1132, 1119, 1704, 1701, 1140, 1163, 1701, 1698, 1138, 1151, 1701, 1698,
         1136,  147, 1698, 1703, 1139, 1165, 1707, 1706, 1033, 1142,  147, 1703,
         1699, 1134, 1130, 1707, 1706, 1132, 1151, 1707, 1706, 1140,  147, 1701,
         1703, 1138, 1702, 1704, 1701, 1136, 1154, 1699, 1707, 1139, 1158, 1700,
         1704, 1708, 1142, 1165, 1703, 1699, 1134, 1163, 1698, 1699, 1132, 1702,
         1698, 1703, 1140, 1154, 1699, 1707, 1138, 1130, 1707, 1706, 1136,  147,
         1705, 1706, 1139, 1151, 1704, 1701, 1038, 1142, 1165, 1705, 1706],
        [1134, 1165, 1704, 1701, 1132, 1151, 1704, 1698, 1140, 1169, 1704, 1698,
         1138, 1169, 1701, 1703, 1136, 1160, 1707, 1705, 1139, 1163, 1699, 1707,
          995, 1142, 1160, 1703, 1699, 1134, 1155, 1698, 1699, 1132, 1151, 1699,
         1707, 1140, 1119, 1700, 1701, 1138, 1119, 1704, 1698, 1136, 1163, 1703,
         1707, 1139, 1119, 1701, 1698,  996, 1142, 1190, 1700, 1704, 1134, 1160,
         1707, 1705, 1132, 1130, 1703, 1699, 1140, 1154, 1701, 1703, 1138, 1163,
         1703, 1699, 1136,  147, 1701, 1698, 1139, 1151, 1700, 1701,  986, 1142,
         1160, 1703, 1707, 1134, 1119, 1705, 1706, 1132, 1160, 1705, 1706, 1140,
         1160, 1703, 1699, 1138,  147, 1698, 1703, 1136,  147, 1707, 1705, 1139,
         1163, 1703, 1699,  988, 1142, 1130, 1703, 1707, 1134, 1166, 1707, 1706,
         1132, 1119, 1704, 1701, 1140, 1163, 1701, 1698, 1138, 1151, 1701, 1698,
         1136,  147, 1698, 1703, 1139, 1165, 1707, 1706, 1033, 1142,  147, 1703,
         1699, 1134, 1130, 1707, 1706, 1132, 1151, 1707, 1706, 1140,  147, 1701,
         1703, 1138, 1702, 1704, 1701, 1136, 1154, 1699, 1707, 1139, 1158, 1700,
         1704, 1708, 1142, 1165, 1703, 1699, 1134, 1163, 1698, 1699, 1132, 1702,
         1698, 1703, 1140, 1154, 1699, 1707, 1138, 1130, 1707, 1706, 1136,  147,
         1705, 1706, 1139, 1151, 1704, 1701, 1038, 1142, 1165, 1705, 1706],
        [1134, 1165, 1704, 1701, 1132, 1151, 1704, 1698, 1140, 1169, 1704, 1698,
         1138, 1169, 1701, 1703, 1136, 1160, 1707, 1705, 1139, 1163, 1699, 1707,
          995, 1142, 1160, 1703, 1699, 1134, 1155, 1698, 1699, 1132, 1151, 1699,
         1707, 1140, 1119, 1700, 1701, 1138, 1119, 1704, 1698, 1136, 1163, 1703,
         1707, 1139, 1119, 1701, 1698,  996, 1142, 1190, 1700, 1704, 1134, 1160,
         1707, 1705, 1132, 1130, 1703, 1699, 1140, 1154, 1701, 1703, 1138, 1163,
         1703, 1699, 1136,  147, 1701, 1698, 1139, 1151, 1700, 1701,  986, 1142,
         1160, 1703, 1707, 1134, 1119, 1705, 1706, 1132, 1160, 1705, 1706, 1140,
         1160, 1703, 1699, 1138,  147, 1698, 1703, 1136,  147, 1707, 1705, 1139,
         1163, 1703, 1699,  988, 1142, 1130, 1703, 1707, 1134, 1166, 1707, 1706,
         1132, 1119, 1704, 1701, 1140, 1163, 1701, 1698, 1138, 1151, 1701, 1698,
         1136,  147, 1698, 1703, 1139, 1165, 1707, 1706, 1033, 1142,  147, 1703,
         1699, 1134, 1130, 1707, 1706, 1132, 1151, 1707, 1706, 1140,  147, 1701,
         1703, 1138, 1702, 1704, 1701, 1136, 1154, 1699, 1707, 1139, 1158, 1700,
         1704, 1708, 1142, 1165, 1703, 1699, 1134, 1163, 1698, 1699, 1132, 1702,
         1698, 1703, 1140, 1154, 1699, 1707, 1138, 1130, 1707, 1706, 1136,  147,
         1705, 1706, 1139, 1151, 1704, 1701, 1038, 1142, 1165, 1705, 1706]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.01034855842590332
[1, 1, 29] 203 [torch.Size([3, 7, 200]), torch.Size([3, 29, 200])] [['monday_date'], ['monday_weather'], ['monday_temperature_low'], ['monday_temperature_high'], ['tuesday_date'], ['tuesday_weather'], ['tuesday_temperature_low'], ['tuesday_temperature_high'], ['friday_date'], ['friday_weather'], ['friday_temperature_low'], ['friday_temperature_high'], ['wednesday_date'], ['wednesday_weather'], ['wednesday_temperature_low'], ['wednesday_temperature_high'], ['thursday_date'], ['thursday_weather'], ['thursday_temperature_low'], ['thursday_temperature_high'], ['sunday_date'], ['sunday_weather'], ['sunday_temperature_low'], ['sunday_temperature_high'], ['location'], ['saturday_date'], ['saturday_weather'], ['saturday_temperature_low'], ['saturday_temperature_high']]
Time spent on knowledgebase attention dimensions == 2: 7.439971446990967
(14,) [17 10 23  3]
(tensor(-2.1731, device='cuda:0'), tensor([69,  4,  3], device='cuda:0')) <class 'tuple'>
(11,) [961  27  26 971  14 961   4   3]
(tensor(-2.9281, device='cuda:0'), tensor([961,   5, 971,  14, 961,   4,   3], device='cuda:0')) <class 'tuple'>
