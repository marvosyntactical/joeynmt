processing data for fields=('src', 'kbsrc')
processed data for fields=('src', 'kbsrc') with [('src', 208721), ('kbsrc', 6276)] Attribute Errors per field


rearranging vocabulary to put all strings starting with '@' after self.canonical_onwards in itos             (at the end of vocab) ...
took some canonical @tokens from vocab, correcting self.stoi now
reappending the canonical tokens at end now ...
done vocabulary setup, returning 

processing data for fields=('trg', 'kbtrg')
processed data for fields=('trg', 'kbtrg') with [('trg', 208721), ('kbtrg', 6276)] Attribute Errors per field


rearranging vocabulary to put all strings starting with '@' after self.canonical_onwards in itos             (at the end of vocab) ...
took some canonical @tokens from vocab, correcting self.stoi now
reappending the canonical tokens at end now ...
done vocabulary setup, returning 

Added true value lines as tokens to trv_vocab of length=1835
Made entity classification for seq up to here:
                    ['your', 'meeting'];
candidates are:
                    [(['meeting'], '@event')];
partial matches are:
                    [];
choice is:
                    (['meeting'], '@event');
r is:
['your', '@event']
Made entity classification for seq up to here:
                    ['your', 'meeting', 'in', 'conference', 'room', '100', 'is'];
candidates are:
                    [(['conference'], '@event'), (['conference', 'room', '100'], '@room')];
partial matches are:
                    [(['conference', 'room', '102'], '@room', 2), (['conference', 'room', '50'], '@room', 2)];
choice is:
                    (['conference', 'room', '100'], '@room');
r is:
['your', '@event', 'in', '@room']
Made entity classification for seq up to here:
                    ['your', 'meeting', 'in', 'conference', 'room', '100', 'is', 'with', 'martha'];
candidates are:
                    [(['martha'], '@party')];
partial matches are:
                    [];
choice is:
                    (['martha'], '@party');
r is:
['your', '@event', 'in', '@room', 'is', 'with', '@party']

========================================
	Finished up Sequence
['your', 'meeting', 'in', 'conference', 'room', '100', 'is', 'with', 'martha']
and transformed it to
['your', '@event', 'in', '@room', 'is', 'with', '@party']
========================================

(['your', '@event', 'in', '@room', 'is', 'with', '@party'], [0, 1, 2, 3, 3, 3, 4, 5, 6], [('@event', ['your', 'meeting', 'in']), ('@room', ['conference', 'room', '100', 'is', 'with']), ('@party', ['with', 'martha'])])

---------- ENTER VALIDATION ----------

['what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event', 'room', '?'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 0
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later'];
candidates are:
                    [(['conference'], '@event'), (['conference', 'room', '100'], '@room')];
partial matches are:
                    [(['conference', 'room', '102'], '@room', 2), (['conference', 'room', '50'], '@room', 2)];
choice is:
                    (['conference', 'room', '100'], '@room');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room']
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting'];
candidates are:
                    [(['meeting'], '@event')];
partial matches are:
                    [];
choice is:
                    (['meeting'], '@event');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event']

========================================
	Finished up Sequence
['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting']
and transformed it to
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event']
========================================


minibatch.kb length: 2
minibatch.kb:
[(['meeting', '<pad>', 'room'], ['@room'], ['conference room 100']),
 (['meeting', '<pad>', 'event'], ['@event'], ['meeting'])]

minibatch.src/trg: (['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting'], ['what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event', 'room', '?'])

batch_with_kb: current, kb_len, current+kb_len:  0 0 0

corresponding_kb: 0

example number: 0

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[0]): []
['i', 'have', 'made', 'an', 'appointment', 'for', '@date', 'at', '@time', 'for', 'the', '@event', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 0
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later'];
candidates are:
                    [(['conference'], '@event'), (['conference', 'room', '100'], '@room')];
partial matches are:
                    [(['conference', 'room', '102'], '@room', 2), (['conference', 'room', '50'], '@room', 2)];
choice is:
                    (['conference', 'room', '100'], '@room');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room']
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting'];
candidates are:
                    [(['meeting'], '@event')];
partial matches are:
                    [];
choice is:
                    (['meeting'], '@event');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event']
Warning: Omitting possible match ['the', '1st']; only matched with first token!
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the'];
candidates are:
                    [];
partial matches are:
                    [(['the', '1st'], '@date', 1), (['the', '2nd'], '@date', 1), (['the', '3rd'], '@date', 1), (['the', '4th'], '@date', 1), (['the', '5th'], '@date', 1), (['the', '6th'], '@date', 1), (['the', '7th'], '@date', 1), (['the', '8th'], '@date', 1), (['the', '9th'], '@date', 1), (['the', '10th'], '@date', 1), (['the', '11th'], '@date', 1), (['the', '12th'], '@date', 1), (['the', '13th'], '@date', 1), (['the', '14th'], '@date', 1), (['the', '15th'], '@date', 1), (['the', '16th'], '@date', 1), (['the', '17th'], '@date', 1), (['the', '18th'], '@date', 1), (['the', '19th'], '@date', 1), (['the', '20th'], '@date', 1), (['the', 'clement'], '@poi_name', 1), (['the', 'westin'], '@poi_name', 1)];
choice is:
                    (['the', '1st'], '@date');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the']
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', 'conference', 'room'];
candidates are:
                    [(['conference'], '@event')];
partial matches are:
                    [(['conference', 'room', '100'], '@room', 2), (['conference', 'room', '102'], '@room', 2), (['conference', 'room', '50'], '@room', 2)];
choice is:
                    (['conference'], '@event');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event']
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', 'conference', 'room', '?', '@dot', 'monday'];
candidates are:
                    [(['monday'], '@date')];
partial matches are:
                    [];
choice is:
                    (['monday'], '@date');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event', 'room', '?', '@dot', '@date']
Made entity classification for seq up to here:
                    ['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', 'conference', 'room', '?', '@dot', 'monday', 'at', '3pm'];
candidates are:
                    [(['3pm'], '@time')];
partial matches are:
                    [];
choice is:
                    (['3pm'], '@time');
r is:
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event', 'room', '?', '@dot', '@date', 'at', '@time']

========================================
	Finished up Sequence
['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', 'conference', 'room', '?', '@dot', 'monday', 'at', '3pm', '.']
and transformed it to
['make', 'an', 'appointment', 'to', 'reserve', '@room', 'later', 'this', 'week', 'for', 'a', '@event', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', '@event', 'room', '?', '@dot', '@date', 'at', '@time', '.']
========================================


minibatch.kb length: 4
minibatch.kb:
[(['meeting', '<pad>', 'room'], ['@room'], ['conference room 100']),
 (['meeting', '<pad>', 'event'], ['@event'], ['meeting']),
 (['meeting', '<pad>', 'date'], ['@date'], ['monday']),
 (['meeting', '<pad>', 'time'], ['@time'], ['3pm'])]

minibatch.src/trg: (['make', 'an', 'appointment', 'to', 'reserve', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', 'reserve', 'the', 'conference', 'room', '?', '@dot', 'monday', 'at', '3pm', '.'], ['i', 'have', 'made', 'an', 'appointment', 'for', '@date', 'at', '@time', 'for', 'the', '@event', '.'])

batch_with_kb: current, kb_len, current+kb_len:  0 0 0

corresponding_kb: 0

example number: 1

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[1]): []
matches for unk:                             []
proc_batch: batch.src: ['make', 'an', 'appointment', 'to', '<unk>', 'conference', 'room', '100', 'later', 'this', 'week', 'for', 'a', 'meeting', '@dot', 'what', 'day', 'and', 'time', 'should', 'i', 'set', 'an', 'appointment', 'to', '<unk>', 'the', 'conference', 'room', '?', '@dot', 'monday', 'at', '3pm', '.']
proc_batch: batch.trg: ['i', 'have', '<unk>', 'an', 'appointment', 'for', '@date', 'at', '@time', 'for', 'the', '@event', '.']
proc_batch: kbkeys: [['meeting', '<pad>', 'room', '<pad>'], ['meeting', '<pad>', 'event', '<pad>'], ['meeting', '<pad>', 'date', '<pad>'], ['meeting', '<pad>', 'time', '<pad>']]
proc_batch: kbvalues: [['@room'], ['@event'], ['@date'], ['@time']]
debug: batch.kbtrv:[['conference room 100'], ['meeting'], ['monday'], ['3pm']]
Time spent on converting arrays to sentences for current batch: 0.00034308433532714844
debug: kb_true_vals :torch.Size([2, 4])
debug: kb_true_vals content:tensor([[1822, 1047, 1134, 1178],
        [1822, 1047, 1134, 1178]], device='cuda:0')
Time spent on kb_true_vals checks: 0.00045990943908691406
Time spent on knowledgebase attention dimensions == 1: 0.00021147727966308594
(10, 9) [ 29  56  16  77   5   6 966  13   3]
(tensor(-2.0498, device='cuda:0'), tensor([ 29,  56,  16,  77,   5,   6, 966,  13,   3], device='cuda:0')) <class 'tuple'>
(12,) [ 61   7  43  18  47  15  20 966   9 955  11 965   4   3]
(tensor(-2.0946, device='cuda:0'), tensor([ 43,  18,  47,  15,  20, 966,   9, 955,  11, 965,   4,   3],
       device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['what', 'day', 'and', 'time', 'is', 'the', '@event', '?'], ['okay', ',', 'setting', 'a', 'reminder', 'for', 'your', '@event', 'on', '@date', 'at', '@time', '.']]
['on', '@date', "it's", 'gonna', '@weather_attribute', 'in', '@location'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 1

minibatch.kb length: 203
minibatch.kb:
[(['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['stormy']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['hail']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['atherton', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['atherton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['atherton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['atherton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['atherton', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['atherton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['atherton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['atherton', '<pad>', 'friday_weather'], ['@weather'], ['dew']),
 (['atherton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['atherton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['atherton', '<pad>', 'wednesday_weather'], ['@weather'], ['blizzard']),
 (['atherton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['atherton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['atherton', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['atherton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['atherton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['atherton', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['atherton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['atherton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['atherton', '<pad>', 'location'], ['@location'], ['atherton']),
 (['atherton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['atherton', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['atherton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['humid']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['danville', '<pad>', 'monday_weather'], ['@weather'], ['dew']),
 (['danville', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['danville', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['danville', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['danville', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['danville', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['danville', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['danville', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['danville', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['danville', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['danville', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['danville', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['danville', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['danville', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['danville', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['danville', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['danville', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['danville', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['danville', '<pad>', 'location'], ['@location'], ['danville']),
 (['danville', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['danville', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['danville', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['new', 'york', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['new', 'york', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['new', 'york', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['new', 'york', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['new', 'york', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['new', 'york', '<pad>', 'tuesday_weather'], ['@weather'], ['misty']),
 (['new', 'york', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['new', 'york', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['new', 'york', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['new', 'york', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['new', 'york', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['new', 'york', '<pad>', 'wednesday_weather'], ['@weather'], ['dew']),
 (['new', 'york', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['new', 'york', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['new', 'york', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['new', 'york', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['new', 'york', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['new', 'york', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['new', 'york', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['new', 'york', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['new', 'york', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['new', 'york', '<pad>', 'location'], ['@location'], ['new york']),
 (['new', 'york', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['new', 'york', '<pad>', 'saturday_weather'], ['@weather'], ['drizzle']),
 (['new', 'york', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['new', 'york', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['blizzard']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['misty']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['misty']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['misty']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F'])]

minibatch.src/trg: (['is', 'there', 'supposed', 'to', 'be', 'a', 'blizzard', 'in', 'brentwood', 'on', 'friday', '?'], ['on', '@date', "it's", 'gonna', '@weather_attribute', 'in', '@location'])

batch_with_kb: current, kb_len, current+kb_len:  0 203 203

corresponding_kb: 1

example number: 2

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[2]): [(0, 0), (1, 0), (2, 1), (3, 1), (4, 2)]
["you're", 'welcome', '!'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 1

minibatch.kb length: 203
minibatch.kb:
[(['san', 'francisco', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['san', 'francisco', '<pad>', 'monday_weather'], ['@weather'], ['snow']),
 (['san', 'francisco', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['san', 'francisco', '<pad>', 'tuesday_weather'], ['@weather'], ['overcast']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['san', 'francisco', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['san', 'francisco', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['san', 'francisco', '<pad>', 'friday_weather'], ['@weather'], ['stormy']),
 (['san', 'francisco', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['san', 'francisco', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['40F']),
 (['san', 'francisco', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['san', 'francisco', '<pad>', 'wednesday_weather'], ['@weather'], ['hail']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['san', 'francisco', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['san', 'francisco', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['san', 'francisco', '<pad>', 'thursday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['100F']),
 (['san', 'francisco', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['san', 'francisco', '<pad>', 'sunday_weather'], ['@weather'], ['drizzle']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['30F']),
 (['san', 'francisco', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['san', 'francisco', '<pad>', 'location'], ['@location'], ['san francisco']),
 (['san', 'francisco', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['san', 'francisco', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['san', 'francisco', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['atherton', '<pad>', 'monday_weather'], ['@weather'], ['windy']),
 (['atherton', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['40F']),
 (['atherton', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['60F']),
 (['atherton', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['atherton', '<pad>', 'tuesday_weather'], ['@weather'], ['raining']),
 (['atherton', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['atherton', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['atherton', '<pad>', 'friday_weather'], ['@weather'], ['dew']),
 (['atherton', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['90F']),
 (['atherton', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['100F']),
 (['atherton', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['atherton', '<pad>', 'wednesday_weather'], ['@weather'], ['blizzard']),
 (['atherton', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['atherton', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['atherton', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['atherton', '<pad>', 'thursday_weather'], ['@weather'], ['foggy']),
 (['atherton', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['atherton', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['atherton', '<pad>', 'sunday_weather'], ['@weather'], ['cloudy']),
 (['atherton', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['atherton', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['30F']),
 (['atherton', '<pad>', 'location'], ['@location'], ['atherton']),
 (['atherton', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['atherton', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['atherton', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['80F']),
 (['atherton', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['menlo', 'park', '<pad>', 'monday_weather'], ['@weather'], ['humid']),
 (['menlo', 'park', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['50F']),
 (['menlo', 'park', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['70F']),
 (['menlo', 'park', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['menlo', 'park', '<pad>', 'tuesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['menlo', 'park', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['30F']),
 (['menlo', 'park', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['menlo', 'park', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['menlo', 'park', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['menlo', 'park', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['menlo', 'park', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['menlo', 'park', '<pad>', 'wednesday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['menlo', 'park', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['menlo', 'park', '<pad>', 'thursday_weather'], ['@weather'], ['clear skies']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['menlo', 'park', '<pad>', 'sunday_weather'], ['@weather'], ['stormy']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['70F']),
 (['menlo', 'park', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['90F']),
 (['menlo', 'park', '<pad>', 'location'], ['@location'], ['menlo park']),
 (['menlo', 'park', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['menlo', 'park', '<pad>', 'saturday_weather'], ['@weather'], ['cloudy']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['menlo', 'park', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['70F']),
 (['danville', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['danville', '<pad>', 'monday_weather'], ['@weather'], ['dew']),
 (['danville', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['danville', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['danville', '<pad>', 'tuesday_weather'], ['@weather'], ['drizzle']),
 (['danville', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['danville', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['danville', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['50F']),
 (['danville', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['danville', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['danville', '<pad>', 'wednesday_weather'], ['@weather'], ['drizzle']),
 (['danville', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['danville', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['50F']),
 (['danville', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['danville', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['danville', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['danville', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['danville', '<pad>', 'sunday_weather'], ['@weather'], ['raining']),
 (['danville', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['danville', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['50F']),
 (['danville', '<pad>', 'location'], ['@location'], ['danville']),
 (['danville', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['danville', '<pad>', 'saturday_weather'], ['@weather'], ['windy']),
 (['danville', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['danville', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F']),
 (['new', 'york', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['new', 'york', '<pad>', 'monday_weather'], ['@weather'], ['raining']),
 (['new', 'york', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['30F']),
 (['new', 'york', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['40F']),
 (['new', 'york', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['new', 'york', '<pad>', 'tuesday_weather'], ['@weather'], ['misty']),
 (['new', 'york', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['new', 'york', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['new', 'york', '<pad>', 'friday_weather'], ['@weather'], ['cloudy']),
 (['new', 'york', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['20F']),
 (['new', 'york', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['30F']),
 (['new', 'york', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['new', 'york', '<pad>', 'wednesday_weather'], ['@weather'], ['dew']),
 (['new', 'york', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['90F']),
 (['new', 'york', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['new', 'york', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['new', 'york', '<pad>', 'thursday_weather'], ['@weather'], ['hail']),
 (['new', 'york', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['60F']),
 (['new', 'york', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['80F']),
 (['new', 'york', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['new', 'york', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['new', 'york', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['40F']),
 (['new', 'york', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['60F']),
 (['new', 'york', '<pad>', 'location'], ['@location'], ['new york']),
 (['new', 'york', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['new', 'york', '<pad>', 'saturday_weather'], ['@weather'], ['drizzle']),
 (['new', 'york', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['50F']),
 (['new', 'york', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['brentwood', '<pad>', 'monday_weather'], ['@weather'], ['cloudy']),
 (['brentwood', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['brentwood', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['brentwood', '<pad>', 'tuesday_weather'], ['@weather'], ['blizzard']),
 (['brentwood', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['30F']),
 (['brentwood', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['brentwood', '<pad>', 'friday_weather'], ['@weather'], ['rain']),
 (['brentwood', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['brentwood', '<pad>', 'wednesday_weather'], ['@weather'], ['misty']),
 (['brentwood', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['50F']),
 (['brentwood', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['60F']),
 (['brentwood', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['brentwood', '<pad>', 'thursday_weather'], ['@weather'], ['stormy']),
 (['brentwood', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['80F']),
 (['brentwood', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['90F']),
 (['brentwood', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['brentwood', '<pad>', 'sunday_weather'], ['@weather'], ['misty']),
 (['brentwood', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['20F']),
 (['brentwood', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['40F']),
 (['brentwood', '<pad>', 'location'], ['@location'], ['brentwood']),
 (['brentwood', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['brentwood', '<pad>', 'saturday_weather'], ['@weather'], ['overcast']),
 (['brentwood', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['60F']),
 (['brentwood', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'monday_date'], ['@date'], ['monday']),
 (['manhattan', '<pad>', 'monday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'monday_temperature_low'], ['@temperature_low'], ['70F']),
 (['manhattan', '<pad>', 'monday_temperature_high'], ['@temperature_high'], ['90F']),
 (['manhattan', '<pad>', 'tuesday_date'], ['@date'], ['tuesday']),
 (['manhattan', '<pad>', 'tuesday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'tuesday_temperature_low'], ['@temperature_low'], ['80F']),
 (['manhattan', '<pad>', 'tuesday_temperature_high'], ['@temperature_high'], ['100F']),
 (['manhattan', '<pad>', 'friday_date'], ['@date'], ['friday']),
 (['manhattan', '<pad>', 'friday_weather'], ['@weather'], ['dry']),
 (['manhattan', '<pad>', 'friday_temperature_low'], ['@temperature_low'], ['40F']),
 (['manhattan', '<pad>', 'friday_temperature_high'], ['@temperature_high'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_date'], ['@date'], ['wednesday']),
 (['manhattan', '<pad>', 'wednesday_weather'], ['@weather'], ['hot']),
 (['manhattan', '<pad>', 'wednesday_temperature_low'], ['@temperature_low'], ['60F']),
 (['manhattan', '<pad>', 'wednesday_temperature_high'], ['@temperature_high'], ['80F']),
 (['manhattan', '<pad>', 'thursday_date'], ['@date'], ['thursday']),
 (['manhattan', '<pad>', 'thursday_weather'], ['@weather'], ['misty']),
 (['manhattan', '<pad>', 'thursday_temperature_low'], ['@temperature_low'], ['30F']),
 (['manhattan', '<pad>', 'thursday_temperature_high'], ['@temperature_high'], ['40F']),
 (['manhattan', '<pad>', 'sunday_date'], ['@date'], ['sunday']),
 (['manhattan', '<pad>', 'sunday_weather'], ['@weather'], ['foggy']),
 (['manhattan', '<pad>', 'sunday_temperature_low'], ['@temperature_low'], ['50F']),
 (['manhattan', '<pad>', 'sunday_temperature_high'], ['@temperature_high'], ['70F']),
 (['manhattan', '<pad>', 'location'], ['@location'], ['manhattan']),
 (['manhattan', '<pad>', 'saturday_date'], ['@date'], ['saturday']),
 (['manhattan', '<pad>', 'saturday_weather'], ['@weather'], ['rain']),
 (['manhattan', '<pad>', 'saturday_temperature_low'], ['@temperature_low'], ['20F']),
 (['manhattan', '<pad>', 'saturday_temperature_high'], ['@temperature_high'], ['40F'])]

minibatch.src/trg: (['is', 'there', 'supposed', 'to', 'be', 'a', 'blizzard', 'in', 'brentwood', 'on', 'friday', '?', '@dot', 'on', 'friday', "it's", 'gonna', 'rain', 'in', 'brentwood', '@dot', 'thanks', '.'], ["you're", 'welcome', '!'])

batch_with_kb: current, kb_len, current+kb_len:  0 203 203

corresponding_kb: 1

example number: 3

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[3]): [(1, 0), (2, 1), (3, 1), (4, 2), (5, 2)]
proc_batch: batch.src: ['is', 'there', 'supposed', 'to', 'be', 'a', 'blizzard', 'in', 'brentwood', 'on', 'friday', '?', '@dot', 'on', 'friday', "it's", 'gonna', 'rain', 'in', 'brentwood', '@dot', 'thanks', '.']
proc_batch: batch.trg: ["you're", 'welcome', '!']
proc_batch: kbkeys: [['san', 'francisco', '<pad>', 'monday_date', '<pad>'], ['san', 'francisco', '<pad>', 'monday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'monday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'tuesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'friday_date', '<pad>'], ['san', 'francisco', '<pad>', 'friday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'friday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_date', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'wednesday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_date', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'thursday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_date', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'sunday_temperature_high', '<pad>'], ['san', 'francisco', '<pad>', 'location', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_date', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_weather', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_low', '<pad>'], ['san', 'francisco', '<pad>', 'saturday_temperature_high', '<pad>'], ['atherton', '<pad>', 'monday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['atherton', '<pad>', 'location', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['atherton', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['menlo', 'park', '<pad>', 'monday_date', '<pad>'], ['menlo', 'park', '<pad>', 'monday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'monday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'tuesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'friday_date', '<pad>'], ['menlo', 'park', '<pad>', 'friday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'friday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_date', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'wednesday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_date', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'thursday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_date', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'sunday_temperature_high', '<pad>'], ['menlo', 'park', '<pad>', 'location', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_date', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_weather', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_low', '<pad>'], ['menlo', 'park', '<pad>', 'saturday_temperature_high', '<pad>'], ['danville', '<pad>', 'monday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['danville', '<pad>', 'location', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['danville', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['new', 'york', '<pad>', 'monday_date', '<pad>'], ['new', 'york', '<pad>', 'monday_weather', '<pad>'], ['new', 'york', '<pad>', 'monday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'monday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'tuesday_date', '<pad>'], ['new', 'york', '<pad>', 'tuesday_weather', '<pad>'], ['new', 'york', '<pad>', 'tuesday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'tuesday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'friday_date', '<pad>'], ['new', 'york', '<pad>', 'friday_weather', '<pad>'], ['new', 'york', '<pad>', 'friday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'friday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'wednesday_date', '<pad>'], ['new', 'york', '<pad>', 'wednesday_weather', '<pad>'], ['new', 'york', '<pad>', 'wednesday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'wednesday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'thursday_date', '<pad>'], ['new', 'york', '<pad>', 'thursday_weather', '<pad>'], ['new', 'york', '<pad>', 'thursday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'thursday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'sunday_date', '<pad>'], ['new', 'york', '<pad>', 'sunday_weather', '<pad>'], ['new', 'york', '<pad>', 'sunday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'sunday_temperature_high', '<pad>'], ['new', 'york', '<pad>', 'location', '<pad>'], ['new', 'york', '<pad>', 'saturday_date', '<pad>'], ['new', 'york', '<pad>', 'saturday_weather', '<pad>'], ['new', 'york', '<pad>', 'saturday_temperature_low', '<pad>'], ['new', 'york', '<pad>', 'saturday_temperature_high', '<pad>'], ['brentwood', '<pad>', 'monday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['brentwood', '<pad>', 'location', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['brentwood', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'monday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'tuesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'friday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'wednesday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'thursday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'sunday_temperature_high', '<pad>', '<pad>'], ['manhattan', '<pad>', 'location', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_date', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_weather', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_low', '<pad>', '<pad>'], ['manhattan', '<pad>', 'saturday_temperature_high', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high'], ['@location'], ['@date'], ['@weather'], ['@temperature_low'], ['@temperature_high']]
debug: batch.kbtrv:[['monday'], ['snow'], ['60F'], ['80F'], ['tuesday'], ['overcast'], ['60F'], ['80F'], ['friday'], ['stormy'], ['20F'], ['40F'], ['wednesday'], ['hail'], ['50F'], ['60F'], ['thursday'], ['drizzle'], ['80F'], ['100F'], ['sunday'], ['drizzle'], ['30F'], ['50F'], ['san francisco'], ['saturday'], ['cloudy'], ['80F'], ['100F'], ['monday'], ['windy'], ['40F'], ['60F'], ['tuesday'], ['raining'], ['30F'], ['50F'], ['friday'], ['dew'], ['90F'], ['100F'], ['wednesday'], ['blizzard'], ['30F'], ['40F'], ['thursday'], ['foggy'], ['80F'], ['90F'], ['sunday'], ['cloudy'], ['20F'], ['30F'], ['atherton'], ['saturday'], ['cloudy'], ['80F'], ['90F'], ['monday'], ['humid'], ['50F'], ['70F'], ['tuesday'], ['clear skies'], ['20F'], ['30F'], ['friday'], ['rain'], ['50F'], ['60F'], ['wednesday'], ['clear skies'], ['70F'], ['80F'], ['thursday'], ['clear skies'], ['70F'], ['90F'], ['sunday'], ['stormy'], ['70F'], ['90F'], ['menlo park'], ['saturday'], ['cloudy'], ['60F'], ['70F'], ['monday'], ['dew'], ['30F'], ['40F'], ['tuesday'], ['drizzle'], ['20F'], ['40F'], ['friday'], ['dry'], ['50F'], ['60F'], ['wednesday'], ['drizzle'], ['30F'], ['50F'], ['thursday'], ['hail'], ['20F'], ['40F'], ['sunday'], ['raining'], ['40F'], ['50F'], ['danville'], ['saturday'], ['windy'], ['20F'], ['40F'], ['monday'], ['raining'], ['30F'], ['40F'], ['tuesday'], ['misty'], ['90F'], ['100F'], ['friday'], ['cloudy'], ['20F'], ['30F'], ['wednesday'], ['dew'], ['90F'], ['100F'], ['thursday'], ['hail'], ['60F'], ['80F'], ['sunday'], ['foggy'], ['40F'], ['60F'], ['new york'], ['saturday'], ['drizzle'], ['50F'], ['60F'], ['monday'], ['cloudy'], ['70F'], ['90F'], ['tuesday'], ['blizzard'], ['30F'], ['40F'], ['friday'], ['rain'], ['80F'], ['90F'], ['wednesday'], ['misty'], ['50F'], ['60F'], ['thursday'], ['stormy'], ['80F'], ['90F'], ['sunday'], ['misty'], ['20F'], ['40F'], ['brentwood'], ['saturday'], ['overcast'], ['60F'], ['80F'], ['monday'], ['foggy'], ['70F'], ['90F'], ['tuesday'], ['rain'], ['80F'], ['100F'], ['friday'], ['dry'], ['40F'], ['60F'], ['wednesday'], ['hot'], ['60F'], ['80F'], ['thursday'], ['misty'], ['30F'], ['40F'], ['sunday'], ['foggy'], ['50F'], ['70F'], ['manhattan'], ['saturday'], ['rain'], ['20F'], ['40F']]
Time spent on converting arrays to sentences for current batch: 0.0038890838623046875
debug: kb_true_vals :torch.Size([2, 203])
debug: kb_true_vals content:tensor([[1134, 1128, 1703, 1707, 1132, 1155, 1703, 1707, 1140, 1190, 1700, 1701,
         1138, 1165, 1698, 1703, 1136, 1151, 1707, 1706, 1139, 1151, 1704, 1698,
         1713, 1142, 1130, 1707, 1706, 1134, 1163, 1701, 1703, 1132,  147, 1704,
         1698, 1140, 1215, 1705, 1706, 1138, 1164, 1704, 1701, 1136, 1154, 1707,
         1705, 1139, 1130, 1700, 1704, 1036, 1142, 1130, 1707, 1705, 1134, 1160,
         1698, 1699, 1132, 1702, 1700, 1704, 1140, 1119, 1698, 1703, 1138, 1702,
         1699, 1707, 1136, 1702, 1699, 1705, 1139, 1190, 1699, 1705, 1708, 1142,
         1130, 1703, 1699, 1134, 1215, 1704, 1701, 1132, 1151, 1700, 1701, 1140,
         1169, 1698, 1703, 1138, 1151, 1704, 1698, 1136, 1165, 1700, 1701, 1139,
          147, 1701, 1698, 1031, 1142, 1163, 1700, 1701, 1134,  147, 1704, 1701,
         1132, 1200, 1705, 1706, 1140, 1130, 1700, 1704, 1138, 1215, 1705, 1706,
         1136, 1165, 1703, 1707, 1139, 1154, 1701, 1703, 1709, 1142, 1151, 1698,
         1703, 1134, 1130, 1699, 1705, 1132, 1164, 1704, 1701, 1140, 1119, 1707,
         1705, 1138, 1200, 1698, 1703, 1136, 1190, 1707, 1705, 1139, 1200, 1700,
         1701, 1032, 1142, 1155, 1703, 1707, 1134, 1154, 1699, 1705, 1132, 1119,
         1707, 1706, 1140, 1169, 1701, 1703, 1138, 1147, 1703, 1707, 1136, 1200,
         1704, 1701, 1139, 1154, 1698, 1699,  996, 1142, 1119, 1700, 1701],
        [1134, 1128, 1703, 1707, 1132, 1155, 1703, 1707, 1140, 1190, 1700, 1701,
         1138, 1165, 1698, 1703, 1136, 1151, 1707, 1706, 1139, 1151, 1704, 1698,
         1713, 1142, 1130, 1707, 1706, 1134, 1163, 1701, 1703, 1132,  147, 1704,
         1698, 1140, 1215, 1705, 1706, 1138, 1164, 1704, 1701, 1136, 1154, 1707,
         1705, 1139, 1130, 1700, 1704, 1036, 1142, 1130, 1707, 1705, 1134, 1160,
         1698, 1699, 1132, 1702, 1700, 1704, 1140, 1119, 1698, 1703, 1138, 1702,
         1699, 1707, 1136, 1702, 1699, 1705, 1139, 1190, 1699, 1705, 1708, 1142,
         1130, 1703, 1699, 1134, 1215, 1704, 1701, 1132, 1151, 1700, 1701, 1140,
         1169, 1698, 1703, 1138, 1151, 1704, 1698, 1136, 1165, 1700, 1701, 1139,
          147, 1701, 1698, 1031, 1142, 1163, 1700, 1701, 1134,  147, 1704, 1701,
         1132, 1200, 1705, 1706, 1140, 1130, 1700, 1704, 1138, 1215, 1705, 1706,
         1136, 1165, 1703, 1707, 1139, 1154, 1701, 1703, 1709, 1142, 1151, 1698,
         1703, 1134, 1130, 1699, 1705, 1132, 1164, 1704, 1701, 1140, 1119, 1707,
         1705, 1138, 1200, 1698, 1703, 1136, 1190, 1707, 1705, 1139, 1200, 1700,
         1701, 1032, 1142, 1155, 1703, 1707, 1134, 1154, 1699, 1705, 1132, 1119,
         1707, 1706, 1140, 1169, 1701, 1703, 1138, 1147, 1703, 1707, 1136, 1200,
         1704, 1701, 1139, 1154, 1698, 1699,  996, 1142, 1119, 1700, 1701]],
       device='cuda:0')
Time spent on kb_true_vals checks: 0.0123748779296875
Time spent on knowledgebase attention dimensions == 1: 0.0002498626708984375
(19,) [ 8 22 10  4  3]
(tensor(-3.5205, device='cuda:0'), tensor([69,  3], device='cuda:0')) <class 'tuple'>
(17,) [ 28  27  41  26 971  14 961   9 955   4   3]
(tensor(-2.2427, device='cuda:0'), tensor([ 19,  27,  26, 971,  14, 961,   9, 955,   3], device='cuda:0')) <class 'tuple'>
proc_batch: Hypotheses: [['it', 'will', 'not', 'be', '@weather_attribute', 'in', '@location', 'on', '@date', '.'], ['you', 'are', 'welcome', '.']]
['@poi_name', 'is', 'located', 'at', '@poi_address', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 2

minibatch.kb length: 40
minibatch.kb:
[(['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market']),
 (['cafe', 'venetia', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['cafe', 'venetia', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['cafe', 'venetia', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['cafe', 'venetia', '<pad>', 'address'], ['@address'], ['269 Alger Dr']),
 (['cafe', 'venetia', '<pad>', 'poi'], ['@poi'], ['Cafe Venetia']),
 (['5672', 'barringer', 'street', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['5672', 'barringer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5672', 'barringer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5672', 'barringer', 'street', '<pad>', 'address'], ['@address'], ['5672 barringer street']),
 (['5672', 'barringer', 'street', '<pad>', 'poi'], ['@poi'], ['5672 barringer street']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['stanford', 'childrens', 'health', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['stanford', 'childrens', 'health', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'childrens', 'health', '<pad>', 'address'], ['@address'], ['899 Ames Ct']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi'], ['@poi'], ['Stanford Childrens Health']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'address'], ['@address'], ['481 Amaranta Ave']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi'], ['@poi'], ['Palo Alto Garage R']),
 (['teavana', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['willows', 'market', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['willows', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['willows', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['willows', 'market', '<pad>', 'address'], ['@address'], ['409 Bollard St']),
 (['willows', 'market', '<pad>', 'poi'], ['@poi'], ['Willows Market'])]

minibatch.src/trg: (['address', 'to', 'the', 'gas', 'station'], ['@poi_name', 'is', 'located', 'at', '@poi_address', '.'])

batch_with_kb: current, kb_len, current+kb_len:  203 40 243

corresponding_kb: 2

example number: 4

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[4]): [(2, 1), (3, 1), (4, 2), (5, 2), (6, 2)]
['since', 'there', 'is', 'a', '@traffic_info', ',', 'i', 'found', 'another', 'route', 'for', 'you', 'and', 'i', 'sent', 'it', 'on', 'your', 'screen'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 2

minibatch.kb length: 40
minibatch.kb:
[(['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market']),
 (['cafe', 'venetia', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['cafe', 'venetia', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['cafe', 'venetia', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['cafe', 'venetia', '<pad>', 'address'], ['@address'], ['269 Alger Dr']),
 (['cafe', 'venetia', '<pad>', 'poi'], ['@poi'], ['Cafe Venetia']),
 (['5672', 'barringer', 'street', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['5672', 'barringer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5672', 'barringer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5672', 'barringer', 'street', '<pad>', 'address'], ['@address'], ['5672 barringer street']),
 (['5672', 'barringer', 'street', '<pad>', 'poi'], ['@poi'], ['5672 barringer street']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['stanford', 'childrens', 'health', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['stanford', 'childrens', 'health', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'childrens', 'health', '<pad>', 'address'], ['@address'], ['899 Ames Ct']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi'], ['@poi'], ['Stanford Childrens Health']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'address'], ['@address'], ['481 Amaranta Ave']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi'], ['@poi'], ['Palo Alto Garage R']),
 (['teavana', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['willows', 'market', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['willows', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['willows', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['willows', 'market', '<pad>', 'address'], ['@address'], ['409 Bollard St']),
 (['willows', 'market', '<pad>', 'poi'], ['@poi'], ['Willows Market'])]

minibatch.src/trg: (['address', 'to', 'the', 'gas', 'station', '@dot', 'valero', 'is', 'located', 'at', '200', 'alester', 'ave', '.', '@dot', 'ok', ',', 'please', 'give', 'me', 'directions', 'via', 'a', 'route', 'that', 'avoids', 'all', 'heavy', 'traffic', '.'], ['since', 'there', 'is', 'a', '@traffic_info', ',', 'i', 'found', 'another', 'route', 'for', 'you', 'and', 'i', 'sent', 'it', 'on', 'your', 'screen'])

batch_with_kb: current, kb_len, current+kb_len:  203 40 243

corresponding_kb: 2

example number: 5

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[5]): [(3, 1), (4, 2), (5, 2), (6, 2), (7, 3)]
["you're", 'welcome', ';', 'drive', 'carefully', '.'] [0, 203, 40, 35, 36, 0, 203, 40, 203, 203, 35, 203, 36, 203, 0, 203, 35, 40, 203, 40, 203, 0, 48, 203, 0, 0, 203, 35, 203, 203, 0, 203, 40, 0, 35, 203, 203, 35, 36, 40, 203, 203, 203, 203, 35, 0, 203, 0, 35, 36, 40, 40, 203, 0, 0, 40, 40, 203, 48, 40, 0, 0, 203, 36, 203, 35, 203, 203, 203, 40, 203, 36, 203, 0, 35, 40, 203, 0, 203, 203, 35, 35, 0, 203, 203, 35, 203, 40, 0, 36, 203, 40, 203, 48, 0, 40, 203, 36, 36, 35, 35, 203, 0, 35, 40, 35, 36, 203, 0, 48, 40, 48, 0, 0, 40, 36, 203, 35, 35, 203, 203, 0, 48, 35, 40, 40, 48, 0, 40, 203, 35, 203, 48, 203, 48, 203, 203, 35, 0, 0, 35, 36, 0, 48, 0, 48, 35, 40, 0, 203, 36, 35, 36, 40, 0, 36, 35, 40, 203, 48, 36, 203, 40, 35, 203, 35, 35, 35, 0, 203, 40, 35, 40, 0, 0, 203, 48, 203, 35, 203, 35, 35, 35, 203, 0, 35, 40, 203, 0, 48, 203, 36, 203, 36, 36, 203, 35, 40, 0, 40, 40, 40, 203, 203, 0, 40, 35, 0, 203, 40, 48, 40, 40, 48, 0, 35, 35, 203, 203, 0, 203, 0, 203, 203, 203, 0, 36, 203, 48, 203, 35, 203, 0, 0, 0, 48, 203, 203, 203, 0, 35, 203, 0, 40, 203, 36, 203, 0, 35, 40, 203, 35, 35, 0, 203, 40, 203, 35, 203, 40, 35, 203, 203, 35, 203, 0, 203, 40, 203, 40, 40, 203, 36, 203, 0, 48, 203, 35, 203, 0, 35, 0, 203, 0, 203, 40, 203, 203, 0, 40, 36, 0, 203, 40, 0, 0, 0, 40, 35, 203, 48] 2

minibatch.kb length: 40
minibatch.kb:
[(['sigona', 'farmers', 'market', '<pad>', 'distance'], ['@distance'], ['3 miles']),
 (['sigona', 'farmers', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['sigona', 'farmers', 'market', '<pad>', 'address'], ['@address'], ['638 Amherst St']),
 (['sigona', 'farmers', 'market', '<pad>', 'poi'], ['@poi'], ['Sigona Farmers Market']),
 (['cafe', 'venetia', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['cafe', 'venetia', '<pad>', 'traffic_info'], ['@traffic_info'], ['car collision nearby']),
 (['cafe', 'venetia', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['cafe', 'venetia', '<pad>', 'address'], ['@address'], ['269 Alger Dr']),
 (['cafe', 'venetia', '<pad>', 'poi'], ['@poi'], ['Cafe Venetia']),
 (['5672', 'barringer', 'street', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['5672', 'barringer', 'street', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['5672', 'barringer', 'street', '<pad>', 'poi_type'], ['@poi_type'], ['certain address']),
 (['5672', 'barringer', 'street', '<pad>', 'address'], ['@address'], ['5672 barringer street']),
 (['5672', 'barringer', 'street', '<pad>', 'poi'], ['@poi'], ['5672 barringer street']),
 (['valero', '<pad>', 'distance'], ['@distance'], ['2 miles']),
 (['valero', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['valero', '<pad>', 'poi_type'], ['@poi_type'], ['gas station']),
 (['valero', '<pad>', 'address'], ['@address'], ['200 Alester Ave']),
 (['valero', '<pad>', 'poi'], ['@poi'], ['Valero']),
 (['stanford', 'childrens', 'health', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['stanford', 'childrens', 'health', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi_type'], ['@poi_type'], ['hospital']),
 (['stanford', 'childrens', 'health', '<pad>', 'address'], ['@address'], ['899 Ames Ct']),
 (['stanford', 'childrens', 'health', '<pad>', 'poi'], ['@poi'], ['Stanford Childrens Health']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info'], ['@traffic_info'], ['moderate traffic']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type'], ['@poi_type'], ['parking garage']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'address'], ['@address'], ['481 Amaranta Ave']),
 (['palo', 'alto', 'garage', 'r', '<pad>', 'poi'], ['@poi'], ['Palo Alto Garage R']),
 (['teavana', '<pad>', 'distance'], ['@distance'], ['1 miles']),
 (['teavana', '<pad>', 'traffic_info'], ['@traffic_info'], ['road block nearby']),
 (['teavana', '<pad>', 'poi_type'], ['@poi_type'], ['coffee or tea place']),
 (['teavana', '<pad>', 'address'], ['@address'], ['145 Amherst St']),
 (['teavana', '<pad>', 'poi'], ['@poi'], ['Teavana']),
 (['willows', 'market', '<pad>', 'distance'], ['@distance'], ['5 miles']),
 (['willows', 'market', '<pad>', 'traffic_info'], ['@traffic_info'], ['no traffic']),
 (['willows', 'market', '<pad>', 'poi_type'], ['@poi_type'], ['grocery store']),
 (['willows', 'market', '<pad>', 'address'], ['@address'], ['409 Bollard St']),
 (['willows', 'market', '<pad>', 'poi'], ['@poi'], ['Willows Market'])]

minibatch.src/trg: (['address', 'to', 'the', 'gas', 'station', '@dot', 'valero', 'is', 'located', 'at', '200', 'alester', 'ave', '.', '@dot', 'ok', ',', 'please', 'give', 'me', 'directions', 'via', 'a', 'route', 'that', 'avoids', 'all', 'heavy', 'traffic', '.', '@dot', 'since', 'there', 'is', 'a', 'road', 'block', 'nearby', ',', 'i', 'found', 'another', 'route', 'for', 'you', 'and', 'i', 'sent', 'it', 'on', 'your', 'screen', '@dot', 'awesome', 'thank', 'you'], ["you're", 'welcome', ';', 'drive', 'carefully', '.'])

batch_with_kb: current, kb_len, current+kb_len:  203 40 243

corresponding_kb: 2

example number: 6

kb_lkp array neighborhood of 2 (center item is corresponding_kb=kb_lkp[6]): [(4, 2), (5, 2), (6, 2), (7, 3), (8, 3)]
proc_batch: batch.src: ['address', 'to', 'the', 'gas', 'station', '@dot', 'valero', 'is', 'located', 'at', '200', 'alester', 'ave', '.', '@dot', 'ok', ',', 'please', 'give', 'me', 'directions', 'via', 'a', 'route', 'that', 'avoids', 'all', 'heavy', 'traffic', '.', '@dot', 'since', 'there', 'is', 'a', 'road', 'block', 'nearby', ',', 'i', 'found', 'another', 'route', 'for', 'you', 'and', 'i', 'sent', 'it', 'on', 'your', 'screen', '@dot', 'awesome', 'thank', 'you']
proc_batch: batch.trg: ["you're", 'welcome', ';', 'drive', 'carefully', '.']
proc_batch: kbkeys: [['sigona', 'farmers', 'market', '<pad>', 'distance', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'poi_type', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'address', '<pad>', '<pad>'], ['sigona', 'farmers', 'market', '<pad>', 'poi', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['cafe', 'venetia', '<pad>', 'poi', '<pad>', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'distance', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'poi_type', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'address', '<pad>', '<pad>'], ['5672', 'barringer', 'street', '<pad>', 'poi', '<pad>', '<pad>'], ['valero', '<pad>', 'distance', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'address', '<pad>', '<pad>', '<pad>', '<pad>'], ['valero', '<pad>', 'poi', '<pad>', '<pad>', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'distance', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'traffic_info', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'poi_type', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'address', '<pad>', '<pad>'], ['stanford', 'childrens', 'health', '<pad>', 'poi', '<pad>', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'distance', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'traffic_info', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'poi_type', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'address', '<pad>'], ['palo', 'alto', 'garage', 'r', '<pad>', 'poi', '<pad>'], ['teavana', '<pad>', 'distance', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'address', '<pad>', '<pad>', '<pad>', '<pad>'], ['teavana', '<pad>', 'poi', '<pad>', '<pad>', '<pad>', '<pad>'], ['willows', 'market', '<pad>', 'distance', '<pad>', '<pad>', '<pad>'], ['willows', 'market', '<pad>', 'traffic_info', '<pad>', '<pad>', '<pad>'], ['willows', 'market', '<pad>', 'poi_type', '<pad>', '<pad>', '<pad>'], ['willows', 'market', '<pad>', 'address', '<pad>', '<pad>', '<pad>'], ['willows', 'market', '<pad>', 'poi', '<pad>', '<pad>', '<pad>']]
proc_batch: kbvalues: [['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi'], ['@distance'], ['@traffic_info'], ['@poi_type'], ['@address'], ['@poi']]
debug: batch.kbtrv:[['3 miles'], ['car collision nearby'], ['grocery store'], ['638 Amherst St'], ['Sigona Farmers Market'], ['1 miles'], ['car collision nearby'], ['coffee or tea place'], ['269 Alger Dr'], ['Cafe Venetia'], ['5 miles'], ['no traffic'], ['certain address'], ['5672 barringer street'], ['5672 barringer street'], ['2 miles'], ['road block nearby'], ['gas station'], ['200 Alester Ave'], ['Valero'], ['5 miles'], ['moderate traffic'], ['hospital'], ['899 Ames Ct'], ['Stanford Childrens Health'], ['1 miles'], ['moderate traffic'], ['parking garage'], ['481 Amaranta Ave'], ['Palo Alto Garage R'], ['1 miles'], ['road block nearby'], ['coffee or tea place'], ['145 Amherst St'], ['Teavana'], ['5 miles'], ['no traffic'], ['grocery store'], ['409 Bollard St'], ['Willows Market']]
Time spent on converting arrays to sentences for current batch: 0.0008740425109863281
debug: kb_true_vals :torch.Size([3, 40])
debug: kb_true_vals content:tensor([[1664, 1636, 1637, 1756, 1755, 1644, 1636, 1665, 1790, 1791, 1672, 1632,
         1719, 1784, 1784, 1626, 1627, 1652, 1653, 1654, 1672, 1640, 1143, 1802,
         1803, 1644, 1640, 1628, 1670, 1671, 1644, 1627, 1665, 1666, 1667, 1672,
         1632, 1637, 1638, 1639],
        [1664, 1636, 1637, 1756, 1755, 1644, 1636, 1665, 1790, 1791, 1672, 1632,
         1719, 1784, 1784, 1626, 1627, 1652, 1653, 1654, 1672, 1640, 1143, 1802,
         1803, 1644, 1640, 1628, 1670, 1671, 1644, 1627, 1665, 1666, 1667, 1672,
         1632, 1637, 1638, 1639],
        [1664, 1636, 1637, 1756, 1755, 1644, 1636, 1665, 1790, 1791, 1672, 1632,
         1719, 1784, 1784, 1626, 1627, 1652, 1653, 1654, 1672, 1640, 1143, 1802,
         1803, 1644, 1640, 1628, 1670, 1671, 1644, 1627, 1665, 1666, 1667, 1672,
         1632, 1637, 1638, 1639]], device='cuda:0')
Time spent on kb_true_vals checks: 0.0031790733337402344
Time spent on knowledgebase attention dimensions == 1: 0.0001952648162841797
(13,) [17 10 23  3]
(tensor(-2.1972, device='cuda:0'), tensor([17, 10,  3], device='cuda:0')) <class 'tuple'>
(10, 6) [970   5 973  24   4   3]
(tensor(-2.0336, device='cuda:0'), tensor([970,   5, 973,  24,   4,   3], device='cuda:0')) <class 'tuple'>
